(this["webpackJsonpform-editor01"]=this["webpackJsonpform-editor01"]||[]).push([[0],{12:function(e,t,a){e.exports={selectItem:"SelectSearchable_selectItem__ytOvQ",selectedItem_delete:"SelectSearchable_selectedItem_delete__DzATU",selectSearchable:"SelectSearchable_selectSearchable__12vBI",selectSearchable_Container:"SelectSearchable_selectSearchable_Container__fToYi",selectSearchable_SearchContainer:"SelectSearchable_selectSearchable_SearchContainer__3eaGr",selectSearchable_ItemsContainer:"SelectSearchable_selectSearchable_ItemsContainer__34yKg",selectSearchable_Header:"SelectSearchable_selectSearchable_Header__20KCq",selectSearchable_SelectedContainer:"SelectSearchable_selectSearchable_SelectedContainer__3HBOF",selectSearchable_Trigger:"SelectSearchable_selectSearchable_Trigger__2brz3",selectSearchable_SelectedItem:"SelectSearchable_selectSearchable_SelectedItem__ya07B",selectSearchable_SelectedItem_Selected:"SelectSearchable_selectSearchable_SelectedItem_Selected__3kePe",selectSearchable_List:"SelectSearchable_selectSearchable_List__12txV",listCollapsed:"SelectSearchable_listCollapsed__2gYJk",ListSmall:"SelectSearchable_ListSmall__24zac",ListMedium:"SelectSearchable_ListMedium__3_qlO",ListLarge:"SelectSearchable_ListLarge__m6apt"}},17:function(e,t,a){e.exports={modalBackdrop:"Modal_modalBackdrop__12d43",modalBackdrop_freeze:"Modal_modalBackdrop_freeze__1CiMV",modalContainer:"Modal_modalContainer__2JZ38",modalHeader:"Modal_modalHeader__3lu0c",modalContent:"Modal_modalContent__5WIER",modalFooter:"Modal_modalFooter__2egbG",modalBtn:"Modal_modalBtn__296dr",modalClose:"Modal_modalClose__2fnre"}},20:function(e,t,a){e.exports={loginBackdrop:"Login_loginBackdrop__2-vXb",loginBackdrop_freeze:"Login_loginBackdrop_freeze__30wYs",loginContainer:"Login_loginContainer__1-kGp",loginHeader:"Login_loginHeader__1dDHJ",loginContent:"Login_loginContent__pNQUT",loginFooter:"Login_loginFooter__1T3EA",loginClose:"Login_loginClose__EEt8w"}},25:function(e,t,a){e.exports={timePicker:"DateTimeInput_timePicker__g55DG",datePicker:"DateTimeInput_datePicker__fMbwV",dateTimeContainer:"DateTimeInput_dateTimeContainer__3DJHa",btnClear:"DateTimeInput_btnClear__1hSf7"}},30:function(e,t,a){e.exports={datePicker:"DateInput_datePicker__1qUGn",dateContainer:"DateInput_dateContainer__3vsHd",btnClear:"DateInput_btnClear__hBuJA"}},31:function(e,t,a){e.exports={timePicker:"TimeInput_timePicker__1bwP3",timeContainer:"TimeInput_timeContainer__15bEw",btnClear:"TimeInput_btnClear__3Cafn"}},36:function(e,t,a){e.exports={container:"Figure_container__1bF2w",btnClose:"Figure_btnClose__3UDU7"}},37:function(e,t,a){e.exports={row:"Tabulation_row__1qqOd",title:"Tabulation_title__2BmpY"}},47:function(e,t,a){e.exports={fixed:"JsonReader_fixed__1abV0"}},48:function(e,t,a){e.exports=a(77)},53:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(27),l=a.n(r),o=(a(53),a(1)),i=a(19),s=Object(i.b)({name:"json",initialState:{value:JSON.parse(localStorage.getItem("json"))||{},documentStatus:"loaded",currentAction:"",currentUser:"",currentContact:{name:"",phoneNumber:"",companyName:""},repeaterValue:[]},reducers:{setJson:function(e,t){console.log("setJson : ",t.payload),e.value=t.payload,localStorage.setItem("json",JSON.stringify(t.payload))},setDocumentStatus:function(e,t){e.documentStatus=t.payload},setCurrentAction:function(e,t){e.currentAction=t.payload},setCurrentUser:function(e,t){e.currentUser=t.payload},setCurrentContact:function(e,t){e.currentContact=t.payload},setRepeaterValue:function(e,t){e.repeaterValue=t.payload}}}),m=s.actions,u=m.setJson,d=m.setDocumentStatus,b=m.setCurrentAction,f=m.setCurrentUser,E=m.setCurrentContact,v=m.setRepeaterValue,p=function(e){return e.json.value},g=function(e){return e.json.documentStatus},N=function(e){return e.json.currentAction},S=function(e){return e.json.currentUser},h=function(e){return e.json.currentContact},O=function(e){return e.json.repeaterValue},y=s.reducer,j=Object(i.b)({name:"tabulation",initialState:{value:0},reducers:{callSection:function(e,t){e.value=t.payload},prevSection:function(e){e.value-=1},nextSection:function(e){e.value+=1}}}),C=j.actions,I=C.callSection,w=C.prevSection,T=C.nextSection,J=function(e){return e.tabulation.value},k=j.reducer,x=Object(i.b)({name:"display",initialState:{value:{},debugMode:!1,errorMsg:""},reducers:{setControls:function(e,t){e.value=t.payload},setDebugMode:function(e,t){e.debugMode=t.payload},setOpenListId:function(e,t){e.openListId=t.payload},setErrorMsg:function(e,t){e.errorMsg=t.payload},clearErrorMsg:function(e){e.errorMsg=""}}}),_=x.actions,D=_.setControls,V=_.setDebugMode,L=_.setOpenListId,M=_.setErrorMsg,B=(_.clearErrorMsg,function(e){return e.display.value}),A=function(e){return e.display.debugMode},F=function(e){return e.display.openListId},P=function(e){return e.display.errorMsg},R=x.reducer,H=a(4),z=a(3);function Y(){var e=Object(o.b)(),t=Object(o.c)(A),a=Object(o.c)(g),n=JSON.parse(localStorage.getItem("initialJson"))||{};return c.a.createElement("div",{id:"jsonOptions",className:"".concat("modified"===a?"options-visible":"options-hidden")},c.a.createElement("button",{className:"btn btn-ternary btn-small btn-label",onClick:function(t){e(I(0)),e(u(n))}},c.a.createElement(H.a,{icon:z.j,style:{transform:"scaleX(-1)",marginLeft:0}}),"REVERT CHANGES"),c.a.createElement("button",{className:"btn btn-ternary btn-small btn-label",onClick:function(t){e(u({}))}},c.a.createElement(H.a,{icon:z.n,style:{marginLeft:0}}),"CLEAR DOCUMENT"),c.a.createElement("div",{className:"debug"},c.a.createElement("label",{htmlFor:"debug"},"Debug"),c.a.createElement("input",{type:"checkbox",name:"debug",id:"debug",className:"debug-check",checked:t,onChange:function(t){return e(V(t.target.checked))}})))}var U=a(2);var G=function(e){var t=Object(o.c)(p),a=Object(o.b)(),n=t.Sections&&t.Sections.length>0?t.Sections.map((function(e,t){return"Document.TableOfContents"===e.Elements[0].Type?null:c.a.createElement("li",{key:t},c.a.createElement("button",{className:"btn btn-secondary-outlined btn-link fixed-large",onClick:function(){a(I(t))}},e.Title,c.a.createElement(H.a,{icon:z.d})))})):"";return c.a.createElement("ul",{className:"toc-list"},n)};var X=function(e){var t=e.controlJson,a=t.Type,n=t.Title,r=t.Id,l=t.Data,i=t.IsVisible,s=void 0===i||i,m=Object(o.c)(A),u=Object(o.b)(),d=l.map((function(e,t){return c.a.createElement("option",{key:t,value:t},e)}));return s?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(m?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("label",{htmlFor:"listmulticontrol"},n),c.a.createElement("select",{name:"listmulticontrol",id:"listmulticontrol",onChange:function(e){var a=Number(e.target.value);if(a>=0){var n=void 0!==t.OptionedControls[a].Controls?t.OptionedControls[a].Controls:[],c=[];t.OptionedControls.forEach((function(e,t){void 0!==e.Controls&&t!==a&&e.Controls.forEach((function(e){return c.push(e)}))})),u(D({hiddenControls:c,visibleControls:n}))}}},c.a.createElement("option",{value:"-1"},"-----"),d))):""};var Q=function(e){var t=e.controlJson,a=t.Type,n=t.Title,r=t.Id,l=t.IsVisible,i=void 0===l||l,s=t.FontAttributes,m=t.FontSize,u=void 0===m?14:m,d=t.Margin,b=void 0===d?0:d,f=t.HasUnderLine,E=void 0!==f&&f,v=Object(o.c)(A);return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(v?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("div",{className:"control",style:{fontSize:u-2+"px",fontWeight:"Bold"===s?"bold":"",fontStyle:"Italic"===s?"italic":"",borderBottom:E?"1px solid black":"",padding:b?b+"px":""}},n))):""},q=a(15),K=a(17),W=a.n(K),Z=a(8);function $(e){var t=e.visibility,a=e.toggleVisibility,n=e.message,r=e.css,l=e.backdrop,o=e.callback,i=Object(Z.c)({opacity:t?1:0,from:{opacity:0,zIndex:10},config:Z.b.gentle}),s=Object(Z.c)({opacity:t?1:0,top:t?0:-25,from:{opacity:0},config:Z.b.stiff}),m=o?c.a.createElement("div",null,c.a.createElement("button",{className:W.a.modalBtn,onClick:a},"Cancel"),c.a.createElement("button",{className:W.a.modalBtn,onClick:o},"OK")):c.a.createElement("button",{className:W.a.modalBtn,onClick:a},"OK");var u=l?{backgroundColor:l}:"";return c.a.createElement(Z.a.div,{style:i},c.a.createElement("div",{id:"backdrop",className:"".concat(W.a.modalBackdrop," ").concat(t?"":W.a.modalBackdrop_freeze),onClick:function(e){"backdrop"===e.target.id&&a()},style:u},c.a.createElement(Z.a.div,{style:s},c.a.createElement("div",{className:W.a.modalContainer,style:r},c.a.createElement("div",{className:W.a.modalClose,onClick:a},c.a.createElement(H.a,{icon:z.m})),c.a.createElement("div",{className:W.a.modalHeader},c.a.createElement(H.a,{icon:z.e})),c.a.createElement("div",{className:W.a.modalContent},n),c.a.createElement("div",{className:W.a.modalFooter},m)))))}var ee=function(e){var t=e.controlJson,a=t.Type,r=t.Title,l=t.Id,i=t.IsVisible,s=void 0===i||i,m=t.IsEnabled,u=void 0===m||m,d=t.Value,b=void 0===d?"":d,f=t.Format,v=t.Warning,p=void 0!==v&&v,g=t.WarningMessage,N=t.Mandatory,S=t.ValidationMessage,O=t.AssociatedId,y=Object(o.c)(A),j=Object(o.c)(h),C=Object(o.b)(),I=Object(n.useState)(!1),w=Object(U.a)(I,2),T=w[0],J=w[1],k=Object(n.useState)(N?{message:S,bgColor:"#EF643C"}:{message:g,bgColor:"#000000"}),x=Object(U.a)(k,2),_=x[0],D=x[1],V=/^[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/,L=[49,50,51,52,53,54,55,56,57,48,189,16,57,48,16,187,32,8,35];function M(a){O&&O.Names.length>0&&("ManualSMSName"===l&&C(E(Object(q.a)({},j,{name:a.target.value}))),"ManualSMSPhone"===l&&C(E(Object(q.a)({},j,{phoneNumber:a.target.value}))),"ManualEmailName"===l&&C(E(Object(q.a)({},j,{name:a.target.value}))),"ManualEmailEmail"===l&&C(E(Object(q.a)({},j,{email:a.target.value}))));var n=JSON.parse(JSON.stringify(t));n.Value=a.target.value,e.updateJson(n)}function B(e){var t=e.target;p&&""===t.value&&J(!0),N&&""===t.value&&(t.focus(),J(!0)),void 0!==f&&"Email"===f.Keyboard&&(V.test(e.target.value.toLowerCase())||(D({message:"The email address provided appears not to be valid",bgColor:"#000000"}),J(!0)))}Object(n.useEffect)((function(){}),[t]);var F=void 0!==f?void 0!==f.Lines?c.a.createElement("textarea",{id:l,rows:f.Lines,onChange:M}):"Numeric"===f.Keyboard?c.a.createElement("input",{type:"number",min:f.Min,max:f.Max,size:f.Decimal,onChange:M}):"Telephone"===f.Keyboard?c.a.createElement("input",{type:"text",maxLength:"20",onKeyDown:function(e){"Telephone"===f.Keyboard&&(L.includes(e.keyCode)||e.preventDefault())},onChange:M}):c.a.createElement("input",{id:l,type:"text",value:b,maxLength:f.VarChar||-1,disabled:!u,onBlur:B,onChange:M}):c.a.createElement("input",{id:l,type:"text",value:b,disabled:!u,onBlur:B,onChange:M}),P=g?"*":"",R=N?c.a.createElement("span",{className:"warning-red"},"*"):"";return s?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(y?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("label",{htmlFor:"title"},r," ",P,R),F),c.a.createElement($,{visibility:T,toggleVisibility:function(){return J(!T)},message:"".concat(l,": ").concat(_.message),css:{backgroundColor:_.bgColor},backdrop:"rgba(0,0,0,0.3)"})):""},te=a(14),ae=a(45),ne=a.n(ae);function ce(e){return e.split(".").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("")}function re(e,t){var a=oe(e).Sections,n=[];return"undefined"!==t&&a.forEach((function(e,a){e.Elements.forEach((function(e,c){e.hasOwnProperty("Elements")&&e.Elements.forEach((function(e,r){e.hasOwnProperty("Elements")&&e.Elements.forEach((function(e,l){void 0!==e.Id&&e.Id===t&&n.push([a,c,r,l])})),void 0!==e.Id&&e.Id===t&&n.push([a,c,r])})),void 0!==e.Id&&e.Id===t&&n.push([a,c])}))})),n}function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return new Date(e)}function oe(e){return ne()(e,{deep:!0,pascalCase:!0})}var ie=[];function se(e){var t=ie.findIndex((function(t){return t.Id===e.Id}));if(console.log("---\x3e: addToDocumentExport -> controlIndex",t),-1===t)ie.push(e);else{var a=Object(q.a)({},ie[t]);ie[t]=Object(q.a)({},a,{},e)}console.log("exportMetaData :"),console.table(ie)}var me=function e(t){var a=t.controlJson,n=a.Type,r=a.Title,l=a.Id,i=a.Elements,s=a.IsVisible,m=void 0===s||s,u=Object(o.b)(),d=Object(o.c)(O),b=Object(o.c)(A),f={DocumentTableOfContents:G,ListMulticontrol:X,Label:Q,Text:ee,Repeatable:e,ButtonSubmitPurchase:ue,ButtonAddDocketNumber:de,API:be,Date:Se,Image:je,ImageSingle:Ce,ButtonAddReportDate:Ie,QRScanner:Je,QRScannerList:ke,Signature:_e,SignatureDateTime:De,SignatureDate:Ve,Matrix:Le,Checkbox:Me,Boolean:Be,Trilean:Ae,TrileanLabel:Fe,ListSingle:Pe,ListMultiple:Re,Time:Ge,DateTime:Ke,TimeLabel:We,DateLabel:Ze,ButtonAddSignature:$e,RegisterSignatures:et,SearchableListEntryDialogSMS:ct,ButtonAddSMS:rt,SearchableSMSListView:lt,SearchableListEntryDialogEmail:ot,ButtonAddEmail:it,SearchableEmailListView:st,MatrixButton:mt,DocumentSummaryGrid:ut,ButtonSubmitRegister:dt,ButtonCloseout:bt,ButtonViewDocument:ft},E=d.map((function(e,t){var a=i.map((function(a,n){e.forEach((function(e,t){a.Id===e.Id&&(a=Object(q.a)({control:a},e))}));var r=ce(a.Type),l=f[r];return c.a.createElement(l,{key:n,controlJson:a,updateJson:function(e){return function(e,t){var a=d[t].findIndex((function(t){return t.Id===e.Id})),n=Object(te.a)(d);console.log("---\x3e: updateJsonHandler -> newRepeaterValues",n),console.log("---\x3e: updateJsonHandler -> newRepeaterValues[pRepeaterIndex][repeaterControlIndex]",n[t][a]),n[t]=[].concat(Object(te.a)(n[t]),[e]),u(v(n))}(e,t)}})}));return c.a.createElement("div",{className:"repeatable",key:"rep-".concat(t)},c.a.createElement("div",{className:"repeatable-header"},c.a.createElement("h3",{className:"repeatable-title"},"[",t+1,"] ",r),c.a.createElement("button",{className:"btn btn-secondary btn-small",onClick:function(e){return a=t,void u(v(Object(te.a)(d.filter((function(e,t){return t!==a})))));var a}},"Remove",c.a.createElement(H.a,{icon:z.m}))),a)}));return m?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(b?"":"hidden")},n,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(a),disabled:!0})),c.a.createElement("div",{className:"control"},E,c.a.createElement("button",{className:"btn btn-primary",onClick:function(){u(v([].concat(Object(te.a)(d),[i])))}},c.a.createElement(H.a,{icon:z.i})))):""};var ue=function(e){var t=e.controlJson,a=t.Title,r=t.Id,l=t.IsVisible,o=void 0===l||l,i=Object(n.useState)(!1),s=Object(U.a)(i,2),m=s[0],u=s[1];return o?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){u(!m)}},"ButtonSubmitPurchase",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r)),c.a.createElement("textarea",{className:m?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},a))):""};var de=function(e){var t=e.controlJson,a=t.Title,r=t.Id,l=t.IsVisible,o=void 0===l||l,i=Object(n.useState)(!1),s=Object(U.a)(i,2),m=s[0],u=s[1];return o?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){u(!m)}},"ButtonAddDocketNumber",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r)),c.a.createElement("textarea",{className:m?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},a))):""};var be=function(e){var t=e.controlJson,a=t.Title,r=t.Type,l=t.Id,i=t.IsVisible,s=void 0===i||i,m=t.Value,u=void 0===m?"":m,d=t.Api,b=t.IncludePhoneNumber,f=t.IncludeEmail,E=t.IncludeTitle,v=t.IncludeBusinessNumber,p=t.IncludeAbbreviation,g=t.IncludeCode,N=String(d).toLowerCase(),S=Object(o.b)(),h=Object(o.c)(A),O=Object(n.useState)(!0),y=Object(U.a)(O,2),j=y[0],C=y[1],I=Object(n.useState)(""),w=Object(U.a)(I,2),T=w[0],J=w[1],k=Object(n.useState)([]),x=Object(U.a)(k,2),_=x[0],D=x[1],V=Object(n.useState)([]),M=Object(U.a)(V,2),B=M[0],P=M[1],R=Object(n.useState)(u.constructor===String?[u]:u),Y=Object(U.a)(R,2),G=Y[0],X=Y[1],Q=Object(o.c)(F),q=Object(Z.c)({height:j?0:200}),K=Object(Z.d)(G.length,{from:{opacity:0,marginLeft:-12,marginTop:-6,transform:"scaleX(0.6) scaleY(0.8)"},to:{opacity:1,marginLeft:0,marginTop:0,transform:"scaleX(1) scaleY(1)"},config:Z.b.stiff}),W="".concat("https://api-uat.extrack.com/V1.0/").concat(function(){switch(N){case"projectcompany":return"Project/".concat(1249,"/Directory/Companies");case"projectcontacts":return"Project/".concat(1249,"/Directory/Contacts");case"globalcontacts":return"Org/contacts";case"dockettypes":return"/Docket/Types";case"abs":return"Project/".concat(1249,"/ABS");case"tbs":return"Project/".concat(1249,"/TBS");case"cbs":return"Project/".concat(1249,"/CbsWo");case"dbs":return"Project/".concat(1249,"/DBS");case"fbs":return"Project/".concat(1249,"/FBS");case"wbs":return"Project/".concat(1249,"/WBS");case"pcbs":return"Project/".concat(1249,"/PCBS");case"pbs":return"Project/".concat(1249,"/PBS")}}()),$=JSON.parse(localStorage.getItem("dynFormToken")),ee=new Headers;ee.append("Authorization","Bearer ".concat($.access_token)),ee.append("Content-Type","application/x-www-form-urlencoded");var te={method:"GET",headers:ee,redirect:"follow"};function ae(e){var t=e.target.id;G[0]!==t?X([t]):X([]),ne(t)}function ne(a){var n=JSON.parse(JSON.stringify(t));n.Value===a?n.Value="":(n.Value=a,C(!0)),e.updateJson(n)}Object(n.useEffect)((function(){fetch(W,te).then((function(e){return e.text()})).then((function(e){var t=JSON.parse(e).map((function(e,t){var a,n,c,r,l,o,i,s;switch(d){case"ProjectContacts":n=b?" | ".concat(e.Contact.Number||"n/a"):"",c=f?" | ".concat(e.Contact.Email||"n/a"):"",a="".concat(e.Contact.NameFirst," ").concat(e.Contact.NameLast," | ").concat(e.Company.Name).concat(n).concat(c);break;case"GlobalContacts":n=b?" | ".concat(e.Number||"n/a"):"",c=f?" | ".concat(e.Email||"n/a"):"",a="".concat(e.NameFirst," ").concat(e.NameLast," | ").concat(e.CompanyName).concat(n).concat(c);break;case"ProjectCompany":r=E?" | ".concat(e.Title||"n/a"):"",l=v?" | ".concat(e.Company.Abn||"n/a"):"",o=p?" | ".concat(e.Company.Abbr||"n/a"):"",a="".concat(e.Company.Name).concat(r).concat(l).concat(o);break;case"DocketTypes":a="".concat(e.Title);break;default:r=E?"".concat(e.Title||"n/a"):"",i=g?"".concat(e.Code||"n/a"):"",s=g&&E?" | ":"",a="".concat(r).concat(s).concat(i)}return a}));D(t)})).catch((function(e){return console.log("error",e)}))}),[]),Object(n.useEffect)((function(){j||S(L(l))}),[j,l,S]),Object(n.useEffect)((function(){Q!==l&&C(!0)}),[Q,l]),Object(n.useEffect)((function(){P(_.filter((function(e){return e.toLowerCase().includes(T.toLowerCase())})))}),[_,T]);var ce=j?"":B.map((function(e,t){var a=e===u,n=a?c.a.createElement(H.a,{icon:z.c}):"";return c.a.createElement("div",{key:t,id:e,className:"input-list-item ".concat(a?"selected-list-item":""),onClick:ae},n,e)})),re=K.map((function(e,t){var a=G[t];return""!==a?c.a.createElement(Z.a.div,{className:"input-select-item",style:e,key:t},a,c.a.createElement("button",{id:a,className:"remove-item"})):""}));return s?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(h?"":"hidden")},r,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,a),c.a.createElement("div",{className:"input-select",onClick:function(e){var t=e.target;if("input-select"===t.className||"input-select-items"===t.className)C(!j);else if("remove-item"===t.className){var a=t.parentNode.innerText;""!==a&&(ne(""),X(G.filter((function(e){return e!==a}))))}}},c.a.createElement("div",{className:"input-select-items"},re),c.a.createElement(H.a,{icon:j?z.a:z.b,onClick:function(e){C(!j)}})),c.a.createElement(Z.a.div,{style:q,className:"input-list"},c.a.createElement("div",{className:"input-list-searchbar"},c.a.createElement("input",{type:"text",placeholder:"Search",className:"input-list-search",value:T,onChange:function(e){return J(e.target.value)}}),c.a.createElement(H.a,{icon:z.m,onClick:function(e){return J("")}})),c.a.createElement("div",{className:"input-list-items"},ce)))):""},fe=a(82),Ee=a(79),ve=a(80),pe=a(30),ge=a.n(pe);function Ne(e){var t=e.format.replace(/ddd/g,"eee"),a=Object(n.useState)(e.dateValue),r=Object(U.a)(a,2),l=r[0],o=r[1];var i=""===l?l:Object(fe.a)(Object(Ee.a)(Object(ve.a)(new Date(l+" "+(new Date).toTimeString()),e.modifiers.AddDay),e.modifiers.AddMonth),t);return c.a.createElement("div",{className:ge.a.dateContainer},c.a.createElement("input",{type:"date",name:"",id:"",className:ge.a.datePicker,defaultValue:l,onChange:function(t){return a=t.target.value,o(a),void e.onDateChange(a);var a}}),i,c.a.createElement(H.a,{className:ge.a.btnClear,icon:z.m,onClick:function(){o(""),e.onDateChange("")}}))}var Se=function(e){var t=e.controlJson,a=t.Type,r=t.Title,l=t.Id,i=t.FormatDateTime,s=void 0===i?"yyyy-MM-dd":i,m=t.IsBlank,u=void 0!==m&&m,d=t.IsVisible,b=void 0===d||d,f=t.AddDay,E=void 0===f?0:f,v=t.AddMonth,p=void 0===v?0:v,g=t.DateValue,N=Object(o.c)(A),S=""===g||void 0===g?"".concat(le().toDateString()):g,h=Object(n.useState)(u?"":S),O=Object(U.a)(h,2),y=O[0],j=O[1];return b?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(N?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,r),c.a.createElement(Ne,{format:s,dateValue:y,modifiers:{AddDay:E,AddMonth:p},onDateChange:function(a){return function(a){j(a);var n=JSON.parse(JSON.stringify(t));""!==a?n.DateValue=a:delete n.DateValue,n.IsBlank=""===a,e.updateJson(n)}(a)}}))):""},he=a(36),Oe=a.n(he);function ye(e){return c.a.createElement("div",{className:Oe.a.container},c.a.createElement("img",{src:e.source,alt:"figure"}),c.a.createElement("div",{className:Oe.a.btnClose,onClick:function(t){e.onClose(t)}},c.a.createElement(H.a,{icon:z.m})))}var je=function(e){var t=e.controlJson,a=t.Type,r=t.Title,l=t.Id,i=(t.Data,t.IsVisible),s=void 0===i||i,m=t.Images,u=void 0===m?[]:m,d=Object(o.c)(A),b=Object(n.useState)(""),f=Object(U.a)(b,2);function E(e){console.log("---\x3e ",e)}f[0],f[1],Object(n.useEffect)((function(){}),[t]);var v=u.map((function(e,t){return c.a.createElement("div",{className:"control-row",key:"image".concat(t)},c.a.createElement(ye,{source:"data:image/png; base64, ".concat(e),onClose:E}))}));return s?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(d?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("div",{className:"control-row"},c.a.createElement("h3",{htmlFor:"title"},r),c.a.createElement("label",{htmlFor:"file",className:"btn btn-primary btn-label"},c.a.createElement(H.a,{icon:z.h}),"Select an image"),c.a.createElement("input",{type:"file",id:"file",name:"file",className:"btn-file",onChange:function(e){console.log("pEvent: ",e)}})),v)):""};var Ce=function(e){var t=e.controlJson,a=t.Type,r=t.Title,l=t.Id,i=(t.Data,t.IsVisible),s=void 0===i||i,m=t.Value,u=void 0===m?"":m,d=Object(o.c)(A);Object(n.useEffect)((function(){}),[t]);var b=""!==u?c.a.createElement(ye,{source:"data:image/png; base64, ".concat(u),onClose:function(a){console.log("---\x3e ",a);var n=JSON.parse(JSON.stringify(t));delete n.Value,e.updateJson(n)}}):"";return s?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(d?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("div",{className:"control-row"},c.a.createElement("h3",{htmlFor:"title"},r),c.a.createElement("label",{htmlFor:"file",className:"btn btn-primary btn-label"},c.a.createElement(H.a,{icon:z.h}),"Select an image"),c.a.createElement("input",{type:"file",id:"file",name:"file",className:"btn-file",onChange:function(a){var n,c=new FileReader;c.onload=function(a){n=a.target.result.replace("data:image/png;base64,","");var c=JSON.parse(JSON.stringify(t));c.Value=n,e.updateJson(c)},c.readAsDataURL(a.target.files[0])}})),c.a.createElement("div",{className:"control-row"},b))):""};var Ie=function(e){var t=e.controlJson,a=t.Title,r=t.Id,l=t.IsVisible,o=void 0===l||l,i=Object(n.useState)(!1),s=Object(U.a)(i,2),m=s[0],u=s[1];return o?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){u(!m)}},"ButtonAddReportDate",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r)),c.a.createElement("textarea",{className:m?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},a))):""},we=a(29),Te=a.n(we);var Je=function(e){var t=e.controlJson,a=t.Type,r=t.Title,l=t.Id,i=t.IsVisible,s=void 0===i||i,m=t.Value,u=t.DateTimeValue,d=Object(n.useState)(!1),b=Object(U.a)(d,2),f=b[0],E=b[1],v=Object(o.c)(A);function p(a,n){var c=JSON.parse(JSON.stringify(t));c.Value=a,c.DateTimeValue=n,e.updateJson(c)}var g=f?c.a.createElement(Te.a,{delay:300,onError:function(e){console.error(e)},onScan:function(e){e&&(p(e,Object(fe.a)(new Date,"yyyy-MM-dd hh:mm a")),E(!1))},style:{width:"100%"}}):"",N=f?"":c.a.createElement("button",{className:"btn btn-primary",onClick:function(){return E(!f)}},"Scan a code");return s?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(v?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,r),c.a.createElement("div",{className:"control-row"},N,g),c.a.createElement("div",{className:"control-row"},c.a.createElement("div",{className:"qrscan-record qrscan-record-3cols"},c.a.createElement("div",null,m),c.a.createElement("div",null,u),c.a.createElement("button",{className:"btn btn-secondary btn-small",onClick:function(){p("","")}},"delete"))))):""};var ke=function(e){var t=e.controlJson,a=t.Type,r=t.Title,l=t.Id,i=t.IsVisible,s=void 0===i||i,m=t.Value,u=(t.DateTimeValue,Object(n.useState)(!1)),d=Object(U.a)(u,2),b=d[0],f=d[1],E=Object(n.useState)(-1),v=Object(U.a)(E,2),p=v[0],g=v[1],N=Object(o.c)(A),S=Object(n.useState)(!1),h=Object(U.a)(S,2),O=h[0],y=h[1],j=Object(n.useState)({message:""}),C=Object(U.a)(j,2),I=C[0],w=C[1];function T(a){var n=JSON.parse(JSON.stringify(t));n.Value=JSON.stringify(a),e.updateJson(n)}Object(n.useEffect)((function(){console.log("---\x3e: QRScannerList -> scanOffIndex",p),p>=0&&f(!0)}),[p]);var J=b?c.a.createElement(Te.a,{delay:300,onError:function(e){console.error(e)},onScan:function(e){if(e){var t=JSON.parse(m);p<0?t.push({Id:t.length,Name:e,ScanOnDateTime:Object(fe.a)(new Date,"yyyy-MM-dd hh:mm a")}):(e===t[p].Name?t[p].ScanOffDateTime=Object(fe.a)(new Date,"yyyy-MM-dd hh:mm a"):(w({message:"Please rescan the same QR code to sign off",bgColor:"#000000",callback:null}),y(!0)),g(-1)),T(t),f(!1)}},style:{width:"100%"}}):"",k=b?"":c.a.createElement("button",{className:"btn btn-primary",onClick:function(){return f(!b)}},"Add to QR Scanner list"),x=JSON.parse(m).map((function(e,t){return c.a.createElement("div",{key:"scan".concat(t),className:"qrscan-record"},c.a.createElement("div",null,e.Name),c.a.createElement("div",null,e.ScanOnDateTime||c.a.createElement("button",{className:"btn btn-primary btn-small",onClick:function(){return g(t)}},"Scan Off")),c.a.createElement("div",null,e.ScanOffDateTime||c.a.createElement("button",{className:"btn btn-primary btn-small",onClick:function(){return g(t)}},"Scan Off")),c.a.createElement("button",{className:"btn btn-secondary btn-small",onClick:function(){return e=t,w({message:"Are you sure you want to delete?",bgColor:"#000000",callback:function(){T(JSON.parse(m).filter((function(t,a){return a!==e}))),y(!1)}}),void y(!0);var e}},"delete"))}));return s?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(N?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,r),c.a.createElement("div",{className:"control-row"},k,J),c.a.createElement("div",{className:"control-row"},c.a.createElement("div",{className:"qrscan-record"},c.a.createElement("div",null,"Name"),c.a.createElement("div",null,"Scan On"),c.a.createElement("div",null,"Scan Off"),c.a.createElement("span",null)),x)),c.a.createElement($,{visibility:O,toggleVisibility:function(){return y(!O)},message:I.message,css:{backgroundColor:"#000000"},backdrop:"rgba(0,0,0,0.3)",callback:I.callback})):""},xe=a(18);var _e=function(e){var t=e.controlJson,a=t.Type,r=t.Title,l=t.Id,i=t.IsVisible,s=void 0===i||i,m=t.Signature,u=void 0===m?"":m,d=Object(n.useRef)(null),b=Object(o.c)(A),f=Object(o.c)(S),E=Object(n.useState)(),v=Object(U.a)(E,2),p=v[0],g=v[1],N=Object(n.useState)(""),h=Object(U.a)(N,2),O=h[0],y=h[1],j=Object(n.useState)(!1),C=Object(U.a)(j,2),I=C[0],w=C[1];Object(n.useEffect)((function(){O.length>0&&xe.a(d.current).then((function(a){var n=a.replace("data:image/png;base64,",""),c=JSON.parse(JSON.stringify(t));c.Signature=n,e.updateJson(c)})).catch((function(e){console.error("oops, something went wrong!",e)}))}),[O]);var T=[{label:"Style 01",name:"signature-font01"},{label:"Style 02",name:"signature-font02"},{label:"Style 03",name:"signature-font03"},{label:"Style 04",name:"signature-font04"}].map((function(e,t){return c.a.createElement("option",{key:t,value:e.name},e.label)})),J=I?c.a.createElement("div",{className:"control-row control-inline"},c.a.createElement("input",{type:"text",name:"signatureText",id:"signatureText",placeholder:"Your Name",onChange:function(e){g(e.target.value)}}),c.a.createElement("select",{name:"fontDropdown",id:"fontDropdown",onChange:function(e){y(e.target.value)}},c.a.createElement("option",{value:""},"Choose a style"),T)):"",k=I?"":c.a.createElement("div",{className:"control-row"},c.a.createElement("button",{className:"btn btn-primary btn-small",onClick:function(e){w(!I)}},"Sign")),x=c.a.createElement("img",{src:"data:image/png;base64,".concat(u),id:l,alt:"",width:"400px"});return s?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(b?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,r),J,c.a.createElement("div",{className:"control-row"},k,c.a.createElement("div",{className:"signature-display"},x))),c.a.createElement("div",{id:"signaturePad"}),c.a.createElement("div",{className:"signature-container"},c.a.createElement("div",{ref:d,className:"signature-preview ".concat(O)},p,c.a.createElement("div",{className:"signature-user"},f)))):""};var De=function(e){var t=e.controlJson,a=t.Type,r=t.Title,l=t.Id,i=t.IsVisible,s=void 0===i||i,m=t.Signature,u=t.DateTimeValue,d=Object(n.useRef)(null),b=Object(o.c)(A),f=Object(o.c)(S),E=Object(n.useState)(),v=Object(U.a)(E,2),p=v[0],g=v[1],N=Object(n.useState)(""),h=Object(U.a)(N,2),O=h[0],y=h[1],j=Object(n.useState)(!1),C=Object(U.a)(j,2),I=C[0],w=C[1];Object(n.useEffect)((function(){O.length>0&&xe.a(d.current).then((function(a){var n=a.replace("data:image/png;base64,",""),c=JSON.parse(JSON.stringify(t));c.Signature=n,c.DateTimeValue=Object(fe.a)(new Date,"yyyy-MM-dd hh:mm:ss"),e.updateJson(c)})).catch((function(e){console.error("oops, something went wrong!",e)}))}),[O]);var T=[{label:"Style 01",name:"signature-font01"},{label:"Style 02",name:"signature-font02"},{label:"Style 03",name:"signature-font03"},{label:"Style 04",name:"signature-font04"}].map((function(e,t){return c.a.createElement("option",{key:t,value:e.name},e.label)})),J=I?c.a.createElement("div",{className:"control-row control-inline"},c.a.createElement("input",{type:"text",name:"signatureText",id:"signatureText",placeholder:"Your Name",onChange:function(e){g(e.target.value)}}),c.a.createElement("select",{name:"fontDropdown",id:"fontDropdown",onChange:function(e){y(e.target.value)}},c.a.createElement("option",{value:""},"Choose a style"),T)):"",k=I?"":c.a.createElement("div",{className:"control-row"},c.a.createElement("button",{className:"btn btn-primary btn-small",onClick:function(e){w(!I)}},"Sign")),x=c.a.createElement("img",{src:"data:image/png;base64,".concat(m),alt:"",width:"400px"});return s?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(b?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,r),J,c.a.createElement("div",{className:"control-row"},k,c.a.createElement("div",{className:"signature-display"},x,c.a.createElement("div",{className:"signature-timestamp"},u)))),c.a.createElement("div",{id:"signaturePad"}),c.a.createElement("div",{className:"signature-container"},c.a.createElement("div",{ref:d,className:"signature-preview ".concat(O)},p,c.a.createElement("div",{className:"signature-user"},f)))):""};var Ve=function(e){var t=e.controlJson,a=t.Type,r=t.Title,l=t.Id,i=t.IsVisible,s=void 0===i||i,m=t.Signature,u=t.DateValue,d=Object(n.useRef)(null),b=Object(o.c)(A),f=Object(o.c)(S),E=Object(n.useState)(),v=Object(U.a)(E,2),p=v[0],g=v[1],N=Object(n.useState)(""),h=Object(U.a)(N,2),O=h[0],y=h[1],j=Object(n.useState)(!1),C=Object(U.a)(j,2),I=C[0],w=C[1];Object(n.useEffect)((function(){O.length>0&&xe.a(d.current).then((function(a){var n=a.replace("data:image/png;base64,",""),c=JSON.parse(JSON.stringify(t));c.Signature=n,c.DateValue=Object(fe.a)(new Date,"yyyy-MM-dd"),e.updateJson(c)})).catch((function(e){console.error("--\x3e Something went wrong!",e)}))}),[O]);var T=[{label:"Style 01",name:"signature-font01"},{label:"Style 02",name:"signature-font02"},{label:"Style 03",name:"signature-font03"},{label:"Style 04",name:"signature-font04"}].map((function(e,t){return c.a.createElement("option",{key:t,value:e.name},e.label)})),J=I?c.a.createElement("div",{className:"control-row control-inline"},c.a.createElement("input",{type:"text",name:"signatureText",id:"signatureText",placeholder:"Your Name",onChange:function(e){g(e.target.value)}}),c.a.createElement("select",{name:"fontDropdown",id:"fontDropdown",onChange:function(e){y(e.target.value)}},c.a.createElement("option",{value:""},"Choose a style"),T)):"",k=I?"":c.a.createElement("div",{className:"control-row"},c.a.createElement("button",{className:"btn btn-primary btn-small",onClick:function(e){w(!I)}},"Sign")),x=c.a.createElement("img",{src:"data:image/png;base64,".concat(m),alt:"",width:"400px"});return s?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(b?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,r),J,c.a.createElement("div",{className:"control-row"},k,c.a.createElement("div",{className:"signature-display"},x,c.a.createElement("div",{className:"signature-timestamp"},u)))),c.a.createElement("div",{id:"signaturePad"}),c.a.createElement("div",{className:"signature-container"},c.a.createElement("div",{ref:d,className:"signature-preview ".concat(O)},p,c.a.createElement("div",{className:"signature-user"},f)))):""};function Le(e){var t=e.controlJson,a=t.Type,n=t.Id,r=t.Title,l=t.Columns,i=t.Rows,s=t.Elements,m=t.IsVisible,u=void 0===m||m;console.log("---\x3e: Matrix -> Elements",s);for(var d=Object(o.c)(A),b={ListMulticontrol:X,Label:Q,Text:ee,Repeatable:me,ButtonSubmitPurchase:ue,ButtonAddDocketNumber:de,API:be,Date:Se,Image:je,ImageSingle:Ce,ButtonAddReportDate:Ie,QRScanner:Je,QRScannerList:ke,Signature:_e,SignatureDateTime:De,SignatureDate:Ve,Checkbox:Me,Boolean:Be,Trilean:Ae,TrileanLabel:Fe,ListSingle:Pe,ListMultiple:Re,Time:Ge,DateTime:Ke,TimeLabel:We,DateLabel:Ze,ButtonAddSignature:$e,RegisterSignatures:et},f=[],E=0;E<s.length;E++)for(var v=0;v<s[E].Elements.length;v++){var p=s[E].Elements[v],g=ce(p.Type),N=b[g],S=c.a.createElement(N,{key:"".concat(g.substring(0,4).toLowerCase(),"-").concat(p.ElementId),controlJson:p,updateJson:h});f.push(c.a.createElement("div",{key:"".concat(E,"-").concat(v),className:"matrix-box",style:{backgroundColor:E%2>0?"rgb(244, 244, 244)":"",borderBottom:E%2>0?"1px solid #CCC":""}},S))}function h(e){console.log("---\x3e: updateJsonHandler -> pJson",e)}return u?c.a.createElement("div",{className:"control-container control-container-matrix"},c.a.createElement("div",{className:"tag ".concat(d?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},n),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,r),c.a.createElement("div",{className:"control-row"},c.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(".concat(l,", 1fr)"),gridTemplateRows:"repeat(".concat(i,", 1fr)")}},f)))):""}var Me=function(e){var t=e.controlJson,a=t.Type,r=t.Title,l=t.Id,i=t.ShowComment,s=t.Collapsible,m=t.IsCollapsed,u=t.EntryTitle,d=t.Details,b=t.HasUnderLine,f=t.IsVisible,E=void 0===f||f,v=t.Value,p=void 0===v?"":v,g=t.CommentValue,N=void 0===g?"":g,S=Object(n.useState)(m),h=Object(U.a)(S,2),O=h[0],y=h[1],j=Object(o.c)(A);Object(n.useEffect)((function(){}),[t]);var C=i?c.a.createElement("input",{type:"text",placeholder:u,value:N,onChange:function(a){var n=a.target.value;se({Id:l,CommentValue:n});var c=JSON.parse(JSON.stringify(t));c.CommentValue=n,e.updateJson(c)}}):"",I=s?c.a.createElement("div",{className:"control-details-container"},c.a.createElement("div",{className:"control-details-toggle",onClick:function(e){y(!O)}},c.a.createElement(H.a,{icon:O?z.a:z.b})),c.a.createElement("div",{id:"controlDetails",className:"".concat(O?"hidden":""," control-details-details")},d)):"",w=u?c.a.createElement("label",{htmlFor:"checkbox"},u):"";return E?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(j?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control ".concat(b?"control-underline":"")},c.a.createElement("h3",null,r),I,c.a.createElement("input",{type:"checkbox",defaultChecked:"Y"===p,onChange:function(n){var c=!0===n.target.checked?"Y":"N";se({Type:a,Id:l,Value:c});var r=JSON.parse(JSON.stringify(t));r.Value=c,e.updateJson(r)}}),w,C)):""};var Be=function(e){var t=e.controlJson,a=t.Type,r=t.Title,l=t.Id,i=t.ShowComment,s=t.Collapsible,m=t.IsCollapsed,u=t.HasUnderLine,d=t.EntryTitle,b=t.Details,f=t.IsVisible,E=void 0===f||f,v=t.Value,p=void 0===v?"":v,g=t.CommentValue,N=void 0===g?"":g,S=Object(n.useState)(m),h=Object(U.a)(S,2),O=h[0],y=h[1],j=Object(o.c)(A);function C(n){var c=n.target.value;se({Type:a,Id:l,Value:c});var r=JSON.parse(JSON.stringify(t));r.Value=c,e.updateJson(r)}var I=i?c.a.createElement("input",{type:"text",placeholder:d,value:N,onChange:function(a){console.log("pEvent.target.value: ",a.target.value);var n=JSON.parse(JSON.stringify(t));n.CommentValue=a.target.value,e.updateJson(n)}}):"",w=s?c.a.createElement("div",{className:"control-details-container"},c.a.createElement("div",{className:"control-details-toggle",onClick:function(e){y(!O)}},c.a.createElement(H.a,{icon:O?z.a:z.b})),c.a.createElement("div",{id:"controlDetails",className:"".concat(O?"hidden":""," control-details-details")},b)):"",T=d?c.a.createElement("label",{htmlFor:"checkbox"},d):"";return E?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(j?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},r,c.a.createElement("div",{className:"control-inline"},w),c.a.createElement("div",{className:"control-inline ".concat(u?"control-underline":"")},c.a.createElement("div",{className:"control-checkbox"},c.a.createElement("label",{htmlFor:"yes"},"Yes"),c.a.createElement("input",{type:"radio",id:"yes",name:l,value:"Y",checked:"Y"===p,onChange:C})),c.a.createElement("div",{className:"control-checkbox"},c.a.createElement("label",{htmlFor:"no"},"No"),c.a.createElement("input",{type:"radio",id:"no",name:l,value:"N",checked:"N"===p,onChange:C}))),c.a.createElement("div",{className:"control-inline"},T),c.a.createElement("div",{className:"control-inline"},I))):""};var Ae=function(e){var t=e.controlJson,a=t.Type,r=t.Title,l=t.Id,i=t.ShowComment,s=t.HideNa,m=t.IsVisible,u=void 0===m||m,d=t.Collapsible,b=t.IsCollapsed,f=t.EntryTitle,E=t.Details,v=t.Value,p=void 0===v?"":v,g=t.CommentValue,N=void 0===g?"":g,S=Object(n.useState)(b),h=Object(U.a)(S,2),O=h[0],y=h[1],j=Object(o.c)(A);function C(n){var c=n.target.value;se({Type:a,Id:l,Value:c});var r=JSON.parse(JSON.stringify(t));r.Value=c,e.updateJson(r)}Object(n.useEffect)((function(){}),[t]);var I=i?c.a.createElement("input",{type:"text",placeholder:f,value:N,onChange:function(a){var n=JSON.parse(JSON.stringify(t));n.CommentValue=a.target.value,e.updateJson(n)}}):"",w=d?c.a.createElement("div",{className:"control-details-container"},c.a.createElement("div",{className:"control-details-toggle",onClick:function(e){y(!O)}},c.a.createElement(H.a,{icon:O?z.a:z.b})),c.a.createElement("div",{id:"controlDetails",className:"".concat(O?"hidden":""," control-details-details")},E)):"";return u?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(j?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},r,c.a.createElement("div",{className:"control-row"},w),c.a.createElement("div",{className:"control-row"},c.a.createElement("div",{className:"control-inline"},c.a.createElement("div",{className:"control-checkbox"},c.a.createElement("label",{htmlFor:"yes"},"Yes"),c.a.createElement("input",{type:"radio",id:"yes",name:l,value:"Y",checked:"Y"===p,onChange:C})),c.a.createElement("div",{className:"control-checkbox"},c.a.createElement("label",{htmlFor:"no"},"No"),c.a.createElement("input",{type:"radio",id:"no",name:l,value:"N",checked:"N"===p,onChange:C})),c.a.createElement("div",{className:"".concat(s?"hidden":""," control-checkbox")},c.a.createElement("label",{htmlFor:"na"},"N/A"),c.a.createElement("input",{type:"radio",id:"na",name:l,value:"NA",checked:"NA"===p,onChange:C})))),c.a.createElement("div",{className:"control-row"},I))):""};var Fe=function(e){var t=e.controlJson,a=t.Type,n=t.Title,r=t.Id,l=t.IsVisible,i=void 0===l||l,s=t.Buttons,m=t.CommentValue,u=t.HasUnderLine,d=t.ShowComment,b=t.HideNa,f=t.Value,E=Object(o.c)(A);function v(a){var n=JSON.parse(JSON.stringify(t));n.Value=a.target.value,e.updateJson(n)}var p=void 0!==s?s.map((function(e,t){var a=f===e.Button?e.BackgroundColorSelected:e.BackgroundColor;if(!b||"NA"!==e.Button)return c.a.createElement(c.a.Fragment,{key:"".concat(r).concat(t)},c.a.createElement("input",{type:"radio",name:r,id:"".concat(r).concat(e.Label),value:e.Button,className:"radiocheck-hidden",onChange:v}),c.a.createElement("label",{htmlFor:"".concat(r).concat(e.Label),className:"radiocheck-button",style:{backgroundColor:a}},e.Label))})):"",g=d?c.a.createElement("div",{className:"control-row"},m):"",N=u?c.a.createElement("hr",null):"";return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(E?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r),c.a.createElement("textarea",{name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,n),g,c.a.createElement("div",{className:"control-row"},p,N))):""};var Pe=function(e){var t=e.controlJson,a=t.Type,r=t.Title,l=t.Id,i=t.Data,s=t.Value,m=void 0===s?"":s,u=t.IsVisible,d=void 0===u||u,b=Object(o.b)(),f=Object(o.c)(A),E=Object(n.useState)(!0),v=Object(U.a)(E,2),p=v[0],g=v[1],N=Object(n.useState)(""),S=Object(U.a)(N,2),h=S[0],O=S[1],y=Object(n.useState)([]),j=Object(U.a)(y,2),C=j[0],I=j[1],w=Object(n.useState)(m.constructor===String?[m]:m),T=Object(U.a)(w,2),J=T[0],k=T[1],x=Object(o.c)(F),_=Object(Z.c)({height:p?0:200}),D=Object(Z.d)(J.length,{from:{opacity:0,marginLeft:-12,marginTop:-6,transform:"scaleX(0.6) scaleY(0.8)"},to:{opacity:1,marginLeft:0,marginTop:0,transform:"scaleX(1) scaleY(1)"},config:Z.b.stiff});function V(e){J[0]!==e.target.id?k([e.target.id]):k([]),M(e.target.id)}function M(a){var n=JSON.parse(JSON.stringify(t));n.Value===a?n.Value="":(n.Value=a,g(!0)),e.updateJson(n)}Object(n.useEffect)((function(){p||b(L(l))}),[p,l,b]),Object(n.useEffect)((function(){x!==l&&g(!0)}),[x,l]),Object(n.useEffect)((function(){I(i.filter((function(e){return e.toLowerCase().includes(h.toLowerCase())})))}),[i,h]);var B=p?"":C.map((function(e,t){var a=J.findIndex((function(t){return e===t}))>-1,n=a?c.a.createElement(H.a,{icon:z.c}):"";return c.a.createElement("div",{key:t,id:e,className:"input-list-item ".concat(a?"selected-list-item":""),onClick:V},n,e)})),P=D.map((function(e,t){var a=J[t];return""!==a?c.a.createElement(Z.a.div,{className:"input-select-item",style:e,key:t},a,c.a.createElement("button",{id:a,className:"remove-item"})):""}));return d?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(f?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,r),c.a.createElement("div",{className:"input-select",onClick:function(e){var t=e.target;if("input-select"===t.className||"input-select-items"===t.className)g(!p);else if("remove-item"===t.className){var a=t.parentNode.innerText;""!==a&&(M(""),k(J.filter((function(e){return e!==a}))))}}},c.a.createElement("div",{className:"input-select-items"},P),c.a.createElement(H.a,{icon:p?z.a:z.b,onClick:function(e){g(!p)}})),c.a.createElement(Z.a.div,{style:_,className:"input-list"},c.a.createElement("div",{className:"input-list-searchbar"},c.a.createElement("input",{type:"text",placeholder:"Search",className:"input-list-search",value:h,onChange:function(e){return O(e.target.value)}}),c.a.createElement(H.a,{icon:z.m,onClick:function(e){return O("")}})),c.a.createElement("div",{className:"input-list-items"},B)))):""};var Re=function(e){var t=e.controlJson,a=t.Type,r=t.Title,l=t.Id,i=t.Data,s=t.SelectedValue,m=void 0===s?[]:s,u=t.IsVisible,d=void 0===u||u,b=Object(o.b)(),f=Object(o.c)(A),E=Object(n.useState)(!0),v=Object(U.a)(E,2),p=v[0],g=v[1],N=Object(n.useState)(""),S=Object(U.a)(N,2),h=S[0],O=S[1],y=Object(n.useState)([]),j=Object(U.a)(y,2),C=j[0],I=j[1],w=Object(n.useState)(m||[]),T=Object(U.a)(w,2),J=T[0],k=T[1],x=Object(o.c)(F),_=Object(Z.c)({height:p?0:200}),D=Object(Z.d)(J.length,{from:{opacity:0,marginLeft:-12,marginTop:-6,transform:"scaleX(0.6) scaleY(0.8)"},to:{opacity:1,marginLeft:0,marginTop:0,transform:"scaleX(1) scaleY(1)"},config:{mass:1,tension:500,friction:26}});function V(e){var t=e.target.id,a=J.findIndex((function(e){return e===t}))<0?[].concat(Object(te.a)(J),[t]):J.filter((function(e){return e!==t}));k(a),M(a)}function M(a){var n=JSON.parse(JSON.stringify(t));n.SelectedValue=a,e.updateJson(n)}Object(n.useEffect)((function(){p||b(L(l))}),[p,l,b]),Object(n.useEffect)((function(){x!==l&&g(!0)}),[x,l]),Object(n.useEffect)((function(){I(i.filter((function(e){return e.toLowerCase().includes(h.toLowerCase())})))}),[i,h]);var B=p?"":C.map((function(e,t){var a=J.findIndex((function(t){return e===t}))>-1,n=a?c.a.createElement(H.a,{icon:z.c}):"";return c.a.createElement("div",{key:t,id:e,className:"input-list-item ".concat(a?"selected-list-item":""),onClick:V},n,e)})),P=D.map((function(e,t){var a=J[t];return""!==a?c.a.createElement(Z.a.div,{className:"input-select-item",style:e,key:t},a,c.a.createElement("button",{id:a,className:"remove-item"})):""}));return d?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(f?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,r),c.a.createElement("div",{className:"input-select",onClick:function(e){var t=e.target;if("input-select"===t.className||"input-select-items"===t.className)g(!p);else if("remove-item"===t.className){var a=t.parentNode.innerText;if(""!==a){var n=J.filter((function(e){return e!==a}));k(n),M(n)}}}},c.a.createElement("div",{className:"input-select-items"},P),c.a.createElement(H.a,{icon:p?z.a:z.b,onClick:function(e){g(!p)}})),c.a.createElement(Z.a.div,{style:_,className:"input-list"},c.a.createElement("div",{className:"input-list-searchbar"},c.a.createElement("input",{type:"text",placeholder:"Search",className:"input-list-search",value:h,onChange:function(e){return O(e.target.value)}}),c.a.createElement(H.a,{icon:z.m,onClick:function(e){return O("")}})),c.a.createElement("div",{className:"input-list-items"},B)))):""},He=a(81),ze=a(31),Ye=a.n(ze);function Ue(e){var t=e.format.replace("tt","a"),a=Object(n.useState)(e.timeValue),r=Object(U.a)(a,2),l=r[0],o=r[1];var i,s=""!==l?Object(fe.a)(Object(He.a)((i=l,new Date((new Date).toDateString()+" "+i)),e.modifiers.AddHour),t):"";return c.a.createElement("div",{className:Ye.a.timeContainer},c.a.createElement("input",{type:"time",name:"",id:"",className:Ye.a.timePicker,value:l,onChange:function(t){return a=t.target.value,o(a),void e.onTimeChange(a);var a}}),s,c.a.createElement(H.a,{className:Ye.a.btnClear,icon:z.m,onClick:function(t){o(""),e.onTimeChange("")}}))}var Ge=function(e){var t=e.controlJson,a=t.Type,r=t.Title,l=t.Id,i=t.FormatDateTime,s=void 0===i?"hh:mm tt":i,m=t.IsBlank,u=void 0!==m&&m,d=t.IsVisible,b=void 0===d||d,f=t.AddHour,E=void 0===f?0:f,v=t.TimeValue,p=Object(o.c)(A),g=""===v||void 0===v?"".concat((new Date).getHours()<10?"0"+(new Date).getHours():(new Date).getHours(),":").concat((new Date).getMinutes()<10?"0"+(new Date).getMinutes():(new Date).getMinutes()):v,N=Object(n.useState)(u?"":g),S=Object(U.a)(N,2),h=S[0],O=S[1];return b?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(p?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,r),c.a.createElement(Ue,{format:s,timeValue:h,modifiers:{AddHour:E},onTimeChange:function(a){return function(a){console.log("---\x3e: onTimeChangeHandler -> pTime",a),O(a);var n=JSON.parse(JSON.stringify(t));""!==a?n.TimeValue=a:delete n.TimeValue,n.IsBlank=""===a,e.updateJson(n)}(a)}}))):""},Xe=a(25),Qe=a.n(Xe);function qe(e){var t=e.format.replace(/ddd/g,"eee").replace("tt","a"),a=e.dateTimeValue,n=""!==a?"".concat(Object(fe.a)(new Date(a),"yyyy-MM-dd")):Object(fe.a)(new Date,"yyyy-MM-dd"),r=""!==a?"".concat(new Date(a).toLocaleTimeString()):(new Date).toLocaleTimeString();var l=""!==a?Object(fe.a)(new Date(a),t):"";return c.a.createElement("div",{className:Qe.a.dateTimeContainer},c.a.createElement("div",null,c.a.createElement("input",{type:"date",className:Qe.a.datePicker,name:"",id:"",onChange:function(t){n=t.target.value,e.onDateTimeChange(t.target.value+" "+r)}}),c.a.createElement("input",{type:"time",className:Qe.a.timePicker,name:"",id:"",onChange:function(t){r=t.target.value,e.onDateTimeChange(n+" "+t.target.value)}})),l,c.a.createElement(H.a,{className:Qe.a.btnClear,icon:z.m,onClick:function(){n="",r="",e.onDateTimeChange("")}}))}var Ke=function(e){var t=e.controlJson,a=t.Type,r=t.Title,l=t.Id,i=t.FormatDateTime,s=void 0===i?"yyyy-MM-dd hh:mm tt":i,m=t.IsBlank,u=void 0!==m&&m,d=t.IsVisible,b=void 0===d||d,f=t.DateTimeValue,E=Object(o.c)(A),v=""===f||void 0===f?"".concat(le().toDateString()+" "+le().toLocaleTimeString()):f,p=Object(n.useState)(u?"":v),g=Object(U.a)(p,2),N=g[0],S=g[1];return b?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(E?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,r),c.a.createElement(qe,{format:s,dateTimeValue:N,onDateTimeChange:function(a){return function(a){S(a);var n=JSON.parse(JSON.stringify(t));""!==a?n.DateTimeValue=a:delete n.DateTimeValue,n.IsBlank=""===a,e.updateJson(n)}(a)}}))):""};var We=function(){return c.a.createElement("div",null,"TimeLabel")};var Ze=function(){return c.a.createElement("div",null,"DateLabel")};var $e=function(e){var t=e.controlJson,a=t.Type,n=t.Title,r=t.Id,l=t.IsVisible,i=void 0===l||l,s=Object(o.b)(),m=Object(o.c)(A);return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(m?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary",onClick:function(){s(b("add-signature"))}},n))):""};var et=function(e){var t=e.controlJson,a=t.Type,r=(t.Title,t.Id),l=t.IsVisible,i=void 0===l||l,s=t.Value,m=Object(o.c)(A),u=Object(o.c)(N),d=Object(o.b)(),f=Object(n.useState)(!1),E=Object(U.a)(f,2),v=E[0],p=E[1],g=Object(n.useState)({message:""}),S=Object(U.a)(g,2),h=S[0],O=S[1];Object(n.useEffect)((function(){if("add-signature"===u){var a=JSON.parse(s);a.push({Id:a.length+1,Name:document.getElementById("SignatureSignOnOffName").value,SignOnDateTime:Object(fe.a)(new Date,"yyyy-MM-dd hh:mm:ss"),Signature:document.getElementById("SignatureSignOnOffSignature").src.replace("data:image/png;base64,","")});var n=JSON.parse(JSON.stringify(t));n.Value=JSON.stringify(a),e.updateJson(n),document.getElementById("signatureText").value="",document.getElementById("SignatureSignOnOffSignature").src="",d(b(""))}}),[u]);var y=JSON.parse(s).reverse().map((function(a,n){return c.a.createElement("div",{key:n,className:"register-signature-row"},c.a.createElement("img",{src:"data:image/png;base64,".concat(a.Signature),alt:"",width:"250px"}),c.a.createElement("div",null,c.a.createElement("p",null,a.Name),c.a.createElement("p",null,"Sign On: ",a.SignOnDateTime),c.a.createElement("p",null,"Sign Off: ",a.SignOffDateTime||c.a.createElement("button",{className:"btn btn-primary btn-small",onClick:function(){return n=a.Id,O({message:"Are you sure you want to sign off?",bgColor:"#000000",callback:function(){var a=JSON.parse(s),c=a.findIndex((function(e){return e.Id===n}));a[c].SignOffDateTime=Object(fe.a)(new Date,"yyyy-MM-dd hh:mm:ss");var r=JSON.parse(JSON.stringify(t));r.Value=JSON.stringify(a),e.updateJson(r),p(!1)}}),void p(!0);var n}},"Sign"))))}));return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(m?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},y),c.a.createElement($,{visibility:v,toggleVisibility:function(){return p(!v)},message:h.message,css:{backgroundColor:"#000000"},backdrop:"rgba(0,0,0,0.3)",callback:h.callback})):""},tt=a(12),at=a.n(tt);function nt(e){var t=Object(n.useState)(""),a=Object(U.a)(t,2),r=a[0],l=a[1],o=Object(n.useRef)(null),i=e.items,s=e.allowMultiple,m=e.width,u=r.length>0?i.filter((function(e){return String(e.label).toLowerCase().includes(r.toLowerCase())})):i,d=function(e){var t=Object(n.useState)(e),a=Object(U.a)(t,2),c=a[0],r=a[1],l=Object(n.useRef)(null),o=function(e){l.current&&!l.current.contains(e.target)&&r(!1)};return Object(n.useEffect)((function(){return document.addEventListener("click",o,!0),function(){document.removeEventListener("click",o,!0)}}),[]),{ref:l,isVisible:c,setIsVisible:r}}(!1),b=d.ref,f=d.isVisible,E=d.setIsVisible;function v(t,a){(t.stopPropagation(),t.currentTarget.className.includes("delete"))?e.onSelectItem(e.selectedItems.filter((function(e){return e.Id!==a.Id}))):s?e.selectedItems.findIndex((function(e){return e===a}))>-1?e.onSelectItem(e.selectedItems.filter((function(e){return e!==a}))):e.onSelectItem([].concat(Object(te.a)(e.selectedItems),[a])):(e.onSelectItem([a]),E(!1))}Object(n.useEffect)((function(){o.current&&o.current.focus()}),[f]);var p="s"===m?at.a.ListSmall:"m"===m?at.a.ListMedium:at.a.ListLarge;return c.a.createElement("div",{className:at.a.selectSearchable_Container},c.a.createElement("div",{className:at.a.selectSearchable_Header,onClick:function(e){return E(!f)}},c.a.createElement("div",{className:at.a.selectSearchable_SelectedContainer},e.selectedItems.map((function(e,t){return c.a.createElement("div",{key:t,className:at.a.selectSearchable_SelectedItem},e.label,c.a.createElement("span",{className:at.a.selectedItem_delete,onClick:function(t){return v(t,e)}},c.a.createElement(H.a,{icon:z.m})))}))),c.a.createElement("div",{className:at.a.selectSearchable_Trigger},c.a.createElement(H.a,{icon:f?z.a:z.b}))),f&&c.a.createElement("div",{style:{position:"absolute"},className:"".concat(at.a.selectSearchable_List," ").concat(p),ref:b},c.a.createElement("div",{className:at.a.selectSearchable_SearchContainer},c.a.createElement("input",{type:"text",value:r,onChange:function(e){return l(e.target.value)},ref:o}),c.a.createElement(H.a,{icon:z.m,onClick:function(e){return l("")}})),c.a.createElement("div",{className:at.a.selectSearchable_ItemsContainer},u.map((function(t,a){return c.a.createElement("span",{key:a,className:"".concat(at.a.selectItem," ").concat(e.selectedItems.findIndex((function(e){return t.label===e.label}))>-1?at.a.selectSearchable_SelectedItem_Selected:""),onClick:function(e){return v(e,t)}},t.label)})))))}var ct=function(e){var t=e.controlJson,a=t.Type,r=t.Title,l=t.Id,i=t.IsVisible,s=void 0===i||i,m=Object(o.c)(A),u=Object(o.b)(),d=Object(n.useState)([]),f=Object(U.a)(d,2),v=f[0],p=f[1],g=Object(n.useState)([]),N=Object(U.a)(g,2),S=N[0],h=N[1],O=Object(n.useState)([]),y=Object(U.a)(O,2),j=(y[0],y[1]),C="".concat("https://api-uat.extrack.com/V1.0/","Project/").concat(1810,"/Directory/Contacts"),I=JSON.parse(localStorage.getItem("dynFormToken")),w=new Headers;w.append("Authorization","Bearer ".concat(I.access_token)),w.append("Content-Type","application/x-www-form-urlencoded");var T={method:"GET",headers:w,redirect:"follow"};return Object(n.useEffect)((function(){fetch(C,T).then((function(e){return e.json()})).then((function(e){p(e),h(e.map((function(e){return{Id:e.Id,label:"".concat(e.Contact.NameFirst," ").concat(e.Contact.NameLast," | ").concat(e.Company.Name)}})))}))}),[]),s?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(m?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,r),c.a.createElement(nt,{items:S,selectedItems:[],allowMultiple:!1,onSelectItem:function(e){return function(e){var t=v.findIndex((function(t){return t.Id===e[0].Id})),a=v[t];u(E({name:"".concat(a.Contact.NameFirst," ").concat(a.Contact.NameLast),phoneNumber:a.Contact.Number,companyName:a.Company.Name})),u(b("add-contact")),j(e)}(e)}}))):""};var rt=function(e){var t=e.controlJson,a=t.Type,n=t.Title,r=t.Id,l=t.IsVisible,i=void 0===l||l,s=Object(o.b)(),m=Object(o.c)(A);return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(m?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary",onClick:function(e){s(b("add-contact"))}},n))):""};var lt=function(e){var t=e.controlJson,a=t.Type,r=(t.Title,t.Title2,t.Id),l=(t.Api,t.Value),i=t.IsVisible,s=void 0===i||i,m=Object(o.c)(N),u=Object(o.c)(h),d=Object(o.b)(),f=Object(o.c)(A);Object(n.useEffect)((function(){if("add-contact"===m){console.log("---\x3e currentAction: ",m),console.log("---\x3e currentContact: ",u);var a=JSON.parse(l);a.push({Name:u.name,Number:u.phoneNumber,CompanyName:u.companyName});var n=JSON.parse(JSON.stringify(t));n.Value=JSON.stringify(a),e.updateJson(n),d(b("reset-currentContact")),d(E(""))}}),[m]);var v=JSON.parse(l).map((function(a,n){return c.a.createElement("div",{key:n,className:"listview-record"},c.a.createElement("div",null,a.Name),c.a.createElement("div",null,a.CompanyName),c.a.createElement("div",null,a.Number),c.a.createElement("button",{className:"btn btn-secondary btn-small btn-icon",onClick:function(){return function(a){var n=JSON.parse(l).filter((function(e,t){return t!==a})),c=JSON.parse(JSON.stringify(t));c.Value=JSON.stringify(n),e.updateJson(c)}(n)}},c.a.createElement(H.a,{icon:z.n}),"delete"))}));return s?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(f?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("div",{className:"control-row"},v))):""};var ot=function(e){var t=e.controlJson,a=t.Type,r=t.Title,l=t.Id,i=t.IsVisible,s=void 0===i||i,m=Object(o.c)(A),u=Object(o.b)(),d=Object(n.useState)([]),f=Object(U.a)(d,2),v=f[0],p=f[1],g=Object(n.useState)([]),N=Object(U.a)(g,2),S=N[0],h=N[1],O=Object(n.useState)([]),y=Object(U.a)(O,2),j=(y[0],y[1]),C="".concat("https://api-uat.extrack.com/V1.0/","Project/").concat(1810,"/Directory/Contacts"),I=JSON.parse(localStorage.getItem("dynFormToken")),w=new Headers;w.append("Authorization","Bearer ".concat(I.access_token)),w.append("Content-Type","application/x-www-form-urlencoded");var T={method:"GET",headers:w,redirect:"follow"};return Object(n.useEffect)((function(){fetch(C,T).then((function(e){return e.json()})).then((function(e){p(e),h(e.map((function(e){return{Id:e.Id,label:"".concat(e.Contact.NameFirst," ").concat(e.Contact.NameLast," | ").concat(e.Contact.Email||""," | ").concat(e.Company.Name)}})))}))}),[]),s?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(m?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,r),c.a.createElement(nt,{items:S,selectedItems:[],allowMultiple:!1,onSelectItem:function(e){return function(e){var t=v.findIndex((function(t){return t.Id===e[0].Id})),a=v[t];u(E({name:"".concat(a.Contact.NameFirst," ").concat(a.Contact.NameLast),email:a.Contact.Email,companyName:a.Company.Name})),u(b("add-contact")),j(e)}(e)}}))):""};var it=function(e){var t=e.controlJson,a=t.Type,n=t.Title,r=t.Id,l=t.IsVisible,i=void 0===l||l,s=Object(o.b)(),m=Object(o.c)(A);return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(m?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary",onClick:function(e){s(b("add-contact"))}},n))):""};var st=function(e){var t=e.controlJson,a=t.Type,r=(t.Title,t.Title2,t.Id),l=(t.Api,t.Value),i=t.IsVisible,s=void 0===i||i,m=Object(o.c)(N),u=Object(o.c)(h),d=Object(o.b)(),f=Object(o.c)(A);Object(n.useEffect)((function(){if("add-contact"===m){console.log("---\x3e currentAction: ",m),console.log("---\x3e currentContact: ",u);var a=JSON.parse(l);a.push({Name:u.name,Email:u.email,CompanyName:u.companyName});var n=JSON.parse(JSON.stringify(t));n.Value=JSON.stringify(a),e.updateJson(n),d(b("reset-currentContact")),d(E(""))}}),[m]);var v=JSON.parse(l).map((function(a,n){return c.a.createElement("div",{key:n,className:"listview-record"},c.a.createElement("div",null,a.Name),c.a.createElement("div",null,a.CompanyName),c.a.createElement("div",null,a.Email),c.a.createElement("button",{className:"btn btn-secondary btn-small btn-icon",onClick:function(){return function(a){var n=JSON.parse(l).filter((function(e,t){return t!==a})),c=JSON.parse(JSON.stringify(t));c.Value=JSON.stringify(n),e.updateJson(c)}(n)}},c.a.createElement(H.a,{icon:z.n}),"delete"))}));return s?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(f?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("div",{className:"control-row"},v))):""};function mt(e){var t=e.controlJson,a=t.Id,r=t.Title,l=t.Type,i=t.IsVisible,s=void 0===i||i,m=t.Selection,u=t.XAxisName,d=t.YAxisName,b=t.Legend,f=t.Columns,E=t.Rows,v=t.Elements,p=Object(o.c)(A),g=b.ShowLegend,N=Object(n.useState)([]),S=Object(U.a)(N,2);S[0],S[1];function h(a){var n=a.split("-"),c=JSON.parse(JSON.stringify(t));if("single"===m)for(var r=0;r<c.Elements.length;r++)for(var l=0;l<c.Elements[r].Elements.length;l++)c.Elements[r].Elements[l].Value&&(c.Elements[r].Elements[l].Value=!1);var o=void 0!==v[n[0]].Elements[n[1]].Value&&v[n[0]].Elements[n[1]].Value;c.Elements[n[0]].Elements[n[1]].Value=!o,e.updateJson(c)}for(var O=[],y=0;y<v.length;y++)for(var j=function(e){var t=v[y].Elements[e],a="".concat(y,"-").concat(e),n="".concat(b.LegendValuesY.Name,": ").concat(b.LegendValuesY.Values[y],"\n").concat(b.LegendValuesX.Name,": ").concat(b.LegendValuesX.Values[e]);O.push(c.a.createElement("div",{key:a,id:a,title:n,className:"matrix-box matrix-button",style:{backgroundColor:t.Value?t.BackgroundColorSelected:t.BackgroundColor},onClick:function(){return h(a)}},t.Title))},C=0;C<v[y].Elements.length;C++)j(C);var I=b.LegendValuesX.Values.map((function(e,t){return c.a.createElement("li",{key:t},e)})),w=b.LegendValuesY.Values.map((function(e,t){return c.a.createElement("li",{key:t},e)})),T=g?c.a.createElement("div",{className:"matrix-legend"},c.a.createElement("div",null,c.a.createElement("h5",null,b.LegendValuesY.Name,":"),w),c.a.createElement("div",null,c.a.createElement("h5",null,b.LegendValuesX.Name,":"),I)):"";return s?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(p?"":"hidden")},l,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},a),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,r),c.a.createElement("div",{className:"control-row"},c.a.createElement("div",{className:"matrix-container"},c.a.createElement("h4",{className:"matrix-yaxis"},d),c.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(".concat(f,", 1fr)"),gridTemplateRows:"repeat(".concat(E,", 1fr)")}},O),c.a.createElement("h4",{className:"matrix-xaxis"},u)),c.a.createElement("div",{className:"matrix-footer"},T)))):""}var ut=function(){return c.a.createElement("div",null,"DocumentSummaryGrid")};var dt=function(e){var t=e.controlJson,a=t.Type,n=t.Title,r=t.Id,l=t.IsVisible,i=void 0===l||l,s=Object(o.b)(),m=Object(o.c)(A);return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(m?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary",onClick:function(e){s(d("tosend"))}},n))):""};var bt=function(e){var t=e.controlJson,a=t.Type,n=t.Title,r=t.Id,l=t.IsVisible,i=void 0===l||l,s=Object(o.c)(A);return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(s?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},n))):""};var ft=function(e){var t=e.controlJson,a=t.Type,n=t.Title,r=t.Id,l=t.IsVisible,i=void 0===l||l,s=Object(o.c)(A);return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(s?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},n))):""},Et=a(47),vt=a.n(Et);function pt(){var e={DocumentTableOfContents:G,ListMulticontrol:X,Label:Q,Text:ee,Repeatable:me,ButtonSubmitPurchase:ue,ButtonAddDocketNumber:de,API:be,Date:Se,Image:je,ImageSingle:Ce,ButtonAddReportDate:Ie,QRScanner:Je,QRScannerList:ke,Signature:_e,SignatureDateTime:De,SignatureDate:Ve,Matrix:Le,Checkbox:Me,Boolean:Be,Trilean:Ae,TrileanLabel:Fe,ListSingle:Pe,ListMultiple:Re,Time:Ge,DateTime:Ke,TimeLabel:We,DateLabel:Ze,ButtonAddSignature:$e,RegisterSignatures:et,SearchableListEntryDialogSMS:ct,ButtonAddSMS:rt,SearchableSMSListView:lt,SearchableListEntryDialogEmail:ot,ButtonAddEmail:it,SearchableEmailListView:st,MatrixButton:mt,DocumentSummaryGrid:ut,ButtonSubmitRegister:dt,ButtonCloseout:bt,ButtonViewDocument:ft},t=Object(o.c)(p),a=Object(o.c)(A),r=Object(o.c)(P),l=Object(o.c)(B),i=Object(o.c)(g),s=Object(o.c)(N),m=Object(o.b)(),f=Object(o.c)((function(e){return e.tabulation.value})),E=void 0!==t.Sections?t.Sections[f]:{},v=(E.Title,E.Elements),S=Object(n.useState)([]),h=Object(U.a)(S,2),O=h[0],y=h[1];function j(e){var a=t.Sections[f],n={};return a.Elements.forEach((function(a,c){a.hasOwnProperty("Elements")&&a.Elements.forEach((function(t,a){t.hasOwnProperty("Elements")&&t.Elements.forEach((function(t,r){t.Id===e&&(n={section:f,index:c,subindex:a,subsubindex:r},t)})),t.Id===e&&(n={section:f,index:c,subindex:a},t)})),a.Id===e&&(n={section:f,index:c},t.Sections[f].Elements[c])})),n}function C(e){console.log("updating... ",i),"loaded"===i&&m(d("modified"));var a=j(e.Id),n=JSON.parse(JSON.stringify(t));n.Sections[a.section].Elements[a.index]=e,m(u(n))}Object(n.useEffect)((function(){if(void 0!==v){var t=v.map((function(t,a){var n,r=ce(t.Type);if(void 0!==e[r]){var l=e[r];n=c.a.createElement(l,{key:"".concat(r.substring(0,4).toLowerCase(),"-").concat(t.ElementId),controlJson:t,updateJson:C})}return n}));y(t)}else y("")}),[v]),Object(n.useEffect)((function(){if("reset-currentContact"===s){var e=[j("ManualSMSName"),j("ManualSMSPhone"),j("ManualEmailName"),j("ManualEmailEmail")],a=JSON.parse(JSON.stringify(t));e.forEach((function(e){void 0!==e.index&&(a.Sections[e.section].Elements[e.index].Value="")})),m(u(a)),m(b(""))}}),[s]),Object(n.useEffect)((function(){var e=JSON.parse(JSON.stringify(t));void 0!==l.hiddenControls&&l.hiddenControls.forEach((function(t){var a=j(t);a.hasOwnProperty("subsubindex")||a.hasOwnProperty("subindex")?e.Sections[a.section].Elements[a.index].Elements[a.subindex].Elements[a.subsubindex].IsVisible=!1:e.Sections[a.section].Elements[a.index].IsVisible=!1})),void 0!==l.visibleControls&&l.visibleControls.forEach((function(t){var a=j(t);a.hasOwnProperty("subsubindex")||a.hasOwnProperty("subindex")?e.Sections[a.section].Elements[a.index].Elements[a.subindex].Elements[a.subsubindex].IsVisible=!0:e.Sections[a.section].Elements[a.index].IsVisible=!0})),m(u(e))}),[l]);var I="loading"===i?c.a.createElement("div",{className:"skeleton"},Array(12).fill("").map((function(e,t){return c.a.createElement("div",{key:t,className:"".concat(t%2===1?"skeleton-bloc-offset":""," skeleton-bloc")})}))):"";return c.a.createElement("div",{className:"board"},c.a.createElement("div",{className:"".concat(r.length>0?"":"hidden"," error-msg")},r),I,O,c.a.createElement("textarea",{name:"jsonviewer",id:"jsonviewer",className:a?"".concat(vt.a.fixed):"hidden",rows:"16",value:JSON.stringify(v),onChange:function(e){return m(u(JSON.parse(e.target.value)))}}))}var gt=a(37),Nt=a.n(gt);var St=function(){var e=Object(o.b)(),t=Object(o.c)(J),a=Object(o.c)(p),n=a.Sections?a.Sections.length:0,r=a.Sections?a.Sections[t].Title:"";return c.a.createElement("nav",{className:Nt.a.row},c.a.createElement("button",{className:"btn btn-primary",disabled:0===n||0===t,onClick:function(t){e(I(0))}},c.a.createElement(H.a,{icon:z.f})),c.a.createElement("button",{className:"btn btn-primary",disabled:0===n||0===t,onClick:function(a){t>0&&e(w())}},c.a.createElement(H.a,{icon:z.k})),c.a.createElement("div",{className:Nt.a.title},c.a.createElement("h2",null,r)),c.a.createElement("button",{className:"btn btn-primary",disabled:0===n||t===n-1,onClick:function(a){t<n-1&&e(T())}},c.a.createElement(H.a,{icon:z.l})),c.a.createElement("button",{className:"btn btn-primary",disabled:0===n||t===n-1,onClick:function(t){e(I(n-1))}},c.a.createElement(H.a,{icon:z.g})))},ht=a(5),Ot=a.n(ht),yt=a(38),jt=a(20),Ct=a.n(jt);function It(e){var t=e.visibility,a=e.toggleVisibility,r=e.css,l=e.backdrop,o=e.errormsg,i=Object(Z.c)({opacity:t?1:0,from:{opacity:0,zIndex:10},config:Z.b.gentle}),s=Object(Z.c)({opacity:t?1:0,top:t?0:-25,from:{opacity:0},config:Z.b.stiff});var m=l?{backgroundColor:l}:"",u=Object(n.useState)(""),d=Object(U.a)(u,2),b=d[0],f=d[1],E=Object(n.useState)(""),v=Object(U.a)(E,2),p=v[0],g=v[1],N=Object(n.useState)(""),S=Object(U.a)(N,2),h=S[0],O=S[1];return c.a.createElement(Z.a.div,{style:i},c.a.createElement("div",{id:"backdrop",className:"".concat(Ct.a.loginBackdrop," ").concat(t?"":Ct.a.loginBackdrop_freeze),onClick:function(e){"backdrop"===e.target.id&&a()},style:m},c.a.createElement(Z.a.div,{style:s},c.a.createElement("div",{className:Ct.a.loginContainer,style:r},c.a.createElement("div",{className:Ct.a.loginClose,onClick:a},c.a.createElement(H.a,{icon:z.m})),c.a.createElement("div",{className:Ct.a.loginHeader},c.a.createElement(H.a,{icon:z.o})),c.a.createElement("div",{className:Ct.a.loginContent},c.a.createElement("form",null,c.a.createElement("label",{htmlFor:"username"},"username"),c.a.createElement("input",{type:"text",name:"username",id:"username",onChange:function(e){return f(e.target.value)},onFocus:function(){return e.clearError()}}),c.a.createElement("label",{htmlFor:"password"},"password"),c.a.createElement("input",{type:"password",name:"password",id:"password",onChange:function(e){return g(e.target.value)},onFocus:function(){return e.clearError()}}),c.a.createElement("label",{htmlFor:"member"},"member"),c.a.createElement("input",{type:"text",name:"member",id:"member",onChange:function(e){return O(e.target.value)},onFocus:function(){return e.clearError()}}))),c.a.createElement("div",{className:Ct.a.loginFooter},c.a.createElement("button",{className:"btn btn-primary",onClick:function(t){return e.onSubmit(b,p,h)}},"SUBMIT"),o)))))}var wt=function(){var e=Object(o.b)(),t=Object(o.c)(g),a=(Object(o.c)(O),"https://api-uat.extrack.com/"),r=Object(n.useState)({}),l=Object(U.a)(r,2),i=l[0],s=l[1],m=Object(n.useState)({}),b=Object(U.a)(m,2),E=b[0],p=b[1],N=Object(n.useState)([]),S=Object(U.a)(N,2),h=S[0],y=S[1],j=Object(n.useState)([]),C=Object(U.a)(j,2),I=C[0],w=C[1],T=Object(n.useState)([]),J=Object(U.a)(T,2),k=J[0],x=J[1],_=Object(n.useState)([]),D=Object(U.a)(_,2),V=D[0],L=D[1],B=Object(n.useState)(""),A=Object(U.a)(B,2),F=A[0],P=A[1],R=Object(n.useState)([]),H=Object(U.a)(R,2),z=(H[0],H[1]),Y=Object(n.useState)([]),G=Object(U.a)(Y,2),X=G[0],Q=G[1],K=Object(n.useState)([]),W=Object(U.a)(K,2),Z=W[0],$=W[1],ee=Object(n.useState)(!1),te=Object(U.a)(ee,2),ae=te[0],ne=te[1],ce=Object(n.useState)(),le=Object(U.a)(ce,2),se=le[0],me=le[1],ue=Object(n.useState)(!1),de=Object(U.a)(ue,2),be=de[0],fe=de[1],Ee=Object(n.useState)(""),ve=Object(U.a)(Ee,2),pe=ve[0],ge=ve[1];Object(n.useEffect)((function(){var e=V.length>0?V[0].id:"";e>0&&(P(e),function(e){ne(!0);var t=new Headers;t.append("Authorization","Bearer ".concat(i.access_token)),t.append("Content-Type","application/x-www-form-urlencoded");var n={method:"GET",headers:t,redirect:"follow"};fetch("".concat(a,"V1.0/Project/").concat(e,"/Document/Form/Templates?selectorFields=(Id,Title1)"),n).then((function(e){return e.text()})).then((function(e){w(JSON.parse(e)),ne(!1)})).catch((function(e){return console.log("error",e)}))}(e),function(e){me(!0);var t=new Headers;t.append("Authorization","Bearer ".concat(i.access_token)),t.append("Content-Type","application/x-www-form-urlencoded");var n={method:"GET",headers:t,redirect:"follow"};fetch("".concat(a,"V1.0/Project/").concat(e,"/Documents?selectorFields=Id,Title,DocumentNumber,DocumentFormTemplateId&orderBy=Id desc"),n).then((function(e){return e.text()})).then((function(e){x(JSON.parse(e)),me(!1)})).catch((function(e){return console.log("error",e)}))}(e))}),[V]),Object(n.useEffect)((function(){X.length>0&&Se(X[0].Id).then((function(t){console.log("---\x3e: useEffect -> template: ",t),z(t),e(d("loaded"))}))}),[X]),Object(n.useEffect)((function(){var t;Z.length>0&&(e(d("loading")),function(e){return Oe.apply(this,arguments)}(Z[0].Id).then((function(e){return t=e})).then((function(a){return Se(a.DocumentFormTemplateId).then((function(a){!function(t,a){var n=oe(JSON.parse(t.Config));a.Elements.forEach((function(a){var c=re(n,a.Id),r=c[0];if("Matrix"===a.Type)a.Elements.forEach((function(l,o){if((c=re(JSON.parse(t.Config),l.Id)).length>1&&e(M("Multiple ID '".concat(a.Id,"' found in the template"))),0!==c.length){r=c[0];var i=n.Sections[r[0]].Elements[r[1]].Elements[r[2]].Elements[r[3]];n.Sections[r[0]].Elements[r[1]].Elements[r[2]].Elements[r[3]]=Object(q.a)({},i,{},l)}}));else if("Repeatable"===a.Type)e(v(a.RepeaterValue));else{if(c.length>1&&e(M("Multiple ID '".concat(a.Id,"' found in the template"))),0===c.length)return;var l=n.Sections[r[0]].Elements[r[1]];n.Sections[r[0]].Elements[r[1]]=Object(q.a)({},l,{},a)}})),e(u(n))}(a,JSON.parse(t.MetaData)[0]),e(d("loaded"))}))})))}),[Z]),Object(n.useEffect)((function(){if("tosend"===t){var e=JSON.stringify([{Elements:ie}]);console.log("----\x3e metadata",e);var n=new Headers;n.append("Authorization","Bearer ".concat(i.access_token));var c=JSON.stringify({ID:0,ProjectID:F,Description:"",Title:"Test-NewDoc",DocumentTypeId:1088,DocumentFormTemplateID:Z.Id,UserRevisionNumber:"0",UserRevisionDate:"2020-09-25",MetaData:e,OpenClosedStatus:"O",CreatedByContactID:1059,CreatedByCompanyID:1009}),r=JSON.stringify(c),l=new FormData;l.append("Document",c),console.log("---\x3e: sendind with body ------\x3e  :   ",r);var o={method:"POST",headers:n,body:l};fetch("".concat(a,"V1.0/Project/").concat(F,"/Document/Template/").concat(X.Id,"/Create"),o).then((function(e){return e.text()})).then((function(e){return console.log("response: ",e)})).catch((function(e){return console.log("error",e)}))}}),[t]);var Ne=function(e){var t=new Headers;t.append("Authorization","Bearer ".concat(e));var n={method:"GET",headers:t};fetch("".concat(a,"V1.0/User"),n).then((function(e){return e.text()})).then((function(e){return p(JSON.parse(e))})).catch((function(e){return console.log("error",e)}))};function Se(e){return he.apply(this,arguments)}function he(){return(he=Object(yt.a)(Ot.a.mark((function e(t){var n,c,r;return Ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new Headers).append("Authorization","Bearer ".concat(i.access_token)),c.append("Content-Type","application/x-www-form-urlencoded"),r={method:"GET",headers:c,redirect:"follow"},e.next=6,fetch("".concat(a,"V1.0/Project/").concat(V[0].id,"/Document/Form/Template/").concat(t),r).then((function(e){return e.json()})).then((function(e){n=e})).catch((function(e){return console.log("error",e)}));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(){return(Oe=Object(yt.a)(Ot.a.mark((function e(t){var n,c,r;return Ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},(c=new Headers).append("Authorization","Bearer ".concat(i.access_token)),c.append("Content-Type","application/x-www-form-urlencoded"),r={method:"GET",headers:c,redirect:"follow"},e.next=7,fetch("".concat(a,"V1.0/Project/").concat(F,"/Document/").concat(t),r).then((function(e){return e.text()})).then((function(e){n=JSON.parse(e).Document})).catch((function(e){return console.log("error",e)}));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ye=ae?c.a.createElement("div",{className:"spinner"},"Fetching Templates..."):V.length>0?"Select a template":"",je=se?c.a.createElement("div",{className:"spinner"},"Fetching Documents..."):V.length>0?"Select a document":"";return c.a.createElement("div",{className:"bloc"},c.a.createElement("button",{className:"btn btn-ternary ".concat(E.NameFirst?"hidden":""),onClick:function(){return fe(!0)}},"LOGIN"),c.a.createElement("div",{className:"bloc-menu ".concat(h.length>0?"":"hidden")},c.a.createElement("h2",{className:"dropdown-label"},"Select a project"),c.a.createElement(nt,{allowMultiple:!1,width:"s",items:h.map((function(e){return{label:e.Abbr,id:e.Id}})),selectedItems:V,onSelectItem:function(e){return L(e)}})),c.a.createElement("div",{className:"bloc-menu ".concat(0===V.length?"":"bloc-menu__separator")},c.a.createElement("h2",{className:"dropdown-label"},ye),c.a.createElement("div",{className:"".concat(I.length>0?"":"hidden")},c.a.createElement(nt,{allowMultiple:!1,width:"m",items:I.map((function(e){return{label:e.Title1,Id:e.Id}})),selectedItems:X,onSelectItem:function(e){return Q(e)}}))),c.a.createElement("div",{className:"bloc-spacer"},c.a.createElement("span",{className:"".concat(I.length>0?"":"hidden")},"OR")),c.a.createElement("div",{className:"bloc-menu"},c.a.createElement("h2",{className:"dropdown-label"},je),c.a.createElement("div",{className:"".concat(I.length>0?"":"hidden")},c.a.createElement(nt,{allowMultiple:!1,width:"m",items:k.map((function(e){return{label:e.Title,Id:e.Id}})),selectedItems:Z,onSelectItem:function(e){return $(e)}}))),c.a.createElement(It,{visibility:be,toggleVisibility:function(){return fe(!be)},css:{backgroundColor:"#007db4"},backdrop:"rgba(0,0,0,0.3)",onSubmit:function(t,n,c){e(f(t));var r=new Headers;r.append("Content-Type","application/x-www-form-urlencoded");var l=new URLSearchParams;l.append("username",t),l.append("password",n),l.append("MemberCode",c),l.append("grant_type","password"),l.append("timezone","Australia/Sydney"),fetch("".concat(a,"oAuth/Token"),{method:"POST",headers:r,body:l}).then((function(e){return e.text()})).then((function(e){var t=JSON.parse(e);t.error?ge(t.error_description):(Ne(t.access_token),function(e){var t=new Headers;t.append("Authorization","Bearer ".concat(e)),t.append("Content-Type","application/x-www-form-urlencoded");var n={method:"GET",headers:t,redirect:"follow"};fetch("".concat(a,"V1.0/Project?selectorFields=(Id,Abbr)"),n).then((function(e){return e.text()})).then((function(e){y(JSON.parse(e))})).catch((function(e){return console.log("error",e)}))}(t.access_token),s(t),localStorage.setItem("dynFormToken",JSON.stringify(t)),fe(!1))})).catch((function(e){return console.log("error",e)}))},errormsg:pe,clearError:function(){return ge("")}}))};a(76);var Tt=function(){return c.a.createElement("div",{className:"app"},c.a.createElement("header",{className:"header"},c.a.createElement("h1",{title:"v20.11.24"},"DYNAMIC FORM"),c.a.createElement(wt,null)),c.a.createElement("div",{className:"options-container"},c.a.createElement(Y,null)),c.a.createElement(St,null),c.a.createElement("main",null,c.a.createElement(pt,null)))},Jt=Object(i.a)({reducer:{json:y,tabulation:k,display:R}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(o.a,{store:Jt},c.a.createElement(Tt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[48,1,2]]]);
//# sourceMappingURL=main.849d099a.chunk.js.map