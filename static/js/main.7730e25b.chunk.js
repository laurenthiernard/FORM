(this["webpackJsonpform-editor01"]=this["webpackJsonpform-editor01"]||[]).push([[0],{10:function(e,t,a){e.exports={selectItem:"SelectSearchable_selectItem__ytOvQ",selectedItem_delete:"SelectSearchable_selectedItem_delete__DzATU",selectSearchable:"SelectSearchable_selectSearchable__12vBI",selectSearchable_Container:"SelectSearchable_selectSearchable_Container__fToYi",selectSearchable_SearchContainer:"SelectSearchable_selectSearchable_SearchContainer__3eaGr",selectSearchable_ItemsContainer:"SelectSearchable_selectSearchable_ItemsContainer__34yKg",selectSearchable_Header:"SelectSearchable_selectSearchable_Header__20KCq",selectSearchable_SelectedContainer:"SelectSearchable_selectSearchable_SelectedContainer__3HBOF",selectSearchable_Trigger:"SelectSearchable_selectSearchable_Trigger__2brz3",selectSearchable_SelectedItem:"SelectSearchable_selectSearchable_SelectedItem__ya07B",selectSearchable_SelectedItem_Selected:"SelectSearchable_selectSearchable_SelectedItem_Selected__3kePe",selectSearchable_List:"SelectSearchable_selectSearchable_List__12txV",listCollapsed:"SelectSearchable_listCollapsed__2gYJk",ListSmall:"SelectSearchable_ListSmall__24zac",ListMedium:"SelectSearchable_ListMedium__3_qlO",ListLarge:"SelectSearchable_ListLarge__m6apt"}},13:function(e,t,a){e.exports={modalBackdrop:"Modal_modalBackdrop__12d43",modalBackdrop_freeze:"Modal_modalBackdrop_freeze__1CiMV",modalContainer:"Modal_modalContainer__2JZ38",modalHeader:"Modal_modalHeader__3lu0c",modalContent:"Modal_modalContent__5WIER",modalFooter:"Modal_modalFooter__2egbG",modalBtn:"Modal_modalBtn__296dr",modalClose:"Modal_modalClose__2fnre"}},16:function(e,t,a){e.exports={loginBackdrop:"Login_loginBackdrop__2-vXb",loginBackdrop_freeze:"Login_loginBackdrop_freeze__30wYs",loginContainer:"Login_loginContainer__1-kGp",loginHeader:"Login_loginHeader__1dDHJ",loginContent:"Login_loginContent__pNQUT",loginFooter:"Login_loginFooter__1T3EA",loginClose:"Login_loginClose__EEt8w"}},21:function(e,t,a){e.exports={timePicker:"DateTimeInput_timePicker__g55DG",datePicker:"DateTimeInput_datePicker__fMbwV",dateTimeContainer:"DateTimeInput_dateTimeContainer__3DJHa",btnClear:"DateTimeInput_btnClear__1hSf7"}},25:function(e,t,a){e.exports={datePicker:"DateInput_datePicker__1qUGn",dateContainer:"DateInput_dateContainer__3vsHd",btnClear:"DateInput_btnClear__hBuJA"}},26:function(e,t,a){e.exports={timePicker:"TimeInput_timePicker__1bwP3",timeContainer:"TimeInput_timeContainer__15bEw",btnClear:"TimeInput_btnClear__3Cafn"}},31:function(e,t,a){e.exports={container:"Figure_container__1bF2w",btnClose:"Figure_btnClose__3UDU7"}},32:function(e,t,a){e.exports={row:"Tabulation_row__1qqOd",title:"Tabulation_title__2BmpY"}},41:function(e,t,a){e.exports={fixed:"JsonReader_fixed__1abV0"}},42:function(e,t,a){e.exports=a(68)},47:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(23),r=a.n(l),o=(a(47),a(1)),i=a(14),s=Object(i.b)({name:"json",initialState:{value:JSON.parse(localStorage.getItem("json"))||{},documentStatus:"loaded"},reducers:{setJson:function(e,t){e.value=t.payload,localStorage.setItem("json",JSON.stringify(t.payload))},setDocumentStatus:function(e,t){e.documentStatus=t.payload}}}),m=s.actions,d=m.setJson,u=m.setDocumentStatus,b=function(e){return e.json.value},v=function(e){return e.json.documentStatus},E=s.reducer,f=Object(i.b)({name:"tabulation",initialState:{value:0},reducers:{callSection:function(e,t){e.value=t.payload},prevSection:function(e){e.value-=1},nextSection:function(e){e.value+=1}}}),p=f.actions,g=p.callSection,h=p.prevSection,N=p.nextSection,S=function(e){return e.tabulation.value},O=f.reducer,y=Object(i.b)({name:"display",initialState:{value:{},debugMode:!1,errorMsg:""},reducers:{setControls:function(e,t){e.value=t.payload},setDebugMode:function(e,t){e.debugMode=t.payload},setOpenListId:function(e,t){e.openListId=t.payload},setErrorMsg:function(e,t){e.errorMsg=t.payload},clearErrorMsg:function(e){e.errorMsg=""}}}),C=y.actions,j=C.setControls,I=C.setDebugMode,T=C.setOpenListId,w=C.setErrorMsg,_=(C.clearErrorMsg,function(e){return e.display.value}),k=function(e){return e.display.debugMode},x=function(e){return e.display.openListId},J=function(e){return e.display.errorMsg},D=y.reducer,V=a(4),L=a(3);function B(){var e=Object(o.b)(),t=Object(o.c)(k),a=Object(o.c)(v),n=JSON.parse(localStorage.getItem("initialJson"))||{};return c.a.createElement("div",{id:"jsonOptions",className:"".concat("modified"===a?"options-visible":"options-hidden")},c.a.createElement("button",{className:"btn btn-ternary btn-small btn-label",onClick:function(t){e(g(0)),e(d(n))}},c.a.createElement(V.a,{icon:L.i,style:{transform:"scaleX(-1)",marginLeft:0}}),"REVERT CHANGES"),c.a.createElement("button",{className:"btn btn-ternary btn-small btn-label",onClick:function(t){e(d({}))}},c.a.createElement(V.a,{icon:L.m,style:{marginLeft:0}}),"CLEAR DOCUMENT"),c.a.createElement("div",{className:"debug"},c.a.createElement("label",{htmlFor:"debug"},"Debug"),c.a.createElement("input",{type:"checkbox",name:"debug",id:"debug",className:"debug-check",checked:t,onChange:function(t){return e(I(t.target.checked))}})))}var M=a(2);var A=function(e){var t=Object(o.c)(b),a=Object(o.b)(),n=t.Sections&&t.Sections.length>0?t.Sections.map((function(e,t){return"Document.TableOfContents"===e.Elements[0].Type?null:c.a.createElement("li",{key:t},c.a.createElement("button",{className:"btn btn-secondary-outlined btn-link fixed-large",onClick:function(){a(g(t))}},e.Title,c.a.createElement(V.a,{icon:L.d})))})):"";return c.a.createElement("ul",{className:"toc-list"},n)};var F=function(e){var t=e.controlJson,a=t.Type,n=t.Title,l=t.Id,r=t.Data,i=t.IsVisible,s=void 0===i||i,m=Object(o.c)(k),d=Object(o.b)(),u=r.map((function(e,t){return c.a.createElement("option",{key:t,value:t},e)}));return s?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(m?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("label",{htmlFor:"listmulticontrol"},n),c.a.createElement("select",{name:"listmulticontrol",id:"listmulticontrol",onChange:function(e){var a=Number(e.target.value);if(a>=0){var n=void 0!==t.OptionedControls[a].Controls?t.OptionedControls[a].Controls:[],c=[];t.OptionedControls.forEach((function(e,t){void 0!==e.Controls&&t!==a&&e.Controls.forEach((function(e){return c.push(e)}))})),d(j({hiddenControls:c,visibleControls:n}))}}},c.a.createElement("option",{value:"-1"},"-----"),u))):""};var P=function(e){var t=e.controlJson,a=t.Type,n=t.Title,l=t.Id,r=t.IsVisible,i=void 0===r||r,s=t.FontAttributes,m=t.FontSize,d=void 0===m?14:m,u=t.Margin,b=void 0===u?0:u,v=t.HasUnderLine,E=void 0!==v&&v,f=Object(o.c)(k);return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(f?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("div",{className:"control",style:{fontSize:d-2+"px",fontWeight:"Bold"===s?"bold":"",fontStyle:"Italic"===s?"italic":"",borderBottom:E?"1px solid black":"",padding:b?b+"px":""}},n))):""},R=a(13),H=a.n(R),z=a(6);function Y(e){var t=e.visibility,a=e.toggleVisibility,n=e.message,l=e.css,r=e.backdrop,o=Object(z.c)({opacity:t?1:0,from:{opacity:0,zIndex:10},config:z.b.gentle}),i=Object(z.c)({opacity:t?1:0,top:t?0:-25,from:{opacity:0},config:z.b.stiff});var s=r?{backgroundColor:r}:"";return c.a.createElement(z.a.div,{style:o},c.a.createElement("div",{id:"backdrop",className:"".concat(H.a.modalBackdrop," ").concat(t?"":H.a.modalBackdrop_freeze),onClick:function(e){"backdrop"===e.target.id&&a()},style:s},c.a.createElement(z.a.div,{style:i},c.a.createElement("div",{className:H.a.modalContainer,style:l},c.a.createElement("div",{className:H.a.modalClose,onClick:a},c.a.createElement(V.a,{icon:L.l})),c.a.createElement("div",{className:H.a.modalHeader},c.a.createElement(V.a,{icon:L.e})),c.a.createElement("div",{className:H.a.modalContent},n),c.a.createElement("div",{className:H.a.modalFooter},c.a.createElement("button",{className:H.a.modalBtn,onClick:a},"OK"))))))}var G=function(e){var t=e.controlJson,a=t.Type,l=t.Title,r=t.Id,i=t.IsVisible,s=void 0===i||i,m=t.IsEnabled,d=void 0===m||m,u=t.Value,b=void 0===u?"":u,v=t.Format,E=t.Warning,f=void 0!==E&&E,p=t.WarningMessage,g=t.Mandatory,h=t.ValidationMessage,N=Object(o.c)(k),S=Object(n.useState)(!1),O=Object(M.a)(S,2),y=O[0],C=O[1],j=Object(n.useState)(g?{message:h,bgColor:"#EF643C"}:{message:p,bgColor:"#000000"}),I=Object(M.a)(j,2),T=I[0],w=I[1],_=/^[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/,x=[49,50,51,52,53,54,55,56,57,48,189,16,57,48,16,187,32,8,35];function J(a){var n=JSON.parse(JSON.stringify(t));n.Value=a.target.value,e.updateJson(n)}function D(e){var t=e.target;f&&""===t.value&&C(!0),g&&""===t.value&&(t.focus(),C(!0)),void 0!==v&&"Email"===v.Keyboard&&(_.test(e.target.value.toLowerCase())||(w({message:"The email address provided appears not to be valid",bgColor:"#000000"}),C(!0)))}Object(n.useEffect)((function(){}),[t]);var V=void 0!==v?void 0!==v.Lines?c.a.createElement("textarea",{id:r,rows:v.Lines,onChange:J}):"Numeric"===v.Keyboard?c.a.createElement("input",{type:"number",min:v.Min,max:v.Max,size:v.Decimal,onChange:J}):"Telephone"===v.Keyboard?c.a.createElement("input",{type:"text",maxLength:"20",onKeyDown:function(e){"Telephone"===v.Keyboard&&(x.includes(e.keyCode)||e.preventDefault())},onChange:J}):c.a.createElement("input",{id:r,type:"text",value:b,maxLength:v.VarChar||-1,disabled:!d,onBlur:D,onChange:J}):c.a.createElement("input",{id:r,type:"text",value:b,disabled:!d,onBlur:D,onChange:J}),L=p?"*":"",B=g?c.a.createElement("span",{className:"warning-red"},"*"):"";return s?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(N?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("label",{htmlFor:"title"},l," ",L,B),V),c.a.createElement(Y,{visibility:y,toggleVisibility:function(){return C(!y)},message:"".concat(r,": ").concat(T.message),css:{backgroundColor:T.bgColor},backdrop:"rgba(0,0,0,0.3)"})):""},U=a(15),X=a(12),Q=a(40),K=a.n(Q);function W(e){return e.split(".").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("")}function Z(e,t){var a=function(e){return K()(e,{deep:!0,pascalCase:!0})}(e).Sections,n=[];return"undefined"!==t&&a.forEach((function(e,a){e.Elements.forEach((function(e,c){e.hasOwnProperty("Elements")&&e.Elements.forEach((function(e,l){e.hasOwnProperty("Elements")&&e.Elements.forEach((function(e,r){void 0!==e.Id&&e.Id===t&&n.push([a,c,l,r])})),void 0!==e.Id&&e.Id===t&&n.push([a,c,l])})),void 0!==e.Id&&e.Id===t&&n.push([a,c])}))})),n}function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return new Date(e)}var $=[];function ee(e){var t=$.findIndex((function(t){return t.Id===e.Id}));if(console.log("---\x3e: addToDocumentExport -> controlIndex",t),-1===t)$.push(e);else{var a=Object(U.a)({},$[t]);$[t]=Object(U.a)({},a,{},e)}console.log("exportMetaData :"),console.table($)}var te=function e(t){var a=t.controlJson,n=a.Type,l=(a.Title,a.Id),r=(a.Data,a.Elements),i=a.IsVisible,s=void 0===i||i,m=Object(o.c)(k),d={DocumentTableOfContents:A,ListMulticontrol:F,Label:P,Text:G,Repeatable:e,ButtonSubmitPurchase:ae,ButtonAddDocketNumber:ne,API:ce,Date:de,Image:Ee,ImageSingle:fe,ButtonAddReportDate:pe,QRScanner:ge,QRScannerList:he,Signature:Ne,SignatureDateTime:Se,SignatureDate:Oe,Matrix:ye,Checkbox:Ce,Boolean:je,Trilean:Ie,TrileanLabel:Te,ListSingle:we,ListMultiple:_e,Time:Ve,DateTime:Ae,TimeLabel:Fe,DateLabel:Pe,ButtonAddSignature:Re,RegisterSignatures:He,SearchableListEntryDialogSMS:ze,ButtonAddSMS:Ye,SearchableSMSListView:Ge,SearchableListEntryDialogEmail:Ue,ButtonAddEmail:Xe,SearchableEmailListView:Qe,MatrixButton:Ke,DocumentSummaryGrid:We,ButtonSubmitRegister:Ze,ButtonCloseout:qe,ButtonViewDocument:$e};function u(e){console.log("update this: ",e),console.log("in this: ",a.Elements);var n=Object(X.a)(a.Elements),c=n.findIndex((function(t){return t.ID===e.ID}));n[c]=e,console.log("---\x3eelementIndex:  ",c),t.updateJson(Object(U.a)({},a,{Elements:n}))}var b=r.map((function(e,t){var a=W(e.Type),n=d[a];return c.a.createElement(n,{key:t,controlJson:e,updateJson:u})}));return s?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(m?"":"hidden")},n,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(a),disabled:!0})),c.a.createElement("div",{className:"control"},b)):""};var ae=function(e){var t=e.controlJson,a=t.Title,l=t.Id,r=t.IsVisible,o=void 0===r||r,i=Object(n.useState)(!1),s=Object(M.a)(i,2),m=s[0],d=s[1];return o?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){d(!m)}},"ButtonSubmitPurchase",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l)),c.a.createElement("textarea",{className:m?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},a))):""};var ne=function(e){var t=e.controlJson,a=t.Title,l=t.Id,r=t.IsVisible,o=void 0===r||r,i=Object(n.useState)(!1),s=Object(M.a)(i,2),m=s[0],d=s[1];return o?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){d(!m)}},"ButtonAddDocketNumber",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l)),c.a.createElement("textarea",{className:m?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},a))):""};var ce=function(e){var t=e.controlJson,a=t.Title,l=t.Type,r=t.Id,i=t.IsVisible,s=void 0===i||i,m=t.Value,d=void 0===m?"":m,u=t.Api,b=t.IncludePhoneNumber,v=t.IncludeEmail,E=t.IncludeTitle,f=t.IncludeBusinessNumber,p=t.IncludeAbbreviation,g=t.IncludeCode,h=String(u).toLowerCase(),N=Object(o.b)(),S=Object(o.c)(k),O=Object(n.useState)(!0),y=Object(M.a)(O,2),C=y[0],j=y[1],I=Object(n.useState)(""),w=Object(M.a)(I,2),_=w[0],J=w[1],D=Object(n.useState)([]),B=Object(M.a)(D,2),A=B[0],F=B[1],P=Object(n.useState)([]),R=Object(M.a)(P,2),H=R[0],Y=R[1],G=Object(n.useState)(d.constructor===String?[d]:d),U=Object(M.a)(G,2),X=U[0],Q=U[1],K=Object(o.c)(x),W=Object(z.c)({height:C?0:200}),Z=Object(z.d)(X.length,{from:{opacity:0,marginLeft:-12,marginTop:-6,transform:"scaleX(0.6) scaleY(0.8)"},to:{opacity:1,marginLeft:0,marginTop:0,transform:"scaleX(1) scaleY(1)"},config:z.b.stiff}),q="".concat("https://api-uat.extrack.com/V1.0/").concat(function(){switch(h){case"projectcompany":return"Project/".concat(1249,"/Directory/Companies");case"projectcontacts":return"Project/".concat(1249,"/Directory/Contacts");case"globalcontacts":return"Org/contacts";case"dockettypes":return"/Docket/Types";case"abs":return"Project/".concat(1249,"/ABS");case"tbs":return"Project/".concat(1249,"/TBS");case"cbs":return"Project/".concat(1249,"/CbsWo");case"dbs":return"Project/".concat(1249,"/DBS");case"fbs":return"Project/".concat(1249,"/FBS");case"wbs":return"Project/".concat(1249,"/WBS");case"pcbs":return"Project/".concat(1249,"/PCBS");case"pbs":return"Project/".concat(1249,"/PBS")}}()),$=JSON.parse(localStorage.getItem("dynFormToken")),ee=new Headers;ee.append("Authorization","Bearer ".concat($.access_token)),ee.append("Content-Type","application/x-www-form-urlencoded");var te={method:"GET",headers:ee,redirect:"follow"};function ae(e){var t=e.target.id;X[0]!==t?Q([t]):Q([]),ne(t)}function ne(a){var n=JSON.parse(JSON.stringify(t));n.Value===a?n.Value="":(n.Value=a,j(!0)),e.updateJson(n)}Object(n.useEffect)((function(){fetch(q,te).then((function(e){return e.text()})).then((function(e){var t=JSON.parse(e).map((function(e,t){var a,n,c,l,r,o,i,s;switch(u){case"ProjectContacts":n=b?" | ".concat(e.Contact.Number||"n/a"):"",c=v?" | ".concat(e.Contact.Email||"n/a"):"",a="".concat(e.Contact.NameFirst," ").concat(e.Contact.NameLast," | ").concat(e.Company.Name).concat(n).concat(c);break;case"GlobalContacts":n=b?" | ".concat(e.Number||"n/a"):"",c=v?" | ".concat(e.Email||"n/a"):"",a="".concat(e.NameFirst," ").concat(e.NameLast," | ").concat(e.CompanyName).concat(n).concat(c);break;case"ProjectCompany":l=E?" | ".concat(e.Title||"n/a"):"",r=f?" | ".concat(e.Company.Abn||"n/a"):"",o=p?" | ".concat(e.Company.Abbr||"n/a"):"",a="".concat(e.Company.Name).concat(l).concat(r).concat(o);break;case"DocketTypes":a="".concat(e.Title);break;default:l=E?"".concat(e.Title||"n/a"):"",i=g?"".concat(e.Code||"n/a"):"",s=g&&E?" | ":"",a="".concat(l).concat(s).concat(i)}return a}));F(t)})).catch((function(e){return console.log("error",e)}))}),[]),Object(n.useEffect)((function(){C||N(T(r))}),[C,r,N]),Object(n.useEffect)((function(){K!==r&&j(!0)}),[K,r]),Object(n.useEffect)((function(){Y(A.filter((function(e){return e.toLowerCase().includes(_.toLowerCase())})))}),[A,_]);var ce=C?"":H.map((function(e,t){var a=e===d,n=a?c.a.createElement(V.a,{icon:L.c}):"";return c.a.createElement("div",{key:t,id:e,className:"input-list-item ".concat(a?"selected-list-item":""),onClick:ae},n,e)})),le=Z.map((function(e,t){var a=X[t];return""!==a?c.a.createElement(z.a.div,{className:"input-select-item",style:e,key:t},a,c.a.createElement("button",{id:a,className:"remove-item"})):""}));return s?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(S?"":"hidden")},l,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,a),c.a.createElement("div",{className:"input-select",onClick:function(e){var t=e.target;if("input-select"===t.className||"input-select-items"===t.className)j(!C);else if("remove-item"===t.className){var a=t.parentNode.innerText;""!==a&&(ne(""),Q(X.filter((function(e){return e!==a}))))}}},c.a.createElement("div",{className:"input-select-items"},le),c.a.createElement(V.a,{icon:C?L.a:L.b,onClick:function(e){j(!C)}})),c.a.createElement(z.a.div,{style:W,className:"input-list"},c.a.createElement("div",{className:"input-list-searchbar"},c.a.createElement("input",{type:"text",placeholder:"Search",className:"input-list-search",value:_,onChange:function(e){return J(e.target.value)}}),c.a.createElement(V.a,{icon:L.l,onClick:function(e){return J("")}})),c.a.createElement("div",{className:"input-list-items"},ce)))):""},le=a(72),re=a(69),oe=a(70),ie=a(25),se=a.n(ie);function me(e){var t=e.format.replace(/ddd/g,"eee"),a=Object(n.useState)(e.dateValue),l=Object(M.a)(a,2),r=l[0],o=l[1];var i=""===r?r:Object(le.a)(Object(re.a)(Object(oe.a)(new Date(r+" "+(new Date).toTimeString()),e.modifiers.AddDay),e.modifiers.AddMonth),t);return c.a.createElement("div",{className:se.a.dateContainer},c.a.createElement("input",{type:"date",name:"",id:"",className:se.a.datePicker,defaultValue:r,onChange:function(t){return a=t.target.value,o(a),void e.onDateChange(a);var a}}),i,c.a.createElement(V.a,{className:se.a.btnClear,icon:L.l,onClick:function(){o(""),e.onDateChange("")}}))}var de=function(e){var t=e.controlJson,a=t.Type,l=t.Title,r=t.Id,i=t.FormatDateTime,s=void 0===i?"yyyy-MM-dd":i,m=t.IsBlank,d=void 0!==m&&m,u=t.IsVisible,b=void 0===u||u,v=t.AddDay,E=void 0===v?0:v,f=t.AddMonth,p=void 0===f?0:f,g=t.DateValue,h=Object(o.c)(k),N=""===g||void 0===g?"".concat(q().toDateString()):g,S=Object(n.useState)(d?"":N),O=Object(M.a)(S,2),y=O[0],C=O[1];return b?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(h?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,l),c.a.createElement(me,{format:s,dateValue:y,modifiers:{AddDay:E,AddMonth:p},onDateChange:function(a){return function(a){C(a);var n=JSON.parse(JSON.stringify(t));""!==a?n.DateValue=a:delete n.DateValue,n.IsBlank=""===a,e.updateJson(n)}(a)}}))):""},ue=a(31),be=a.n(ue);function ve(e){return c.a.createElement("div",{className:be.a.container},c.a.createElement("img",{src:e.source,alt:"figure"}),c.a.createElement("div",{className:be.a.btnClose,onClick:function(t){e.onClose(t)}},c.a.createElement(V.a,{icon:L.l})))}var Ee=function(e){var t=e.controlJson,a=t.Type,l=t.Title,r=t.Id,i=(t.Data,t.IsVisible),s=void 0===i||i,m=t.Images,d=void 0===m?[]:m,u=Object(o.c)(k),b=Object(n.useState)(""),v=Object(M.a)(b,2);function E(e){console.log("---\x3e ",e)}v[0],v[1],Object(n.useEffect)((function(){}),[t]);var f=d.map((function(e,t){return c.a.createElement("div",{className:"control-row",key:"image".concat(t)},c.a.createElement(ve,{source:"data:image/png; base64, ".concat(e),onClose:E}))}));return s?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(u?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("div",{className:"control-row"},c.a.createElement("h3",{htmlFor:"title"},l),c.a.createElement("label",{htmlFor:"file",className:"btn btn-primary btn-label"},c.a.createElement(V.a,{icon:L.h}),"Select an image"),c.a.createElement("input",{type:"file",id:"file",name:"file",className:"btn-file",onChange:function(e){console.log("pEvent: ",e)}})),f)):""};var fe=function(e){var t=e.controlJson,a=t.Type,l=t.Title,r=t.Id,i=(t.Data,t.IsVisible),s=void 0===i||i,m=t.Value,d=void 0===m?"":m,u=Object(o.c)(k);Object(n.useEffect)((function(){}),[t]);var b=""!==d?c.a.createElement(ve,{source:"data:image/png; base64, ".concat(d),onClose:function(a){console.log("---\x3e ",a);var n=JSON.parse(JSON.stringify(t));delete n.Value,e.updateJson(n)}}):"";return s?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(u?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("div",{className:"control-row"},c.a.createElement("h3",{htmlFor:"title"},l),c.a.createElement("label",{htmlFor:"file",className:"btn btn-primary btn-label"},c.a.createElement(V.a,{icon:L.h}),"Select an image"),c.a.createElement("input",{type:"file",id:"file",name:"file",className:"btn-file",onChange:function(a){var n,c=new FileReader;c.onload=function(a){n=a.target.result.replace("data:image/png;base64,","");var c=JSON.parse(JSON.stringify(t));c.Value=n,e.updateJson(c)},c.readAsDataURL(a.target.files[0])}})),c.a.createElement("div",{className:"control-row"},b))):""};var pe=function(e){var t=e.controlJson,a=t.Title,l=t.Id,r=t.IsVisible,o=void 0===r||r,i=Object(n.useState)(!1),s=Object(M.a)(i,2),m=s[0],d=s[1];return o?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){d(!m)}},"ButtonAddReportDate",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l)),c.a.createElement("textarea",{className:m?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},a))):""};var ge=function(){return c.a.createElement("div",null,"QRScanner")};var he=function(){return c.a.createElement("div",null,"QRScannerList")};var Ne=function(e){var t=e.controlJson,a=t.Type,n=t.Title,l=t.Id,r=t.IsVisible,i=void 0===r||r,s=t.Signature,m=Object(o.c)(k),d=c.a.createElement("img",{src:"data:image/png;base64, ".concat(s),alt:"",width:"100"});return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(m?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,n),c.a.createElement("div",{className:"control-row"},c.a.createElement("div",{className:"signature-display"},d)))):""};var Se=function(e){var t=e.controlJson,a=t.Type,n=t.Title,l=t.Id,r=t.IsVisible,i=void 0===r||r,s=t.Signature,m=t.DateTimeValue,d=Object(o.c)(k),u=c.a.createElement("img",{src:"data:image/png;base64, ".concat(s),alt:"",width:"100"});return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(d?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,n),c.a.createElement("div",{className:"control-row"},c.a.createElement("div",{className:"signature-display"},u,c.a.createElement("div",{className:"signature-timestamp"},m))))):""};var Oe=function(e){var t=e.controlJson,a=t.Type,n=t.Title,l=t.Id,r=t.IsVisible,i=void 0===r||r,s=t.Signature,m=t.DateValue,d=Object(o.c)(k),u=c.a.createElement("img",{src:"data:image/png;base64, ".concat(s),alt:"",width:"100"});return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(d?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,n),c.a.createElement("div",{className:"control-row"},c.a.createElement("div",{className:"signature-display"},u,c.a.createElement("div",{className:"signature-timestamp"},m))))):""};function ye(e){var t=e.controlJson,a=t.Type,n=t.Id,l=t.Title,r=t.Columns,i=t.Rows,s=t.Elements,m=t.IsVisible,d=void 0===m||m;console.log("---\x3e: Matrix -> Elements",s);for(var u=Object(o.c)(k),b={ListMulticontrol:F,Label:P,Text:G,Repeatable:te,ButtonSubmitPurchase:ae,ButtonAddDocketNumber:ne,API:ce,Date:de,Image:Ee,ImageSingle:fe,ButtonAddReportDate:pe,QRScanner:ge,QRScannerList:he,Signature:Ne,SignatureDateTime:Se,SignatureDate:Oe,Checkbox:Ce,Boolean:je,Trilean:Ie,TrileanLabel:Te,ListSingle:we,ListMultiple:_e,Time:Ve,DateTime:Ae,TimeLabel:Fe,DateLabel:Pe,ButtonAddSignature:Re,RegisterSignatures:He},v=[],E=0;E<s.length;E++)for(var f=0;f<s[E].Elements.length;f++){var p=s[E].Elements[f],g=W(p.Type),h=b[g],N=c.a.createElement(h,{key:"".concat(g.substring(0,4).toLowerCase(),"-").concat(p.ElementId),controlJson:p,updateJson:S});v.push(c.a.createElement("div",{key:"".concat(E,"-").concat(f),className:"matrix-box",style:{backgroundColor:E%2>0?"rgb(244, 244, 244)":"",borderBottom:E%2>0?"1px solid #CCC":""}},N))}function S(e){console.log("---\x3e: updateJsonHandler -> pJson",e)}return d?c.a.createElement("div",{className:"control-container control-container-matrix"},c.a.createElement("div",{className:"tag ".concat(u?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},n),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,l),c.a.createElement("div",{className:"control-row"},c.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(".concat(r,", 1fr)"),gridTemplateRows:"repeat(".concat(i,", 1fr)")}},v)))):""}var Ce=function(e){var t=e.controlJson,a=t.Type,l=t.Title,r=t.Id,i=t.ShowComment,s=t.Collapsible,m=t.IsCollapsed,d=t.EntryTitle,u=t.Details,b=t.HasUnderLine,v=t.IsVisible,E=void 0===v||v,f=t.Value,p=void 0===f?"":f,g=t.CommentValue,h=void 0===g?"":g,N=Object(n.useState)(m),S=Object(M.a)(N,2),O=S[0],y=S[1],C=Object(o.c)(k);Object(n.useEffect)((function(){}),[t]);var j=i?c.a.createElement("input",{type:"text",placeholder:d,value:h,onChange:function(a){var n=a.target.value;ee({Id:r,CommentValue:n});var c=JSON.parse(JSON.stringify(t));c.CommentValue=n,e.updateJson(c)}}):"",I=s?c.a.createElement("div",{className:"control-details-container"},c.a.createElement("div",{className:"control-details-toggle",onClick:function(e){y(!O)}},c.a.createElement(V.a,{icon:O?L.a:L.b})),c.a.createElement("div",{id:"controlDetails",className:"".concat(O?"hidden":""," control-details-details")},u)):"",T=d?c.a.createElement("label",{htmlFor:"checkbox"},d):"";return E?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(C?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control ".concat(b?"control-underline":"")},c.a.createElement("h3",null,l),I,c.a.createElement("input",{type:"checkbox",defaultChecked:"Y"===p,onChange:function(n){var c=!0===n.target.checked?"Y":"N";ee({Type:a,Id:r,Value:c});var l=JSON.parse(JSON.stringify(t));l.Value=c,e.updateJson(l)}}),T,j)):""};var je=function(e){var t=e.controlJson,a=t.Type,l=t.Title,r=t.Id,i=t.ShowComment,s=t.Collapsible,m=t.IsCollapsed,d=t.HasUnderLine,u=t.EntryTitle,b=t.Details,v=t.IsVisible,E=void 0===v||v,f=t.Value,p=void 0===f?"":f,g=t.CommentValue,h=void 0===g?"":g,N=Object(n.useState)(m),S=Object(M.a)(N,2),O=S[0],y=S[1],C=Object(o.c)(k);function j(n){var c=n.target.value;ee({Type:a,Id:r,Value:c});var l=JSON.parse(JSON.stringify(t));l.Value=c,e.updateJson(l)}var I=i?c.a.createElement("input",{type:"text",placeholder:u,value:h,onChange:function(a){console.log("pEvent.target.value: ",a.target.value);var n=JSON.parse(JSON.stringify(t));n.CommentValue=a.target.value,e.updateJson(n)}}):"",T=s?c.a.createElement("div",{className:"control-details-container"},c.a.createElement("div",{className:"control-details-toggle",onClick:function(e){y(!O)}},c.a.createElement(V.a,{icon:O?L.a:L.b})),c.a.createElement("div",{id:"controlDetails",className:"".concat(O?"hidden":""," control-details-details")},b)):"",w=u?c.a.createElement("label",{htmlFor:"checkbox"},u):"";return E?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(C?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},l,c.a.createElement("div",{className:"control-inline"},T),c.a.createElement("div",{className:"control-inline ".concat(d?"control-underline":"")},c.a.createElement("div",{className:"control-checkbox"},c.a.createElement("label",{htmlFor:"yes"},"Yes"),c.a.createElement("input",{type:"radio",id:"yes",name:r,value:"Y",checked:"Y"===p,onChange:j})),c.a.createElement("div",{className:"control-checkbox"},c.a.createElement("label",{htmlFor:"no"},"No"),c.a.createElement("input",{type:"radio",id:"no",name:r,value:"N",checked:"N"===p,onChange:j}))),c.a.createElement("div",{className:"control-inline"},w),c.a.createElement("div",{className:"control-inline"},I))):""};var Ie=function(e){var t=e.controlJson,a=t.Type,l=t.Title,r=t.Id,i=t.ShowComment,s=t.HideNa,m=t.IsVisible,d=void 0===m||m,u=t.Collapsible,b=t.IsCollapsed,v=t.EntryTitle,E=t.Details,f=t.Value,p=void 0===f?"":f,g=t.CommentValue,h=void 0===g?"":g,N=Object(n.useState)(b),S=Object(M.a)(N,2),O=S[0],y=S[1],C=Object(o.c)(k);function j(n){var c=n.target.value;ee({Type:a,Id:r,Value:c});var l=JSON.parse(JSON.stringify(t));l.Value=c,e.updateJson(l)}Object(n.useEffect)((function(){}),[t]);var I=i?c.a.createElement("input",{type:"text",placeholder:v,value:h,onChange:function(a){var n=JSON.parse(JSON.stringify(t));n.CommentValue=a.target.value,e.updateJson(n)}}):"",T=u?c.a.createElement("div",{className:"control-details-container"},c.a.createElement("div",{className:"control-details-toggle",onClick:function(e){y(!O)}},c.a.createElement(V.a,{icon:O?L.a:L.b})),c.a.createElement("div",{id:"controlDetails",className:"".concat(O?"hidden":""," control-details-details")},E)):"";return d?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(C?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},l,c.a.createElement("div",{className:"control-row"},T),c.a.createElement("div",{className:"control-row"},c.a.createElement("div",{className:"control-inline"},c.a.createElement("div",{className:"control-checkbox"},c.a.createElement("label",{htmlFor:"yes"},"Yes"),c.a.createElement("input",{type:"radio",id:"yes",name:r,value:"Y",checked:"Y"===p,onChange:j})),c.a.createElement("div",{className:"control-checkbox"},c.a.createElement("label",{htmlFor:"no"},"No"),c.a.createElement("input",{type:"radio",id:"no",name:r,value:"N",checked:"N"===p,onChange:j})),c.a.createElement("div",{className:"".concat(s?"hidden":""," control-checkbox")},c.a.createElement("label",{htmlFor:"na"},"N/A"),c.a.createElement("input",{type:"radio",id:"na",name:r,value:"NA",checked:"NA"===p,onChange:j})))),c.a.createElement("div",{className:"control-row"},I))):""};var Te=function(e){var t=e.controlJson,a=t.Type,n=t.Title,l=t.Id,r=t.IsVisible,i=void 0===r||r,s=t.Buttons,m=t.CommentValue,d=t.HasUnderLine,u=t.ShowComment,b=t.HideNa,v=t.Value,E=Object(o.c)(k);function f(a){var n=JSON.parse(JSON.stringify(t));n.Value=a.target.value,e.updateJson(n)}var p=void 0!==s?s.map((function(e,t){var a=v===e.Button?e.BackgroundColorSelected:e.BackgroundColor;if(!b||"NA"!==e.Button)return c.a.createElement(c.a.Fragment,{key:"".concat(l).concat(t)},c.a.createElement("input",{type:"radio",name:l,id:"".concat(l).concat(e.Label),value:e.Button,className:"radiocheck-hidden",onChange:f}),c.a.createElement("label",{htmlFor:"".concat(l).concat(e.Label),className:"radiocheck-button",style:{backgroundColor:a}},e.Label))})):"",g=u?c.a.createElement("div",{className:"control-row"},m):"",h=d?c.a.createElement("hr",null):"";return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(E?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,n),g,c.a.createElement("div",{className:"control-row"},p,h))):""};var we=function(e){var t=e.controlJson,a=t.Type,l=t.Title,r=t.Id,i=t.Data,s=t.Value,m=void 0===s?"":s,d=t.IsVisible,u=void 0===d||d,b=Object(o.b)(),v=Object(o.c)(k),E=Object(n.useState)(!0),f=Object(M.a)(E,2),p=f[0],g=f[1],h=Object(n.useState)(""),N=Object(M.a)(h,2),S=N[0],O=N[1],y=Object(n.useState)([]),C=Object(M.a)(y,2),j=C[0],I=C[1],w=Object(n.useState)(m.constructor===String?[m]:m),_=Object(M.a)(w,2),J=_[0],D=_[1],B=Object(o.c)(x),A=Object(z.c)({height:p?0:200}),F=Object(z.d)(J.length,{from:{opacity:0,marginLeft:-12,marginTop:-6,transform:"scaleX(0.6) scaleY(0.8)"},to:{opacity:1,marginLeft:0,marginTop:0,transform:"scaleX(1) scaleY(1)"},config:z.b.stiff});function P(e){J[0]!==e.target.id?D([e.target.id]):D([]),R(e.target.id)}function R(a){var n=JSON.parse(JSON.stringify(t));n.Value===a?n.Value="":(n.Value=a,g(!0)),e.updateJson(n)}Object(n.useEffect)((function(){p||b(T(r))}),[p,r,b]),Object(n.useEffect)((function(){B!==r&&g(!0)}),[B,r]),Object(n.useEffect)((function(){I(i.filter((function(e){return e.toLowerCase().includes(S.toLowerCase())})))}),[i,S]);var H=p?"":j.map((function(e,t){var a=J.findIndex((function(t){return e===t}))>-1,n=a?c.a.createElement(V.a,{icon:L.c}):"";return c.a.createElement("div",{key:t,id:e,className:"input-list-item ".concat(a?"selected-list-item":""),onClick:P},n,e)})),Y=F.map((function(e,t){var a=J[t];return""!==a?c.a.createElement(z.a.div,{className:"input-select-item",style:e,key:t},a,c.a.createElement("button",{id:a,className:"remove-item"})):""}));return u?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(v?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,l),c.a.createElement("div",{className:"input-select",onClick:function(e){var t=e.target;if("input-select"===t.className||"input-select-items"===t.className)g(!p);else if("remove-item"===t.className){var a=t.parentNode.innerText;""!==a&&(R(""),D(J.filter((function(e){return e!==a}))))}}},c.a.createElement("div",{className:"input-select-items"},Y),c.a.createElement(V.a,{icon:p?L.a:L.b,onClick:function(e){g(!p)}})),c.a.createElement(z.a.div,{style:A,className:"input-list"},c.a.createElement("div",{className:"input-list-searchbar"},c.a.createElement("input",{type:"text",placeholder:"Search",className:"input-list-search",value:S,onChange:function(e){return O(e.target.value)}}),c.a.createElement(V.a,{icon:L.l,onClick:function(e){return O("")}})),c.a.createElement("div",{className:"input-list-items"},H)))):""};var _e=function(e){var t=e.controlJson,a=t.Type,l=t.Title,r=t.Id,i=t.Data,s=t.SelectedValue,m=void 0===s?[]:s,d=t.IsVisible,u=void 0===d||d,b=Object(o.b)(),v=Object(o.c)(k),E=Object(n.useState)(!0),f=Object(M.a)(E,2),p=f[0],g=f[1],h=Object(n.useState)(""),N=Object(M.a)(h,2),S=N[0],O=N[1],y=Object(n.useState)([]),C=Object(M.a)(y,2),j=C[0],I=C[1],w=Object(n.useState)(m||[]),_=Object(M.a)(w,2),J=_[0],D=_[1],B=Object(o.c)(x),A=Object(z.c)({height:p?0:200}),F=Object(z.d)(J.length,{from:{opacity:0,marginLeft:-12,marginTop:-6,transform:"scaleX(0.6) scaleY(0.8)"},to:{opacity:1,marginLeft:0,marginTop:0,transform:"scaleX(1) scaleY(1)"},config:{mass:1,tension:500,friction:26}});function P(e){var t=e.target.id,a=J.findIndex((function(e){return e===t}))<0?[].concat(Object(X.a)(J),[t]):J.filter((function(e){return e!==t}));D(a),R(a)}function R(a){var n=JSON.parse(JSON.stringify(t));n.SelectedValue=a,e.updateJson(n)}Object(n.useEffect)((function(){p||b(T(r))}),[p,r,b]),Object(n.useEffect)((function(){B!==r&&g(!0)}),[B,r]),Object(n.useEffect)((function(){I(i.filter((function(e){return e.toLowerCase().includes(S.toLowerCase())})))}),[i,S]);var H=p?"":j.map((function(e,t){var a=J.findIndex((function(t){return e===t}))>-1,n=a?c.a.createElement(V.a,{icon:L.c}):"";return c.a.createElement("div",{key:t,id:e,className:"input-list-item ".concat(a?"selected-list-item":""),onClick:P},n,e)})),Y=F.map((function(e,t){var a=J[t];return""!==a?c.a.createElement(z.a.div,{className:"input-select-item",style:e,key:t},a,c.a.createElement("button",{id:a,className:"remove-item"})):""}));return u?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(v?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,l),c.a.createElement("div",{className:"input-select",onClick:function(e){var t=e.target;if("input-select"===t.className||"input-select-items"===t.className)g(!p);else if("remove-item"===t.className){var a=t.parentNode.innerText;if(""!==a){var n=J.filter((function(e){return e!==a}));D(n),R(n)}}}},c.a.createElement("div",{className:"input-select-items"},Y),c.a.createElement(V.a,{icon:p?L.a:L.b,onClick:function(e){g(!p)}})),c.a.createElement(z.a.div,{style:A,className:"input-list"},c.a.createElement("div",{className:"input-list-searchbar"},c.a.createElement("input",{type:"text",placeholder:"Search",className:"input-list-search",value:S,onChange:function(e){return O(e.target.value)}}),c.a.createElement(V.a,{icon:L.l,onClick:function(e){return O("")}})),c.a.createElement("div",{className:"input-list-items"},H)))):""},ke=a(71),xe=a(26),Je=a.n(xe);function De(e){var t=e.format.replace("tt","a"),a=Object(n.useState)(e.timeValue),l=Object(M.a)(a,2),r=l[0],o=l[1];var i,s=""!==r?Object(le.a)(Object(ke.a)((i=r,new Date((new Date).toDateString()+" "+i)),e.modifiers.AddHour),t):"";return c.a.createElement("div",{className:Je.a.timeContainer},c.a.createElement("input",{type:"time",name:"",id:"",className:Je.a.timePicker,value:r,onChange:function(t){return a=t.target.value,o(a),void e.onTimeChange(a);var a}}),s,c.a.createElement(V.a,{className:Je.a.btnClear,icon:L.l,onClick:function(t){o(""),e.onTimeChange("")}}))}var Ve=function(e){var t=e.controlJson,a=t.Type,l=t.Title,r=t.Id,i=t.FormatDateTime,s=void 0===i?"hh:mm tt":i,m=t.IsBlank,d=void 0!==m&&m,u=t.IsVisible,b=void 0===u||u,v=t.AddHour,E=void 0===v?0:v,f=t.TimeValue,p=Object(o.c)(k),g=""===f||void 0===f?"".concat((new Date).getHours()<10?"0"+(new Date).getHours():(new Date).getHours(),":").concat((new Date).getMinutes()<10?"0"+(new Date).getMinutes():(new Date).getMinutes()):f,h=Object(n.useState)(d?"":g),N=Object(M.a)(h,2),S=N[0],O=N[1];return b?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(p?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,l),c.a.createElement(De,{format:s,timeValue:S,modifiers:{AddHour:E},onTimeChange:function(a){return function(a){console.log("---\x3e: onTimeChangeHandler -> pTime",a),O(a);var n=JSON.parse(JSON.stringify(t));""!==a?n.TimeValue=a:delete n.TimeValue,n.IsBlank=""===a,e.updateJson(n)}(a)}}))):""},Le=a(21),Be=a.n(Le);function Me(e){var t=e.format.replace(/ddd/g,"eee").replace("tt","a"),a=e.dateTimeValue,n=""!==a?"".concat(Object(le.a)(new Date(a),"yyyy-MM-dd")):Object(le.a)(new Date,"yyyy-MM-dd"),l=""!==a?"".concat(new Date(a).toLocaleTimeString()):(new Date).toLocaleTimeString();var r=""!==a?Object(le.a)(new Date(a),t):"";return c.a.createElement("div",{className:Be.a.dateTimeContainer},c.a.createElement("div",null,c.a.createElement("input",{type:"date",className:Be.a.datePicker,name:"",id:"",onChange:function(t){n=t.target.value,e.onDateTimeChange(t.target.value+" "+l)}}),c.a.createElement("input",{type:"time",className:Be.a.timePicker,name:"",id:"",onChange:function(t){l=t.target.value,e.onDateTimeChange(n+" "+t.target.value)}})),r,c.a.createElement(V.a,{className:Be.a.btnClear,icon:L.l,onClick:function(){n="",l="",e.onDateTimeChange("")}}))}var Ae=function(e){var t=e.controlJson,a=t.Type,l=t.Title,r=t.Id,i=t.FormatDateTime,s=void 0===i?"yyyy-MM-dd hh:mm tt":i,m=t.IsBlank,d=void 0!==m&&m,u=t.IsVisible,b=void 0===u||u,v=t.DateTimeValue,E=Object(o.c)(k),f=""===v||void 0===v?"".concat(q().toDateString()+" "+q().toLocaleTimeString()):v,p=Object(n.useState)(d?"":f),g=Object(M.a)(p,2),h=g[0],N=g[1];return b?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(E?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,l),c.a.createElement(Me,{format:s,dateTimeValue:h,onDateTimeChange:function(a){return function(a){N(a);var n=JSON.parse(JSON.stringify(t));""!==a?n.DateTimeValue=a:delete n.DateTimeValue,n.IsBlank=""===a,e.updateJson(n)}(a)}}))):""};var Fe=function(){return c.a.createElement("div",null,"TimeLabel")};var Pe=function(){return c.a.createElement("div",null,"DateLabel")};var Re=function(e){var t=e.controlJson,a=t.Type,n=t.Title,l=t.Id,r=t.IsVisible,i=void 0===r||r,s=Object(o.c)(k);return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(s?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},n))):""};var He=function(){return c.a.createElement("div",null,"RegisterSignatures")};var ze=function(){return c.a.createElement("div",null,"SearchableListEntryDialogSMS")};var Ye=function(e){var t=e.controlJson,a=t.Type,n=t.Title,l=t.Id,r=t.IsVisible,i=void 0===r||r,s=Object(o.c)(k);return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(s?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},n))):""};var Ge=function(){return c.a.createElement("div",null,"SearchableSMSListView")};var Ue=function(){return c.a.createElement("div",null,"SearchableListEntryDialogEmail")};var Xe=function(e){var t=e.controlJson,a=t.Type,n=t.Title,l=t.Id,r=t.IsVisible,i=void 0===r||r,s=Object(o.c)(k);return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(s?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},n))):""};var Qe=function(){return c.a.createElement("div",null,"SearchableEmailListView")};function Ke(e){var t=e.controlJson,a=t.Id,l=t.Title,r=t.Type,i=t.IsVisible,s=void 0===i||i,m=t.Selection,d=t.XAxisName,u=t.YAxisName,b=t.Legend,v=t.Columns,E=t.Rows,f=t.Elements,p=Object(o.c)(k),g=b.ShowLegend,h=Object(n.useState)([]),N=Object(M.a)(h,2);N[0],N[1];function S(a){var n=a.split("-"),c=JSON.parse(JSON.stringify(t));if("single"===m)for(var l=0;l<c.Elements.length;l++)for(var r=0;r<c.Elements[l].Elements.length;r++)c.Elements[l].Elements[r].Value&&(c.Elements[l].Elements[r].Value=!1);var o=void 0!==f[n[0]].Elements[n[1]].Value&&f[n[0]].Elements[n[1]].Value;c.Elements[n[0]].Elements[n[1]].Value=!o,e.updateJson(c)}for(var O=[],y=0;y<f.length;y++)for(var C=function(e){var t=f[y].Elements[e],a="".concat(y,"-").concat(e),n="".concat(b.LegendValuesY.Name,": ").concat(b.LegendValuesY.Values[y],"\n").concat(b.LegendValuesX.Name,": ").concat(b.LegendValuesX.Values[e]);O.push(c.a.createElement("div",{key:a,id:a,title:n,className:"matrix-box matrix-button",style:{backgroundColor:t.Value?t.BackgroundColorSelected:t.BackgroundColor},onClick:function(){return S(a)}},t.Title))},j=0;j<f[y].Elements.length;j++)C(j);var I=b.LegendValuesX.Values.map((function(e,t){return c.a.createElement("li",{key:t},e)})),T=b.LegendValuesY.Values.map((function(e,t){return c.a.createElement("li",{key:t},e)})),w=g?c.a.createElement("div",{className:"matrix-legend"},c.a.createElement("div",null,c.a.createElement("h5",null,b.LegendValuesY.Name,":"),T),c.a.createElement("div",null,c.a.createElement("h5",null,b.LegendValuesX.Name,":"),I)):"";return s?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(p?"":"hidden")},r,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},a),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,l),c.a.createElement("div",{className:"control-row"},c.a.createElement("div",{className:"matrix-container"},c.a.createElement("h4",{className:"matrix-yaxis"},u),c.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(".concat(v,", 1fr)"),gridTemplateRows:"repeat(".concat(E,", 1fr)")}},O),c.a.createElement("h4",{className:"matrix-xaxis"},d)),c.a.createElement("div",{className:"matrix-footer"},w)))):""}var We=function(){return c.a.createElement("div",null,"DocumentSummaryGrid")};var Ze=function(e){var t=e.controlJson,a=t.Type,n=t.Title,l=t.Id,r=t.IsVisible,i=void 0===r||r,s=Object(o.b)(),m=Object(o.c)(k);return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(m?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary",onClick:function(e){s(u("tosend"))}},n))):""};var qe=function(e){var t=e.controlJson,a=t.Type,n=t.Title,l=t.Id,r=t.IsVisible,i=void 0===r||r,s=Object(o.c)(k);return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(s?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},n))):""};var $e=function(e){var t=e.controlJson,a=t.Type,n=t.Title,l=t.Id,r=t.IsVisible,i=void 0===r||r,s=Object(o.c)(k);return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(s?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l),c.a.createElement("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},n))):""},et=a(41),tt=a.n(et);function at(){var e={DocumentTableOfContents:A,ListMulticontrol:F,Label:P,Text:G,Repeatable:te,ButtonSubmitPurchase:ae,ButtonAddDocketNumber:ne,API:ce,Date:de,Image:Ee,ImageSingle:fe,ButtonAddReportDate:pe,QRScanner:ge,QRScannerList:he,Signature:Ne,SignatureDateTime:Se,SignatureDate:Oe,Matrix:ye,Checkbox:Ce,Boolean:je,Trilean:Ie,TrileanLabel:Te,ListSingle:we,ListMultiple:_e,Time:Ve,DateTime:Ae,TimeLabel:Fe,DateLabel:Pe,ButtonAddSignature:Re,RegisterSignatures:He,SearchableListEntryDialogSMS:ze,ButtonAddSMS:Ye,SearchableSMSListView:Ge,SearchableListEntryDialogEmail:Ue,ButtonAddEmail:Xe,SearchableEmailListView:Qe,MatrixButton:Ke,DocumentSummaryGrid:We,ButtonSubmitRegister:Ze,ButtonCloseout:qe,ButtonViewDocument:$e},t=Object(o.c)(b),a=Object(o.c)(k),l=Object(o.c)(J),r=Object(o.c)(_),i=Object(o.c)(v),s=Object(o.b)(),m=Object(o.c)((function(e){return e.tabulation.value})),E=void 0!==t.Sections?t.Sections[m]:{},f=(E.Title,E.Elements),p=Object(n.useState)([]),g=Object(M.a)(p,2),h=g[0],N=g[1];function S(e){var a=t.Sections[m],n={};return a.Elements.forEach((function(a,c){a.hasOwnProperty("Elements")&&a.Elements.forEach((function(t,a){t.hasOwnProperty("Elements")&&t.Elements.forEach((function(t,l){t.Id===e&&(n={section:m,index:c,subindex:a,subsubindex:l},t)})),t.Id===e&&(n={section:m,index:c,subindex:a},t)})),a.Id===e&&(n={section:m,index:c},t.Sections[m].Elements[c])})),n}function O(e){console.log("updating... ",i),"loaded"===i&&s(u("modified"));var a=S(e.Id),n=JSON.parse(JSON.stringify(t));n.Sections[a.section].Elements[a.index]=e,s(d(n))}Object(n.useEffect)((function(){if(void 0!==f){var t=f.map((function(t,a){var n,l=W(t.Type);if(void 0!==e[l]){var r=e[l];n=c.a.createElement(r,{key:"".concat(l.substring(0,4).toLowerCase(),"-").concat(t.ElementId),controlJson:t,updateJson:O})}return n}));N(t)}else N("")}),[f]),Object(n.useEffect)((function(){var e=JSON.parse(JSON.stringify(t));void 0!==r.hiddenControls&&r.hiddenControls.forEach((function(t){var a=S(t);a.hasOwnProperty("subsubindex")||a.hasOwnProperty("subindex")?e.Sections[a.section].Elements[a.index].Elements[a.subindex].Elements[a.subsubindex].IsVisible=!1:e.Sections[a.section].Elements[a.index].IsVisible=!1})),void 0!==r.visibleControls&&r.visibleControls.forEach((function(t){var a=S(t);a.hasOwnProperty("subsubindex")||a.hasOwnProperty("subindex")?e.Sections[a.section].Elements[a.index].Elements[a.subindex].Elements[a.subsubindex].IsVisible=!0:e.Sections[a.section].Elements[a.index].IsVisible=!0})),s(d(e))}),[r]);var y="loading"===i?c.a.createElement("div",{className:"skeleton"},Array(12).fill("").map((function(e,t){return c.a.createElement("div",{key:t,className:"".concat(t%2===1?"skeleton-bloc-offset":""," skeleton-bloc")})}))):"";return c.a.createElement("div",{className:"board"},c.a.createElement("div",{className:"".concat(l.length>0?"":"hidden"," error-msg")},l),y,h,c.a.createElement("textarea",{name:"jsonviewer",id:"jsonviewer",className:a?"".concat(tt.a.fixed):"hidden",rows:"16",value:JSON.stringify(f),onChange:function(e){return s(d(JSON.parse(e.target.value)))}}))}var nt=a(32),ct=a.n(nt);var lt=function(){var e=Object(o.b)(),t=Object(o.c)(S),a=Object(o.c)(b),n=a.Sections?a.Sections.length:0,l=a.Sections?a.Sections[t].Title:"";return c.a.createElement("nav",{className:ct.a.row},c.a.createElement("button",{className:"btn btn-primary",disabled:0===n||0===t,onClick:function(t){e(g(0))}},c.a.createElement(V.a,{icon:L.f})),c.a.createElement("button",{className:"btn btn-primary",disabled:0===n||0===t,onClick:function(a){t>0&&e(h())}},c.a.createElement(V.a,{icon:L.j})),c.a.createElement("div",{className:ct.a.title},c.a.createElement("h2",null,l)),c.a.createElement("button",{className:"btn btn-primary",disabled:0===n||t===n-1,onClick:function(a){t<n-1&&e(N())}},c.a.createElement(V.a,{icon:L.k})),c.a.createElement("button",{className:"btn btn-primary",disabled:0===n||t===n-1,onClick:function(t){e(g(n-1))}},c.a.createElement(V.a,{icon:L.g})))},rt=a(19),ot=a.n(rt),it=a(33),st=a(16),mt=a.n(st);function dt(e){var t=e.visibility,a=e.toggleVisibility,l=e.css,r=e.backdrop,o=e.errormsg,i=Object(z.c)({opacity:t?1:0,from:{opacity:0,zIndex:10},config:z.b.gentle}),s=Object(z.c)({opacity:t?1:0,top:t?0:-25,from:{opacity:0},config:z.b.stiff});var m=r?{backgroundColor:r}:"",d=Object(n.useState)(""),u=Object(M.a)(d,2),b=u[0],v=u[1],E=Object(n.useState)(""),f=Object(M.a)(E,2),p=f[0],g=f[1],h=Object(n.useState)(""),N=Object(M.a)(h,2),S=N[0],O=N[1];return c.a.createElement(z.a.div,{style:i},c.a.createElement("div",{id:"backdrop",className:"".concat(mt.a.loginBackdrop," ").concat(t?"":mt.a.loginBackdrop_freeze),onClick:function(e){"backdrop"===e.target.id&&a()},style:m},c.a.createElement(z.a.div,{style:s},c.a.createElement("div",{className:mt.a.loginContainer,style:l},c.a.createElement("div",{className:mt.a.loginClose,onClick:a},c.a.createElement(V.a,{icon:L.l})),c.a.createElement("div",{className:mt.a.loginHeader},c.a.createElement(V.a,{icon:L.n})),c.a.createElement("div",{className:mt.a.loginContent},c.a.createElement("form",null,c.a.createElement("label",{htmlFor:"username"},"username"),c.a.createElement("input",{type:"text",name:"username",id:"username",onChange:function(e){return v(e.target.value)},onFocus:function(){return e.clearError()}}),c.a.createElement("label",{htmlFor:"password"},"password"),c.a.createElement("input",{type:"password",name:"password",id:"password",onChange:function(e){return g(e.target.value)},onFocus:function(){return e.clearError()}}),c.a.createElement("label",{htmlFor:"member"},"member"),c.a.createElement("input",{type:"text",name:"member",id:"member",onChange:function(e){return O(e.target.value)},onFocus:function(){return e.clearError()}}))),c.a.createElement("div",{className:mt.a.loginFooter},c.a.createElement("button",{className:"btn btn-primary",onClick:function(t){return e.onSubmit(b,p,S)}},"SUBMIT"),o)))))}var ut=a(10),bt=a.n(ut);function vt(e){var t=Object(n.useState)(""),a=Object(M.a)(t,2),l=a[0],r=a[1],o=Object(n.useRef)(null),i=e.items,s=e.allowMultiple,m=e.width,d=l.length>0?i.filter((function(e){return String(e.label).toLowerCase().includes(l.toLowerCase())})):i,u=function(e){var t=Object(n.useState)(e),a=Object(M.a)(t,2),c=a[0],l=a[1],r=Object(n.useRef)(null),o=function(e){r.current&&!r.current.contains(e.target)&&l(!1)};return Object(n.useEffect)((function(){return document.addEventListener("click",o,!0),function(){document.removeEventListener("click",o,!0)}}),[]),{ref:r,isVisible:c,setIsVisible:l}}(!1),b=u.ref,v=u.isVisible,E=u.setIsVisible;function f(t,a){(t.stopPropagation(),t.currentTarget.className.includes("delete"))?e.onSelectItem([]):s?e.selectedItems.findIndex((function(e){return e===a}))>-1?e.onSelectItem(e.selectedItems.filter((function(e){return e!==a}))):e.onSelectItem([].concat(Object(X.a)(e.selectedItems),[a])):(e.onSelectItem([a]),E(!1))}Object(n.useEffect)((function(){o.current&&o.current.focus()}),[v]);var p="s"===m?bt.a.ListSmall:"m"===m?bt.a.ListMedium:bt.a.ListLarge;return c.a.createElement("div",{className:bt.a.selectSearchable_Container},c.a.createElement("div",{className:bt.a.selectSearchable_Header,onClick:function(e){return E(!v)}},c.a.createElement("div",{className:bt.a.selectSearchable_SelectedContainer},e.selectedItems.map((function(e,t){return c.a.createElement("div",{key:t,className:bt.a.selectSearchable_SelectedItem},e.label,c.a.createElement("span",{className:bt.a.selectedItem_delete,onClick:function(t){return f(t,e)}},c.a.createElement(V.a,{icon:L.l})))}))),c.a.createElement("div",{className:bt.a.selectSearchable_Trigger},c.a.createElement(V.a,{icon:v?L.a:L.b}))),v&&c.a.createElement("div",{style:{position:"absolute"},className:"".concat(bt.a.selectSearchable_List," ").concat(p),ref:b},c.a.createElement("div",{className:bt.a.selectSearchable_SearchContainer},c.a.createElement("input",{type:"text",value:l,onChange:function(e){return r(e.target.value)},ref:o}),c.a.createElement(V.a,{icon:L.l,onClick:function(e){return r("")}})),c.a.createElement("div",{className:bt.a.selectSearchable_ItemsContainer},d.map((function(t,a){return c.a.createElement("span",{key:a,className:"".concat(bt.a.selectItem," ").concat(e.selectedItems.findIndex((function(e){return t.label===e.label}))>-1?bt.a.selectSearchable_SelectedItem_Selected:""),onClick:function(e){return f(e,t)}},t.label)})))))}var Et=function(){var e=Object(o.b)(),t=Object(o.c)(v),a="https://api-uat.extrack.com/",l=Object(n.useState)({}),r=Object(M.a)(l,2),i=r[0],s=r[1],m=Object(n.useState)({}),b=Object(M.a)(m,2),E=b[0],f=b[1],p=Object(n.useState)([]),g=Object(M.a)(p,2),h=g[0],N=g[1],S=Object(n.useState)([]),O=Object(M.a)(S,2),y=O[0],C=O[1],j=Object(n.useState)([]),I=Object(M.a)(j,2),T=I[0],_=I[1],k=Object(n.useState)([]),x=Object(M.a)(k,2),J=x[0],D=x[1],V=Object(n.useState)(""),L=Object(M.a)(V,2),B=L[0],A=L[1],F=Object(n.useState)([]),P=Object(M.a)(F,2),R=(P[0],P[1]),H=Object(n.useState)([]),z=Object(M.a)(H,2),Y=z[0],G=z[1],X=Object(n.useState)([]),Q=Object(M.a)(X,2),K=Q[0],W=Q[1],q=Object(n.useState)(!1),ee=Object(M.a)(q,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(),ce=Object(M.a)(ne,2),le=ce[0],re=ce[1],oe=Object(n.useState)(!1),ie=Object(M.a)(oe,2),se=ie[0],me=ie[1],de=Object(n.useState)(""),ue=Object(M.a)(de,2),be=ue[0],ve=ue[1];Object(n.useEffect)((function(){var e=J.length>0?J[0].id:"";e>0&&(A(e),function(e){ae(!0);var t=new Headers;t.append("Authorization","Bearer ".concat(i.access_token)),t.append("Content-Type","application/x-www-form-urlencoded");var n={method:"GET",headers:t,redirect:"follow"};fetch("".concat(a,"V1.0/Project/").concat(e,"/Document/Form/Templates?selectorFields=(Id,Title1)"),n).then((function(e){return e.text()})).then((function(e){C(JSON.parse(e)),ae(!1)})).catch((function(e){return console.log("error",e)}))}(e),function(e){re(!0);var t=new Headers;t.append("Authorization","Bearer ".concat(i.access_token)),t.append("Content-Type","application/x-www-form-urlencoded");var n={method:"GET",headers:t,redirect:"follow"};fetch("".concat(a,"V1.0/Project/").concat(e,"/Documents?selectorFields=Id,Title,DocumentNumber,DocumentFormTemplateId&orderBy=Id desc"),n).then((function(e){return e.text()})).then((function(e){_(JSON.parse(e)),re(!1)})).catch((function(e){return console.log("error",e)}))}(e))}),[J]),Object(n.useEffect)((function(){Y.length>0&&fe(Y[0].Id).then((function(t){console.log("---\x3e: useEffect -> template: ",t),R(t),e(u("loaded"))}))}),[Y]),Object(n.useEffect)((function(){var t;K.length>0&&(e(u("loading")),function(e){return ge.apply(this,arguments)}(K[0].Id).then((function(e){return t=e})).then((function(a){return fe(a.DocumentFormTemplateId).then((function(a){!function(t,a){console.log("\n\n================\n\n    ");var n=JSON.parse(t.Config);console.log("Document's Elements:",a.Elements),a.Elements.forEach((function(a){var c=Z(JSON.parse(t.Config),a.Id),l=c[0];if("Matrix"===a.Type&&a.Elements.forEach((function(r,o){if((c=Z(JSON.parse(t.Config),r.Id)).length>1&&e(w("Multiple ID '".concat(a.Id,"' found in the template"))),0!==c.length){l=c[0];var i=n.Sections[l[0]].Elements[l[1]].Elements[l[2]].Elements[l[3]];n.Sections[l[0]].Elements[l[1]].Elements[l[2]].Elements[l[3]]=Object(U.a)({},i,{},r),console.log("subItem path received: ",c)}})),"Repeatable"===a.Type&&a.RepeaterValue.forEach((function(n,l){(c=Z(JSON.parse(t.Config),n.Id)).length>1&&e(w("Multiple ID '".concat(a.Id,"' found in the template"))),0!==c.length&&console.log("subItem path received: ",c)})),c.length>1&&e(w("Multiple ID '".concat(a.Id,"' found in the template"))),0!==c.length)switch(c[0].length){case 2:var r=n.Sections[l[0]].Elements[l[1]];n.Sections[l[0]].Elements[l[1]]=Object(U.a)({},r,{},a);break;case 3:console.log("---\x3e two levels");break;case 4:console.log("---\x3e three levels")}})),e(d(n))}(a,JSON.parse(t.MetaData)[0]),e(u("loaded"))}))})))}),[K]),Object(n.useEffect)((function(){if("tosend"===t){var e=JSON.stringify([{Elements:$}]);console.log("----\x3e metadata",e);var n=new Headers;n.append("Authorization","Bearer ".concat(i.access_token));var c=JSON.stringify({ID:0,ProjectID:B,Description:"",Title:"Test-NewDoc",DocumentTypeId:1088,DocumentFormTemplateID:K.Id,UserRevisionNumber:"0",UserRevisionDate:"2020-09-25",MetaData:e,OpenClosedStatus:"O",CreatedByContactID:1059,CreatedByCompanyID:1009}),l=JSON.stringify(c),r=new FormData;r.append("Document",c),console.log("---\x3e: sendind with body ------\x3e  :   ",l);var o={method:"POST",headers:n,body:r};fetch("".concat(a,"V1.0/Project/").concat(B,"/Document/Template/").concat(Y.Id,"/Create"),o).then((function(e){return e.text()})).then((function(e){return console.log("response: ",e)})).catch((function(e){return console.log("error",e)}))}}),[t]);var Ee=function(e){var t=new Headers;t.append("Authorization","Bearer ".concat(e));var n={method:"GET",headers:t};fetch("".concat(a,"V1.0/User"),n).then((function(e){return e.text()})).then((function(e){return f(JSON.parse(e))})).catch((function(e){return console.log("error",e)}))};function fe(e){return pe.apply(this,arguments)}function pe(){return(pe=Object(it.a)(ot.a.mark((function e(t){var n,c,l;return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new Headers).append("Authorization","Bearer ".concat(i.access_token)),c.append("Content-Type","application/x-www-form-urlencoded"),l={method:"GET",headers:c,redirect:"follow"},e.next=6,fetch("".concat(a,"V1.0/Project/").concat(J[0].id,"/Document/Form/Template/").concat(t),l).then((function(e){return e.json()})).then((function(e){n=e})).catch((function(e){return console.log("error",e)}));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(){return(ge=Object(it.a)(ot.a.mark((function e(t){var n,c,l;return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},(c=new Headers).append("Authorization","Bearer ".concat(i.access_token)),c.append("Content-Type","application/x-www-form-urlencoded"),l={method:"GET",headers:c,redirect:"follow"},e.next=7,fetch("".concat(a,"V1.0/Project/").concat(B,"/Document/").concat(t),l).then((function(e){return e.text()})).then((function(e){n=JSON.parse(e).Document})).catch((function(e){return console.log("error",e)}));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var he=te?c.a.createElement("div",{className:"spinner"},"Fetching Templates..."):J.length>0?"Select a template":"",Ne=le?c.a.createElement("div",{className:"spinner"},"Fetching Documents..."):J.length>0?"Select a document":"";return c.a.createElement("div",{className:"bloc"},c.a.createElement("button",{className:"btn btn-ternary ".concat(E.NameFirst?"hidden":""),onClick:function(){return me(!0)}},"LOGIN"),c.a.createElement("div",{className:"bloc-menu ".concat(h.length>0?"":"hidden")},c.a.createElement("h2",{className:"dropdown-label"},"Select a project"),c.a.createElement(vt,{allowMultiple:!1,width:"s",items:h.map((function(e){return{label:e.Abbr,id:e.Id}})),selectedItems:J,onSelectItem:function(e){return D(e)}})),c.a.createElement("div",{className:"bloc-menu ".concat(0===J.length?"":"bloc-menu__separator")},c.a.createElement("h2",{className:"dropdown-label"},he),c.a.createElement("div",{className:"".concat(y.length>0?"":"hidden")},c.a.createElement(vt,{allowMultiple:!1,width:"m",items:y.map((function(e){return{label:e.Title1,Id:e.Id}})),selectedItems:Y,onSelectItem:function(e){return G(e)}}))),c.a.createElement("div",{className:"bloc-spacer"},c.a.createElement("span",{className:"".concat(y.length>0?"":"hidden")},"OR")),c.a.createElement("div",{className:"bloc-menu"},c.a.createElement("h2",{className:"dropdown-label"},Ne),c.a.createElement("div",{className:"".concat(y.length>0?"":"hidden")},c.a.createElement(vt,{allowMultiple:!1,width:"m",items:T.map((function(e){return{label:e.Title,Id:e.Id}})),selectedItems:K,onSelectItem:function(e){return W(e)}}))),c.a.createElement(dt,{visibility:se,toggleVisibility:function(){return me(!se)},css:{backgroundColor:"#007db4"},backdrop:"rgba(0,0,0,0.3)",onSubmit:function(e,t,n){var c=new Headers;c.append("Content-Type","application/x-www-form-urlencoded");var l=new URLSearchParams;l.append("username",e),l.append("password",t),l.append("MemberCode",n),l.append("grant_type","password"),l.append("timezone","Australia/Sydney"),fetch("".concat(a,"oAuth/Token"),{method:"POST",headers:c,body:l}).then((function(e){return e.text()})).then((function(e){var t=JSON.parse(e);t.error?ve(t.error_description):(Ee(t.access_token),function(e){var t=new Headers;t.append("Authorization","Bearer ".concat(e)),t.append("Content-Type","application/x-www-form-urlencoded");var n={method:"GET",headers:t,redirect:"follow"};fetch("".concat(a,"V1.0/Project?selectorFields=(Id,Abbr)"),n).then((function(e){return e.text()})).then((function(e){N(JSON.parse(e))})).catch((function(e){return console.log("error",e)}))}(t.access_token),s(t),localStorage.setItem("dynFormToken",JSON.stringify(t)),me(!1))})).catch((function(e){return console.log("error",e)}))},errormsg:be,clearError:function(){return ve("")}}))};a(67);var ft=function(){return c.a.createElement("div",{className:"app"},c.a.createElement("header",{className:"header"},c.a.createElement("h1",{title:"v20.11.10"},"DYNAMIC FORM"),c.a.createElement(Et,null)),c.a.createElement("div",{className:"options-container"},c.a.createElement(B,null)),c.a.createElement(lt,null),c.a.createElement("main",null,c.a.createElement(at,null)))},pt=Object(i.a)({reducer:{json:E,tabulation:O,display:D}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(o.a,{store:pt},c.a.createElement(ft,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[42,1,2]]]);
//# sourceMappingURL=main.7730e25b.chunk.js.map