(this["webpackJsonpform-editor01"]=this["webpackJsonpform-editor01"]||[]).push([[0],{12:function(e,t,a){e.exports={modalBackdrop:"Modal_modalBackdrop__12d43",modalBackdrop_freeze:"Modal_modalBackdrop_freeze__1CiMV",modalContainer:"Modal_modalContainer__2JZ38",modalHeader:"Modal_modalHeader__3lu0c",modalContent:"Modal_modalContent__5WIER",modalFooter:"Modal_modalFooter__2egbG",modalBtn:"Modal_modalBtn__296dr",modalClose:"Modal_modalClose__2fnre"}},18:function(e,t,a){e.exports={timePicker:"DateTimeInput_timePicker__g55DG",datePicker:"DateTimeInput_datePicker__fMbwV",dateTimeContainer:"DateTimeInput_dateTimeContainer__3DJHa",btnClear:"DateTimeInput_btnClear__1hSf7"}},22:function(e,t,a){e.exports={datePicker:"DateInput_datePicker__1qUGn",dateContainer:"DateInput_dateContainer__3vsHd",btnClear:"DateInput_btnClear__hBuJA"}},23:function(e,t,a){e.exports={timePicker:"TimeInput_timePicker__1bwP3",timeContainer:"TimeInput_timeContainer__15bEw",btnClear:"TimeInput_btnClear__3Cafn"}},28:function(e,t,a){e.exports={container:"Figure_container__1bF2w",btnClose:"Figure_btnClose__3UDU7"}},29:function(e,t,a){e.exports={row:"Tabulation_row__1qqOd",title:"Tabulation_title__2BmpY"}},37:function(e,t,a){e.exports={fixed:"JsonReader_fixed__1abV0"}},38:function(e,t,a){e.exports=a(65)},43:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(20),o=a.n(l),r=(a(43),a(1)),i=a(4),s=a(13),m=Object(s.b)({name:"json",initialState:{value:JSON.parse(localStorage.getItem("json"))||{},documentStatus:""},reducers:{setJson:function(e,t){e.value=t.payload,localStorage.setItem("json",JSON.stringify(t.payload))},setDocumentStatus:function(e,t){e.documentStatus=t.payload}}}),u=m.actions,d=u.setJson,b=u.setDocumentStatus,v=function(e){return e.json.value},f=function(e){return e.json.documentStatus},E=m.reducer,p=Object(s.b)({name:"tabulation",initialState:{value:0},reducers:{callSection:function(e,t){e.value=t.payload},prevSection:function(e){e.value-=1},nextSection:function(e){e.value+=1}}}),g=p.actions,N=g.callSection,O=g.prevSection,h=g.nextSection,S=function(e){return e.tabulation.value},y=p.reducer,j=Object(s.b)({name:"display",initialState:{value:[],debugMode:!1,errorMsg:""},reducers:{setControls:function(e,t){e.value=t.payload},setDebugMode:function(e,t){e.debugMode=t.payload},setOpenListId:function(e,t){e.openListId=t.payload},setErrorMsg:function(e,t){e.errorMsg=t.payload},clearErrorMsg:function(e){e.errorMsg=""}}}),C=j.actions,I=C.setControls,T=C.setDebugMode,k=C.setOpenListId,x=C.setErrorMsg,D=C.clearErrorMsg,J=function(e){return e.display.value},w=function(e){return e.display.debugMode},V=function(e){return e.display.openListId},_=function(e){return e.display.errorMsg},L=j.reducer,B=a(3),M=a(2);function A(){var e=Object(i.b)(),t=Object(n.useState)(!1),a=Object(r.a)(t,2),l=(a[0],a[1],Object(i.c)(w)),o=Object(i.c)(f),s=JSON.parse(localStorage.getItem("initialJson"))||{};return c.a.createElement("div",{id:"jsonOptions",className:"".concat("modified"===o?"options-visible":"options-hidden")},c.a.createElement("button",{className:"btn btn-ternary btn-small btn-label",onClick:function(t){e(N(0)),e(d(s))}},c.a.createElement(B.a,{icon:M.i,style:{transform:"scaleX(-1)",marginLeft:0}}),"REVERT CHANGES"),c.a.createElement("button",{className:"btn btn-ternary btn-small btn-label",onClick:function(t){e(d({}))}},c.a.createElement(B.a,{icon:M.m,style:{marginLeft:0}}),"CLEAR DOCUMENT"),c.a.createElement("div",{className:"debug"},c.a.createElement("label",{htmlFor:"debug"},"Debug"),c.a.createElement("input",{type:"checkbox",name:"debug",id:"debug",className:"debug-check",checked:l,onChange:function(t){return e(T(t.target.checked))}})))}var P=function(e){var t=Object(i.c)(v),a=Object(i.b)(),n=t.Sections&&t.Sections.length>0?t.Sections.map((function(e,t){return"Document.TableOfContents"===e.Elements[0].Type?null:c.a.createElement("li",{key:t},c.a.createElement("button",{className:"btn btn-secondary-outlined btn-link fixed-large",onClick:function(){a(N(t))}},e.Title,c.a.createElement(B.a,{icon:M.d})))})):"";return c.a.createElement("ul",{className:"toc-list"},n)};var F=function(e){var t=e.controlJson,a=t.Title,l=t.Id,o=t.Data,s=Object(i.b)(),m=Object(n.useState)(!1),u=Object(r.a)(m,2),d=u[0],b=u[1],v=o.map((function(e,t){return c.a.createElement("option",{key:t,value:t},e)}));return c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){b(!d)}},"List",c.a.createElement("br",null),"Multicontrol",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l)),c.a.createElement("textarea",{className:d?"":"hidden",name:"",id:"",cols:"50",rows:"6",defaultValue:JSON.stringify(t)}),c.a.createElement("div",{className:"control"},c.a.createElement("label",{htmlFor:"listmulticontrol"},a),c.a.createElement("select",{name:"listmulticontrol",id:"listmulticontrol",onChange:function(e){var a=e.target.value;if(a>=0){var n=t.OptionedControls[a].Controls;s(I(n))}}},c.a.createElement("option",{value:"-1"},"-----"),v)))};var R=function(e){var t=e.controlJson,a=t.Title,l=t.Id,o=t.IsVisible,i=void 0===o||o,s=t.FontAttributes,m=t.FontSize,u=void 0===m?14:m,d=t.HasUnderLine,b=void 0!==d&&d,v=Object(n.useState)(!1),f=Object(r.a)(v,2),E=f[0],p=f[1];return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){p(!E)}},"Label",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l)),c.a.createElement("textarea",{className:E?"":"hidden",name:"",id:"",cols:"50",rows:"6",defaultValue:JSON.stringify(t)}),c.a.createElement("div",{className:"control",style:{fontSize:u-2+"px",fontWeight:"Bold"===s?"bold":"",fontStyle:"Italic"===s?"italic":"",textDecoration:b?"underline":""}},a)):""},H=a(12),z=a.n(H),Y=a(9);function G(e){var t=e.visibility,a=e.toggleVisibility,n=e.message,l=e.css,o=e.backdrop,r=Object(Y.c)({opacity:t?1:0,from:{opacity:0,zIndex:10},config:Y.b.gentle}),i=Object(Y.c)({opacity:t?1:0,top:t?0:-25,from:{opacity:0},config:Y.b.stiff});var s=o?{backgroundColor:o}:"";return c.a.createElement(Y.a.div,{style:r},c.a.createElement("div",{id:"backdrop",className:"".concat(z.a.modalBackdrop," ").concat(t?"":z.a.modalBackdrop_freeze),onClick:function(e){"backdrop"===e.target.id&&a()},style:s},c.a.createElement(Y.a.div,{style:i},c.a.createElement("div",{className:z.a.modalContainer,style:l},c.a.createElement("div",{className:z.a.modalClose,onClick:a},c.a.createElement(B.a,{icon:M.l})),c.a.createElement("div",{className:z.a.modalHeader},c.a.createElement(B.a,{icon:M.e})),c.a.createElement("div",{className:z.a.modalContent},n),c.a.createElement("div",{className:z.a.modalFooter},c.a.createElement("button",{className:z.a.modalBtn,onClick:a},"OK"))))))}var U=function(e){var t=e.controlJson,a=t.Title,l=t.Id,o=t.IsVisible,i=void 0===o||o,s=t.IsEnabled,m=void 0===s||s,u=t.Value,d=void 0===u?"":u,b=t.Format,v=t.Warning,f=void 0!==v&&v,E=t.WarningMessage,p=t.Mandatory,g=t.ValidationMessage,N=Object(n.useState)(!1),O=Object(r.a)(N,2),h=O[0],S=O[1],y=Object(n.useState)(p?{message:g,bgColor:"#EF643C"}:{message:E,bgColor:"#000000"}),j=Object(r.a)(y,2),C=j[0],I=j[1],T=/^[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/,k=[49,50,51,52,53,54,55,56,57,48,189,16,57,48,16,187,32,8];function x(a){var n=JSON.parse(JSON.stringify(t));n.Value=a.target.value,e.updateJson(n)}Object(n.useEffect)((function(){}),[t]);var D=b.Lines?c.a.createElement("textarea",{id:l,rows:b.Lines,onChange:x}):"Numeric"===b.Keyboard?c.a.createElement("input",{type:"number",min:b.Min,max:b.Max,size:b.Decimal,onChange:x}):"Telephone"===b.Keyboard?c.a.createElement("input",{type:"text",maxLength:"20",onKeyDown:function(e){"Telephone"===b.Keyboard&&(k.includes(e.keyCode)||e.preventDefault())},onChange:x}):c.a.createElement("input",{id:l,type:"text",value:d,maxLength:b.VarChar||-1,disabled:!m,onBlur:function(e){var t=e.target;f&&""===t.value&&S(!0),p&&""===t.value&&(t.focus(),S(!0)),"Email"===b.Keyboard&&(T.test(e.target.value.toLowerCase())||(I({message:"The email address provided appears not to be valid",bgColor:"#000000"}),S(!0)))},onChange:x}),J=E?"*":"",w=p?c.a.createElement("span",{className:"warning-red"},"*"):"",V=Object(n.useState)(!1),_=Object(r.a)(V,2),L=_[0],B=_[1];return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){return B(!L)}},"Text",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l)),c.a.createElement("textarea",{className:L?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("label",{htmlFor:"title"},a," ",J,w),D),c.a.createElement(G,{visibility:h,toggleVisibility:function(){return S(!h)},message:"".concat(l,": ").concat(C.message),css:{backgroundColor:C.bgColor},backdrop:"rgba(0,0,0,0.3)"})):""},W=a(14),X=a(11),Z=a(36),K=a.n(Z);function Q(e){return e.split(".").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("")}function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return new Date(e)}function q(e){return K()(e,{deep:!0,pascalCase:!0})}var ee=[];function te(e){var t=ee.findIndex((function(t){return t.Id===e.Id}));if(console.log("---\x3e: addToDocumentExport -> controlIndex",t),-1===t)ee.push(e);else{var a=Object(W.a)({},ee[t]);ee[t]=Object(W.a)({},a,{},e)}console.log("exportMetaData :"),console.table(ee)}var ae=function e(t){var a=t.controlJson,l=(a.Title,a.Id),o=(a.Data,a.Elements),i=a.IsVisible,s=void 0===i||i,m={DocumentTableOfContents:P,ListMulticontrol:F,Label:R,Text:U,Repeatable:e,ButtonSubmitPurchase:ne,ButtonAddDocketNumber:ce,API:le,Date:de,Image:Ee,ImageSingle:pe,ButtonAddReportDate:ge,QRScanner:Ne,QRScannerList:Oe,Signature:he,SignatureDateTime:Se,SignatureDate:ye,Matrix:je,Checkbox:Ce,Boolean:Ie,Trilean:Te,TrileanLabel:ke,ListSingle:xe,ListMultiple:De,Time:Le,DateTime:Pe,TimeLabel:Fe,DateLabel:Re,ButtonAddSignature:He,RegisterSignatures:ze,SearchableListEntryDialogSMS:Ye,ButtonAddSMS:Ge,SearchableSMSListView:Ue,SearchableListEntryDialogEmail:We,ButtonAddEmail:Xe,SearchableEmailListView:Ze,MatrixButton:Ke,DocumentSummaryGrid:Qe,ButtonSubmitRegister:$e,ButtonCloseout:qe,ButtonViewDocument:et},u=Object(n.useState)(!1),d=Object(r.a)(u,2),b=d[0],v=d[1];function f(e){console.log("update this: ",e),console.log("in this: ",a.Elements);var n=Object(X.a)(a.Elements),c=n.findIndex((function(t){return t.ID===e.ID}));n[c]=e,console.log("---\x3eelementIndex:  ",c),t.updateJson(Object(W.a)({},a,{Elements:n}))}var E=o.map((function(e,t){var a=Q(e.Type),n=m[a];return c.a.createElement(n,{key:t,controlJson:e,updateJson:f})}));return s?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){v(!b)}},"Repeatable",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l)),c.a.createElement("textarea",{className:b?"":"hidden",name:"",id:"",cols:"50",rows:"6",defaultValue:JSON.stringify(a)}),c.a.createElement("div",{className:"control"},E)):""};var ne=function(e){var t=e.controlJson,a=t.Title,l=t.Id,o=t.IsVisible,i=void 0===o||o,s=Object(n.useState)(!1),m=Object(r.a)(s,2),u=m[0],d=m[1];return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){d(!u)}},"ButtonSubmitPurchase",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l)),c.a.createElement("textarea",{className:u?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},a))):""};var ce=function(e){var t=e.controlJson,a=t.Title,l=t.Id,o=t.IsVisible,i=void 0===o||o,s=Object(n.useState)(!1),m=Object(r.a)(s,2),u=m[0],d=m[1];return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){d(!u)}},"ButtonAddDocketNumber",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l)),c.a.createElement("textarea",{className:u?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},a))):""};var le=function(e){var t=e.controlJson,a=t.Title,l=t.Type,o=t.Id,s=t.Value,m=void 0===s?"":s,u=t.Api,d=t.IncludePhoneNumber,b=t.IncludeEmail,v=t.IncludeTitle,f=t.IncludeBusinessNumber,E=t.IncludeAbbreviation,p=t.IncludeCode,g=String(u).toLowerCase(),N=Object(i.b)(),O=Object(n.useState)(!1),h=Object(r.a)(O,2),S=h[0],y=h[1],j=Object(n.useState)(!0),C=Object(r.a)(j,2),I=C[0],T=C[1],x=Object(n.useState)(""),D=Object(r.a)(x,2),J=D[0],w=D[1],_=Object(n.useState)([]),L=Object(r.a)(_,2),A=L[0],P=L[1],F=Object(n.useState)([]),R=Object(r.a)(F,2),H=R[0],z=R[1],G=Object(n.useState)(m.constructor===String?[m]:m),U=Object(r.a)(G,2),W=U[0],X=U[1],Z=Object(i.c)(V),K=Object(Y.c)({height:I?0:200}),Q=Object(Y.d)(W.length,{from:{opacity:0,marginLeft:-12,marginTop:-6,transform:"scaleX(0.6) scaleY(0.8)"},to:{opacity:1,marginLeft:0,marginTop:0,transform:"scaleX(1) scaleY(1)"},config:Y.b.stiff}),$="".concat("https://api-uat.extrack.com/V1.0/").concat(function(){switch(g){case"projectcompany":return"Project/".concat(1249,"/Directory/Companies");case"projectcontacts":return"Project/".concat(1249,"/Directory/Contacts");case"globalcontacts":return"Org/contacts";case"dockettypes":return"/Docket/Types";case"abs":return"Project/".concat(1249,"/ABS");case"tbs":return"Project/".concat(1249,"/TBS");case"cbs":return"Project/".concat(1249,"/CbsWo");case"dbs":return"Project/".concat(1249,"/DBS");case"fbs":return"Project/".concat(1249,"/FBS");case"wbs":return"Project/".concat(1249,"/WBS");case"pcbs":return"Project/".concat(1249,"/PCBS");case"pbs":return"Project/".concat(1249,"/PBS")}}()),q=JSON.parse(localStorage.getItem("dynFormToken")),ee=new Headers;ee.append("Authorization","Bearer ".concat(q.access_token)),ee.append("Content-Type","application/x-www-form-urlencoded");var te={method:"GET",headers:ee,redirect:"follow"};function ae(e){var t=e.target.id;W[0]!==t?X([t]):X([]),ne(t)}function ne(a){var n=JSON.parse(JSON.stringify(t));n.Value===a?n.Value="":(n.Value=a,T(!0)),e.updateJson(n)}Object(n.useEffect)((function(){fetch($,te).then((function(e){return e.text()})).then((function(e){var t=JSON.parse(e).map((function(e,t){var a,n,c,l,o,r,i,s;switch(u){case"ProjectContacts":n=d?" - ".concat(e.Contact.Number||"n/a"):"",c=b?" - ".concat(e.Contact.Email||"n/a"):"",a="".concat(e.Contact.NameFirst," ").concat(e.Contact.NameLast," - ").concat(e.Company.Name).concat(n).concat(c);break;case"GlobalContacts":n=d?" - ".concat(e.Number||"n/a"):"",c=b?" - ".concat(e.Email||"n/a"):"",a="".concat(e.NameFirst," ").concat(e.NameLast," - ").concat(e.CompanyName).concat(n).concat(c);break;case"ProjectCompany":l=v?" - ".concat(e.Title||"n/a"):"",o=f?" - ".concat(e.Company.Abn||"n/a"):"",r=E?" - ".concat(e.Company.Abbr||"n/a"):"",a="".concat(e.Company.Name).concat(l).concat(o).concat(r);break;case"DocketTypes":a="".concat(e.Title);break;default:l=v?"".concat(e.Title||"n/a"):"",i=p?"".concat(e.Code||"n/a"):"",s=p&&v?" - ":"",a="".concat(l).concat(s).concat(i)}return a}));P(t)})).catch((function(e){return console.log("error",e)}))}),[]),Object(n.useEffect)((function(){I||N(k(o))}),[I,o,N]),Object(n.useEffect)((function(){Z!==o&&T(!0)}),[Z,o]),Object(n.useEffect)((function(){z(A.filter((function(e){return e.toLowerCase().includes(J.toLowerCase())})))}),[A,J]);var ce=I?"":H.map((function(e,t){var a=e===m,n=a?c.a.createElement(B.a,{icon:M.c}):"";return c.a.createElement("div",{key:t,id:e,className:"input-list-item ".concat(a?"selected-list-item":""),onClick:ae},n,e)})),le=Q.map((function(e,t){var a=W[t];return""!==a?c.a.createElement(Y.a.div,{className:"input-select-item",style:e,key:t},a,c.a.createElement("button",{id:a,className:"remove-item"})):""}));return c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){y(!S)}},l,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},o)),c.a.createElement("textarea",{className:S?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,a),c.a.createElement("div",{className:"input-select",onClick:function(e){var t=e.target;if("input-select"===t.className||"input-select-items"===t.className)T(!I);else if("remove-item"===t.className){var a=t.parentNode.innerText;""!==a&&(ne(""),X(W.filter((function(e){return e!==a}))))}}},c.a.createElement("div",{className:"input-select-items"},le),c.a.createElement(B.a,{icon:I?M.a:M.b,onClick:function(e){T(!I)}})),c.a.createElement(Y.a.div,{style:K,className:"input-list"},c.a.createElement("div",{className:"input-list-searchbar"},c.a.createElement("input",{type:"text",placeholder:"Search",className:"input-list-search",value:J,onChange:function(e){return w(e.target.value)}}),c.a.createElement(B.a,{icon:M.l,onClick:function(e){return w("")}})),c.a.createElement("div",{className:"input-list-items"},ce))))},oe=a(69),re=a(66),ie=a(67),se=a(22),me=a.n(se);function ue(e){var t=e.format.replace(/ddd/g,"eee"),a=Object(n.useState)(e.dateValue),l=Object(r.a)(a,2),o=l[0],i=l[1];var s=""===o?o:Object(oe.a)(Object(re.a)(Object(ie.a)(new Date(o+" "+(new Date).toTimeString()),e.modifiers.AddDay),e.modifiers.AddMonth),t);return c.a.createElement("div",{className:me.a.dateContainer},c.a.createElement("input",{type:"date",name:"",id:"",className:me.a.datePicker,defaultValue:o,onChange:function(t){return a=t.target.value,i(a),void e.onDateChange(a);var a}}),s,c.a.createElement(B.a,{className:me.a.btnClear,icon:M.l,onClick:function(){i(""),e.onDateChange("")}}))}var de=function(e){var t=e.controlJson,a=(t.Type,t.Title),l=t.Id,o=t.FormatDateTime,i=void 0===o?"yyyy-MM-dd":o,s=t.IsBlank,m=void 0!==s&&s,u=t.IsVisible,d=void 0===u||u,b=t.AddDay,v=void 0===b?0:b,f=t.AddMonth,E=void 0===f?0:f,p=t.DateValue,g=""===p||void 0===p?"".concat($().toDateString()):p,N=Object(n.useState)(m?"":g),O=Object(r.a)(N,2),h=O[0],S=O[1],y=Object(n.useState)(!1),j=Object(r.a)(y,2),C=j[0],I=j[1];return d?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){return I(!C)}},"Date",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l)),c.a.createElement("textarea",{className:C?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,a),c.a.createElement(ue,{format:i,dateValue:h,modifiers:{AddDay:v,AddMonth:E},onDateChange:function(a){return function(a){S(a);var n=JSON.parse(JSON.stringify(t));""!==a?n.DateValue=a:delete n.DateValue,n.IsBlank=""===a,e.updateJson(n)}(a)}}))):""},be=a(28),ve=a.n(be);function fe(e){return c.a.createElement("div",{className:ve.a.container},c.a.createElement("img",{src:e.source,alt:"figure"}),c.a.createElement("div",{className:ve.a.btnClose,onClick:function(t){e.onClose(t)}},c.a.createElement(B.a,{icon:M.l})))}var Ee=function(e){var t=e.controlJson,a=t.Title,l=t.Id,o=(t.Data,t.IsVisible),i=void 0===o||o,s=t.Images,m=void 0===s?[]:s,u=Object(n.useState)(!1),d=Object(r.a)(u,2),b=d[0],v=d[1],f=Object(n.useState)(""),E=Object(r.a)(f,2);function p(e){console.log("---\x3e ",e)}E[0],E[1],Object(n.useEffect)((function(){}),[t]);var g=m.map((function(e,t){return c.a.createElement("div",{className:"control-row",key:"image".concat(t)},c.a.createElement(fe,{source:"data:image/png; base64, ".concat(e),onClose:p}))}));return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){v(!b)}},"Image",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l)),c.a.createElement("textarea",{className:b?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("div",{className:"control-row"},c.a.createElement("h3",{htmlFor:"title"},a),c.a.createElement("label",{htmlFor:"file",className:"btn btn-primary btn-label"},c.a.createElement(B.a,{icon:M.h}),"Select an image"),c.a.createElement("input",{type:"file",id:"file",name:"file",className:"btn-file",onChange:function(e){console.log("pEvent: ",e)}})),g)):""};var pe=function(e){var t=e.controlJson,a=t.Title,l=t.Id,o=(t.Data,t.IsVisible),i=void 0===o||o,s=t.Value,m=void 0===s?"":s,u=Object(n.useState)(!1),d=Object(r.a)(u,2),b=d[0],v=d[1];Object(n.useEffect)((function(){}),[t]);var f=""!==m?c.a.createElement(fe,{source:"data:image/png; base64, ".concat(m),onClose:function(a){console.log("---\x3e ",a);var n=JSON.parse(JSON.stringify(t));delete n.Value,e.updateJson(n)}}):"";return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){v(!b)}},"ImageSingle",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l)),c.a.createElement("textarea",{className:b?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("div",{className:"control-row"},c.a.createElement("h3",{htmlFor:"title"},a),c.a.createElement("label",{htmlFor:"file",className:"btn btn-primary btn-label"},c.a.createElement(B.a,{icon:M.h}),"Select an image"),c.a.createElement("input",{type:"file",id:"file",name:"file",className:"btn-file",onChange:function(a){var n,c=new FileReader;c.onload=function(a){n=a.target.result.replace("data:image/png;base64,","");var c=JSON.parse(JSON.stringify(t));c.Value=n,e.updateJson(c)},c.readAsDataURL(a.target.files[0])}})),c.a.createElement("div",{className:"control-row"},f))):""};var ge=function(e){var t=e.controlJson,a=t.Title,l=t.Id,o=t.IsVisible,i=void 0===o||o,s=Object(n.useState)(!1),m=Object(r.a)(s,2),u=m[0],d=m[1];return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){d(!u)}},"ButtonAddReportDate",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l)),c.a.createElement("textarea",{className:u?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},a))):""};var Ne=function(){return c.a.createElement("div",null,"QRScanner")};var Oe=function(){return c.a.createElement("div",null,"QRScannerList")};var he=function(){return c.a.createElement("div",null,"Signature")};var Se=function(){return c.a.createElement("div",null,"SignatureDateTime")};var ye=function(){return c.a.createElement("div",null,"SignatureDate")};var je=function(){return c.a.createElement("div",null,"Matrix")};var Ce=function(e){var t=e.controlJson,a=t.Type,l=t.Title,o=t.Id,i=t.ShowComment,s=t.Collapsible,m=t.IsCollapsed,u=t.EntryTitle,d=t.Details,b=t.HasUnderLine,v=t.IsVisible,f=void 0===v||v,E=t.Value,p=void 0===E?"":E,g=t.CommentValue,N=void 0===g?"":g,O=Object(n.useState)(m),h=Object(r.a)(O,2),S=h[0],y=h[1],j=Object(n.useState)(!1),C=Object(r.a)(j,2),I=C[0],T=C[1];Object(n.useEffect)((function(){}),[t]);var k=i?c.a.createElement("input",{type:"text",placeholder:u,value:N,onChange:function(a){var n=a.target.value;te({Id:o,CommentValue:n});var c=JSON.parse(JSON.stringify(t));c.CommentValue=n,e.updateJson(c)}}):"",x=s?c.a.createElement("div",{className:"control-details-container"},c.a.createElement("div",{className:"control-details-toggle",onClick:function(e){y(!S)}},c.a.createElement(B.a,{icon:S?M.a:M.b})),c.a.createElement("div",{id:"controlDetails",className:"".concat(S?"hidden":""," control-details-details")},d)):"",D=u?c.a.createElement("label",{htmlFor:"checkbox"},u):"";return f?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){T(!I)}},"Checkbox",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},o)),c.a.createElement("textarea",{className:I?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control ".concat(b?"control-underline":"")},c.a.createElement("h3",null,l),x,c.a.createElement("input",{type:"checkbox",defaultChecked:"Y"===p,onChange:function(n){var c=!0===n.target.checked?"Y":"N";te({Type:a,Id:o,Value:c});var l=JSON.parse(JSON.stringify(t));l.Value=c,e.updateJson(l)}}),D,k)):""};var Ie=function(e){var t=e.controlJson,a=t.Type,l=t.Title,o=t.Id,i=t.ShowComment,s=t.Collapsible,m=t.IsCollapsed,u=t.HasUnderLine,d=t.EntryTitle,b=t.Details,v=t.IsVisible,f=void 0===v||v,E=t.Value,p=void 0===E?"":E,g=t.CommentValue,N=void 0===g?"":g,O=Object(n.useState)(m),h=Object(r.a)(O,2),S=h[0],y=h[1],j=Object(n.useState)(!1),C=Object(r.a)(j,2),I=C[0],T=C[1];function k(n){var c=n.target.value;te({Type:a,Id:o,Value:c});var l=JSON.parse(JSON.stringify(t));l.Value=c,e.updateJson(l)}Object(n.useEffect)((function(){}),[t]);var x=i?c.a.createElement("input",{type:"text",placeholder:d,value:N,onChange:function(a){console.log("pEvent.target.value: ",a.target.value);var n=JSON.parse(JSON.stringify(t));n.CommentValue=a.target.value,e.updateJson(n)}}):"",D=s?c.a.createElement("div",{className:"control-details-container"},c.a.createElement("div",{className:"control-details-toggle",onClick:function(e){y(!S)}},c.a.createElement(B.a,{icon:S?M.a:M.b})),c.a.createElement("div",{id:"controlDetails",className:"".concat(S?"hidden":""," control-details-details")},b)):"",J=d?c.a.createElement("label",{htmlFor:"checkbox"},d):"";return f?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){T(!I)}},"Boolean",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},o)),c.a.createElement("textarea",{className:I?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},l,c.a.createElement("div",{className:"control-inline"},D),c.a.createElement("div",{className:"control-inline ".concat(u?"control-underline":"")},c.a.createElement("div",{className:"control-checkbox"},c.a.createElement("label",{htmlFor:"yes"},"Yes"),c.a.createElement("input",{type:"radio",id:"yes",name:o,value:"Y",checked:"Y"===p,onChange:k})),c.a.createElement("div",{className:"control-checkbox"},c.a.createElement("label",{htmlFor:"no"},"No"),c.a.createElement("input",{type:"radio",id:"no",name:o,value:"N",checked:"N"===p,onChange:k}))),c.a.createElement("div",{className:"control-inline"},J),c.a.createElement("div",{className:"control-inline"},x))):""};var Te=function(e){var t=e.controlJson,a=t.Type,l=t.Title,o=t.Id,i=t.ShowComment,s=t.HideNa,m=t.IsVisible,u=void 0===m||m,d=t.Collapsible,b=t.IsCollapsed,v=t.EntryTitle,f=t.Details,E=t.Value,p=void 0===E?"":E,g=t.CommentValue,N=void 0===g?"":g,O=Object(n.useState)(b),h=Object(r.a)(O,2),S=h[0],y=h[1],j=Object(n.useState)(!1),C=Object(r.a)(j,2),I=C[0],T=C[1];function k(n){var c=n.target.value;te({Type:a,Id:o,Value:c});var l=JSON.parse(JSON.stringify(t));l.Value=c,e.updateJson(l)}Object(n.useEffect)((function(){}),[t]);var x=i?c.a.createElement("input",{type:"text",placeholder:v,value:N,onChange:function(a){console.log("pEvent.target.value: ",a.target.value);var n=JSON.parse(JSON.stringify(t));n.CommentValue=a.target.value,e.updateJson(n)}}):"",D=d?c.a.createElement("div",{className:"control-details-container"},c.a.createElement("div",{className:"control-details-toggle",onClick:function(e){y(!S)}},c.a.createElement(B.a,{icon:S?M.a:M.b})),c.a.createElement("div",{id:"controlDetails",className:"".concat(S?"hidden":""," control-details-details")},f)):"";return u?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){T(!I)}},"Trilean",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},o)),c.a.createElement("textarea",{className:I?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},l,c.a.createElement("div",{className:"control-inline"},D,c.a.createElement("div",{className:"control-checkbox"},c.a.createElement("label",{htmlFor:"yes"},"Yes"),c.a.createElement("input",{type:"radio",id:"yes",name:o,value:"Y",checked:"Y"===p,onChange:k})),c.a.createElement("div",{className:"control-checkbox"},c.a.createElement("label",{htmlFor:"no"},"No"),c.a.createElement("input",{type:"radio",id:"no",name:o,value:"N",checked:"N"===p,onChange:k})),c.a.createElement("div",{className:"".concat(s?"hidden":""," control-checkbox")},c.a.createElement("label",{htmlFor:"na"},"N/A"),c.a.createElement("input",{type:"radio",id:"na",name:o,value:"NA",checked:"NA"===p,onChange:k}))),c.a.createElement("div",{className:"control-inline"},x))):""};var ke=function(e){var t=e.controlJson,a=t.Type,l=t.Title,o=t.Id,i=Object(n.useState)(!1),s=Object(r.a)(i,2),m=s[0],u=s[1];return c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){u(!m)}},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},o)),c.a.createElement("textarea",{className:m?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("label",{htmlFor:"title"},l)))};var xe=function(e){var t=e.controlJson,a=t.Type,l=t.Title,o=t.Id,s=t.Data,m=t.Value,u=void 0===m?"":m,d=Object(i.b)(),b=Object(n.useState)(!1),v=Object(r.a)(b,2),f=v[0],E=v[1],p=Object(n.useState)(!0),g=Object(r.a)(p,2),N=g[0],O=g[1],h=Object(n.useState)(""),S=Object(r.a)(h,2),y=S[0],j=S[1],C=Object(n.useState)([]),I=Object(r.a)(C,2),T=I[0],x=I[1],D=Object(n.useState)(u.constructor===String?[u]:u),J=Object(r.a)(D,2),w=J[0],_=J[1],L=Object(i.c)(V),A=Object(Y.c)({height:N?0:200}),P=Object(Y.d)(w.length,{from:{opacity:0,marginLeft:-12,marginTop:-6,transform:"scaleX(0.6) scaleY(0.8)"},to:{opacity:1,marginLeft:0,marginTop:0,transform:"scaleX(1) scaleY(1)"},config:Y.b.stiff});function F(e){w[0]!==e.target.id?_([e.target.id]):_([]),R(e.target.id)}function R(a){var n=JSON.parse(JSON.stringify(t));n.Value===a?n.Value="":(n.Value=a,O(!0)),e.updateJson(n)}Object(n.useEffect)((function(){N||d(k(o))}),[N,o,d]),Object(n.useEffect)((function(){L!==o&&O(!0)}),[L,o]),Object(n.useEffect)((function(){x(s.filter((function(e){return e.toLowerCase().includes(y.toLowerCase())})))}),[s,y]);var H=N?"":T.map((function(e,t){var a=w.findIndex((function(t){return e===t}))>-1,n=a?c.a.createElement(B.a,{icon:M.c}):"";return c.a.createElement("div",{key:t,id:e,className:"input-list-item ".concat(a?"selected-list-item":""),onClick:F},n,e)})),z=P.map((function(e,t){var a=w[t];return""!==a?c.a.createElement(Y.a.div,{className:"input-select-item",style:e,key:t},a,c.a.createElement("button",{id:a,className:"remove-item"})):""}));return c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){E(!f)}},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},o)),c.a.createElement("textarea",{className:f?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,l),c.a.createElement("div",{className:"input-select",onClick:function(e){var t=e.target;if("input-select"===t.className||"input-select-items"===t.className)O(!N);else if("remove-item"===t.className){var a=t.parentNode.innerText;""!==a&&(R(""),_(w.filter((function(e){return e!==a}))))}}},c.a.createElement("div",{className:"input-select-items"},z),c.a.createElement(B.a,{icon:N?M.a:M.b,onClick:function(e){O(!N)}})),c.a.createElement(Y.a.div,{style:A,className:"input-list"},c.a.createElement("div",{className:"input-list-searchbar"},c.a.createElement("input",{type:"text",placeholder:"Search",className:"input-list-search",value:y,onChange:function(e){return j(e.target.value)}}),c.a.createElement(B.a,{icon:M.l,onClick:function(e){return j("")}})),c.a.createElement("div",{className:"input-list-items"},H))))};var De=function(e){var t=e.controlJson,a=t.Type,l=t.Title,o=t.Id,s=t.Data,m=t.SelectedValue,u=void 0===m?[]:m,d=Object(i.b)(),b=Object(n.useState)(!1),v=Object(r.a)(b,2),f=v[0],E=v[1],p=Object(n.useState)(!0),g=Object(r.a)(p,2),N=g[0],O=g[1],h=Object(n.useState)(""),S=Object(r.a)(h,2),y=S[0],j=S[1],C=Object(n.useState)([]),I=Object(r.a)(C,2),T=I[0],x=I[1],D=Object(n.useState)(u||[]),J=Object(r.a)(D,2),w=J[0],_=J[1],L=Object(i.c)(V),A=Object(Y.c)({height:N?0:200}),P=Object(Y.d)(w.length,{from:{opacity:0,marginLeft:-12,marginTop:-6,transform:"scaleX(0.6) scaleY(0.8)"},to:{opacity:1,marginLeft:0,marginTop:0,transform:"scaleX(1) scaleY(1)"},config:{mass:1,tension:500,friction:26}});function F(e){var t=e.target.id,a=w.findIndex((function(e){return e===t}))<0?[].concat(Object(X.a)(w),[t]):w.filter((function(e){return e!==t}));_(a),R(a)}function R(a){var n=JSON.parse(JSON.stringify(t));n.SelectedValue=a,e.updateJson(n)}Object(n.useEffect)((function(){N||d(k(o))}),[N,o,d]),Object(n.useEffect)((function(){L!==o&&O(!0)}),[L,o]),Object(n.useEffect)((function(){x(s.filter((function(e){return e.toLowerCase().includes(y.toLowerCase())})))}),[s,y]);var H=N?"":T.map((function(e,t){var a=w.findIndex((function(t){return e===t}))>-1,n=a?c.a.createElement(B.a,{icon:M.c}):"";return c.a.createElement("div",{key:t,id:e,className:"input-list-item ".concat(a?"selected-list-item":""),onClick:F},n,e)})),z=P.map((function(e,t){var a=w[t];return""!==a?c.a.createElement(Y.a.div,{className:"input-select-item",style:e,key:t},a,c.a.createElement("button",{id:a,className:"remove-item"})):""}));return c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){E(!f)}},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},o)),c.a.createElement("textarea",{className:f?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,l),c.a.createElement("div",{className:"input-select",onClick:function(e){var t=e.target;if("input-select"===t.className||"input-select-items"===t.className)O(!N);else if("remove-item"===t.className){var a=t.parentNode.innerText;if(""!==a){var n=w.filter((function(e){return e!==a}));_(n),R(n)}}}},c.a.createElement("div",{className:"input-select-items"},z),c.a.createElement(B.a,{icon:N?M.a:M.b,onClick:function(e){O(!N)}})),c.a.createElement(Y.a.div,{style:A,className:"input-list"},c.a.createElement("div",{className:"input-list-searchbar"},c.a.createElement("input",{type:"text",placeholder:"Search",className:"input-list-search",value:y,onChange:function(e){return j(e.target.value)}}),c.a.createElement(B.a,{icon:M.l,onClick:function(e){return j("")}})),c.a.createElement("div",{className:"input-list-items"},H))))},Je=a(68),we=a(23),Ve=a.n(we);function _e(e){var t=e.format.replace("tt","a"),a=Object(n.useState)(e.timeValue),l=Object(r.a)(a,2),o=l[0],i=l[1];var s,m=""!==o?Object(oe.a)(Object(Je.a)((s=o,new Date((new Date).toDateString()+" "+s)),e.modifiers.AddHour),t):"";return c.a.createElement("div",{className:Ve.a.timeContainer},c.a.createElement("input",{type:"time",name:"",id:"",className:Ve.a.timePicker,value:o,onChange:function(t){return a=t.target.value,i(a),void e.onTimeChange(a);var a}}),m,c.a.createElement(B.a,{className:Ve.a.btnClear,icon:M.l,onClick:function(t){i(""),e.onTimeChange("")}}))}var Le=function(e){var t=e.controlJson,a=t.Type,l=t.Title,o=t.Id,i=t.FormatDateTime,s=void 0===i?"hh:mm tt":i,m=t.IsBlank,u=void 0!==m&&m,d=t.IsVisible,b=void 0===d||d,v=t.AddHour,f=void 0===v?0:v,E=t.TimeValue,p=""===E||void 0===E?"".concat((new Date).getHours()<10?"0"+(new Date).getHours():(new Date).getHours(),":").concat((new Date).getMinutes()<10?"0"+(new Date).getMinutes():(new Date).getMinutes()):E,g=Object(n.useState)(u?"":p),N=Object(r.a)(g,2),O=N[0],h=N[1],S=Object(n.useState)(!1),y=Object(r.a)(S,2),j=y[0],C=y[1];return b?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){return C(!j)}},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},o)),c.a.createElement("textarea",{className:j?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,l),c.a.createElement(_e,{format:s,timeValue:O,modifiers:{AddHour:f},onTimeChange:function(a){return function(a){console.log("---\x3e: onTimeChangeHandler -> pTime",a),h(a);var n=JSON.parse(JSON.stringify(t));""!==a?n.TimeValue=a:delete n.TimeValue,n.IsBlank=""===a,e.updateJson(n)}(a)}}))):""},Be=a(18),Me=a.n(Be);function Ae(e){var t=e.format.replace(/ddd/g,"eee").replace("tt","a"),a=e.dateTimeValue,n=""!==a?"".concat(Object(oe.a)(new Date(a),"yyyy-MM-dd")):Object(oe.a)(new Date,"yyyy-MM-dd"),l=""!==a?"".concat(new Date(a).toLocaleTimeString()):(new Date).toLocaleTimeString();var o=""!==a?Object(oe.a)(new Date(a),t):"";return c.a.createElement("div",{className:Me.a.dateTimeContainer},c.a.createElement("div",null,c.a.createElement("input",{type:"date",className:Me.a.datePicker,name:"",id:"",onChange:function(t){n=t.target.value,e.onDateTimeChange(t.target.value+" "+l)}}),c.a.createElement("input",{type:"time",className:Me.a.timePicker,name:"",id:"",onChange:function(t){l=t.target.value,e.onDateTimeChange(n+" "+t.target.value)}})),o,c.a.createElement(B.a,{className:Me.a.btnClear,icon:M.l,onClick:function(){n="",l="",e.onDateTimeChange("")}}))}var Pe=function(e){var t=e.controlJson,a=(t.Type,t.Title),l=t.Id,o=t.FormatDateTime,i=void 0===o?"yyyy-MM-dd hh:mm tt":o,s=t.IsBlank,m=void 0!==s&&s,u=t.IsVisible,d=void 0===u||u,b=t.DateTimeValue,v=""===b||void 0===b?"".concat($().toDateString()+" "+$().toLocaleTimeString()):b,f=Object(n.useState)(m?"":v),E=Object(r.a)(f,2),p=E[0],g=E[1],N=Object(n.useState)(!1),O=Object(r.a)(N,2),h=O[0],S=O[1];return d?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){return S(!h)}},"DateTime",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l)),c.a.createElement("textarea",{className:h?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,a),c.a.createElement(Ae,{format:i,dateTimeValue:p,onDateTimeChange:function(a){return function(a){g(a);var n=JSON.parse(JSON.stringify(t));""!==a?n.DateTimeValue=a:delete n.DateTimeValue,n.IsBlank=""===a,e.updateJson(n)}(a)}}))):""};var Fe=function(){return c.a.createElement("div",null,"TimeLabel")};var Re=function(){return c.a.createElement("div",null,"DateLabel")};var He=function(e){var t=e.controlJson,a=t.Title,l=t.Id,o=t.IsVisible,i=void 0===o||o,s=Object(n.useState)(!1),m=Object(r.a)(s,2),u=m[0],d=m[1];return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){d(!u)}},"ButtonAddSignature",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l)),c.a.createElement("textarea",{className:u?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},a))):""};var ze=function(){return c.a.createElement("div",null,"RegisterSignatures")};var Ye=function(){return c.a.createElement("div",null,"SearchableListEntryDialogSMS")};var Ge=function(e){var t=e.controlJson,a=t.Title,l=t.Id,o=t.IsVisible,i=void 0===o||o,s=Object(n.useState)(!1),m=Object(r.a)(s,2),u=m[0],d=m[1];return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){d(!u)}},"ButtonAddSMS",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l)),c.a.createElement("textarea",{className:u?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},a))):""};var Ue=function(){return c.a.createElement("div",null,"SearchableSMSListView")};var We=function(){return c.a.createElement("div",null,"SearchableListEntryDialogEmail")};var Xe=function(e){var t=e.controlJson,a=t.Title,l=t.Id,o=t.IsVisible,i=void 0===o||o,s=Object(n.useState)(!1),m=Object(r.a)(s,2),u=m[0],d=m[1];return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){d(!u)}},"ButtonAddEmail",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l)),c.a.createElement("textarea",{className:u?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},a))):""};var Ze=function(){return c.a.createElement("div",null,"SearchableEmailListView")};var Ke=function(){return c.a.createElement("div",null,"MatrixButton")};var Qe=function(){return c.a.createElement("div",null,"DocumentSummaryGrid")};var $e=function(e){var t=e.controlJson,a=t.Title,l=t.Id,o=t.IsVisible,s=void 0===o||o,m=Object(i.b)(),u=Object(n.useState)(!1),d=Object(r.a)(u,2),v=d[0],f=d[1];return s?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){f(!v)}},"ButtonSubmitRegister",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l)),c.a.createElement("textarea",{className:v?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary",onClick:function(e){m(b("tosend"))}},a))):""};var qe=function(e){var t=e.controlJson,a=t.Title,l=t.Id,o=t.IsVisible,i=void 0===o||o,s=Object(n.useState)(!1),m=Object(r.a)(s,2),u=m[0],d=m[1];return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){d(!u)}},"ButtonCloseout",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l)),c.a.createElement("textarea",{className:u?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},a))):""};var et=function(e){var t=e.controlJson,a=t.Title,l=t.Id,o=t.IsVisible,i=void 0===o||o,s=Object(n.useState)(!1),m=Object(r.a)(s,2),u=m[0],d=m[1];return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){d(!u)}},"ButtonViewDocument",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l)),c.a.createElement("textarea",{className:u?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},a))):""},tt=a(37),at=a.n(tt);function nt(){var e={DocumentTableOfContents:P,ListMulticontrol:F,Label:R,Text:U,Repeatable:ae,ButtonSubmitPurchase:ne,ButtonAddDocketNumber:ce,API:le,Date:de,Image:Ee,ImageSingle:pe,ButtonAddReportDate:ge,QRScanner:Ne,QRScannerList:Oe,Signature:he,SignatureDateTime:Se,SignatureDate:ye,Matrix:je,Checkbox:Ce,Boolean:Ie,Trilean:Te,TrileanLabel:ke,ListSingle:xe,ListMultiple:De,Time:Le,DateTime:Pe,TimeLabel:Fe,DateLabel:Re,ButtonAddSignature:He,RegisterSignatures:ze,SearchableListEntryDialogSMS:Ye,ButtonAddSMS:Ge,SearchableSMSListView:Ue,SearchableListEntryDialogEmail:We,ButtonAddEmail:Xe,SearchableEmailListView:Ze,MatrixButton:Ke,DocumentSummaryGrid:Qe,ButtonSubmitRegister:$e,ButtonCloseout:qe,ButtonViewDocument:et},t=Object(i.c)(v),a=Object(i.c)(w),l=Object(i.c)(_),o=Object(i.c)(J),s=Object(i.c)(f),m=Object(i.b)(),u=Object(i.c)((function(e){return e.tabulation.value})),E=void 0!==t.Sections?t.Sections[u]:{},p=(E.Title,E.Elements),g=Object(n.useState)([]),N=Object(r.a)(g,2),O=N[0],h=N[1];function S(e){var a=t.Sections[u],n={};return a.Elements.forEach((function(a,c){a.hasOwnProperty("Elements")&&a.Elements.forEach((function(t,a){t.hasOwnProperty("Elements")&&t.Elements.forEach((function(t,l){t.Id===e&&(n={section:u,index:c,subindex:a,subsubindex:l},t)})),t.Id===e&&(n={section:u,index:c,subindex:a},t)})),a.Id===e&&(n={section:u,index:c},t.Sections[u].Elements[c])})),n}function y(e){console.log("updating... ",s),""===s&&m(b("modified"));var a=S(e.Id),n=JSON.parse(JSON.stringify(t));n.Sections[a.section].Elements[a.index]=e,m(d(n))}return Object(n.useEffect)((function(){if(void 0!==p){var t=p.map((function(t,a){var n,l=Q(t.Type);if(void 0!==e[l]){var o=e[l];n=c.a.createElement(o,{key:"".concat(l.substring(0,4).toLowerCase(),"-").concat(t.ElementId),controlJson:t,updateJson:y})}return n}));h(t)}else h("")}),[p]),Object(n.useEffect)((function(){var e=JSON.parse(JSON.stringify(t));void 0!==t.Sections&&t.Sections[u].Elements.forEach((function(t){var a=S(t.Id);void 0!==e.Sections[a.section].Elements[a.index].IsVisible&&(e.Sections[a.section].Elements[a.index].IsVisible=!1,console.log("---\x3e reset control visibility ",t.Id,t.isVisible))})),o.forEach((function(t){var a=S(t);e.Sections[a.section].Elements[a.index].IsVisible=!0})),m(d(e))}),[o]),Object(n.useEffect)((function(){}),[t.Sections]),c.a.createElement("div",{className:"board"},c.a.createElement("div",{className:"".concat(l.length>0?"":"hidden"," error-msg")},l),O,c.a.createElement("textarea",{name:"jsonviewer",id:"jsonviewer",className:a?"".concat(at.a.fixed):"hidden",rows:"30",value:JSON.stringify(p),onChange:function(e){return m(d(JSON.parse(e.target.value)))}}))}var ct=a(29),lt=a.n(ct);var ot=function(){var e=Object(i.b)(),t=Object(i.c)(S),a=Object(i.c)(v),n=a.Sections?a.Sections.length:0,l=a.Sections?a.Sections[t].Title:"";return c.a.createElement("nav",{className:lt.a.row},c.a.createElement("button",{className:"btn btn-primary",disabled:0===n||0===t,onClick:function(t){e(N(0))}},c.a.createElement(B.a,{icon:M.f})),c.a.createElement("button",{className:"btn btn-primary",disabled:0===n||0===t,onClick:function(a){t>0&&e(O())}},c.a.createElement(B.a,{icon:M.j})),c.a.createElement("div",{className:lt.a.title},c.a.createElement("h2",null,l)),c.a.createElement("button",{className:"btn btn-primary",disabled:0===n||t===n-1,onClick:function(a){t<n-1&&e(h())}},c.a.createElement(B.a,{icon:M.k})),c.a.createElement("button",{className:"btn btn-primary",disabled:0===n||t===n-1,onClick:function(t){e(N(n-1))}},c.a.createElement(B.a,{icon:M.g})))};var rt=function(){Object(i.c)(v);var e=Object(i.b)(),t=Object(i.c)(f),a="https://api-uat.extrack.com/",l=Object(n.useState)({}),o=Object(r.a)(l,2),s=o[0],m=o[1],u=Object(n.useState)({}),b=Object(r.a)(u,2),E=b[0],p=b[1],g=Object(n.useState)([]),O=Object(r.a)(g,2),h=O[0],S=O[1],y=Object(n.useState)([]),j=Object(r.a)(y,2),C=j[0],I=j[1],T=Object(n.useState)([]),k=Object(r.a)(T,2),J=k[0],w=k[1],V=Object(n.useState)({}),_=Object(r.a)(V,2),L=_[0],B=_[1],M=Object(n.useState)({}),A=Object(r.a)(M,2),P=A[0],F=A[1],R=Object(n.useState)({}),H=Object(r.a)(R,2),z=H[0],Y=H[1],G=Object(n.useState)({}),U=Object(r.a)(G,2),X=(U[0],U[1]),Z=Object(n.useState)(!1),K=Object(r.a)(Z,2),Q=K[0],$=K[1],te=Object(n.useState)(),ae=Object(r.a)(te,2),ne=ae[0],ce=ae[1],le=Object(n.useState)(""),oe=Object(r.a)(le,2),re=oe[0],ie=oe[1];Object(n.useEffect)((function(){if("tosend"===t){var e=JSON.stringify([{Elements:ee}]);console.log("----\x3e metadata",e);var n=new Headers;n.append("Authorization","Bearer ".concat(s.access_token));var c=JSON.stringify({ID:0,ProjectID:L,Description:"",Title:"Test-NewDoc",DocumentTypeId:1088,DocumentFormTemplateID:P,UserRevisionNumber:"0",UserRevisionDate:"2020-09-25",MetaData:e,OpenClosedStatus:"O",CreatedByContactID:1059,CreatedByCompanyID:1009}),l=JSON.stringify(c),o=new FormData;o.append("Document",c),console.log("---\x3e: sendind with body ------\x3e  :   ",l);var r={method:"POST",headers:n,body:o};fetch("".concat(a,"V1.0/Project/").concat(L,"/Document/Template/").concat(P,"/Create"),r).then((function(e){return e.text()})).then((function(e){return console.log("response: ",e)})).catch((function(e){return console.log("error",e)}))}}),[t]),Object(n.useEffect)((function(){if(void 0!==z.Config){var t=z.Config;localStorage.setItem("initialJson",JSON.stringify(q(JSON.parse(t)))),e(d(q(JSON.parse(t))))}}),[z]);var se=function(e){var t=new Headers;t.append("Authorization","Bearer ".concat(e));var n={method:"GET",headers:t};fetch("".concat(a,"V1.0/User"),n).then((function(e){return e.text()})).then((function(e){return p(JSON.parse(e))})).catch((function(e){return console.log("error",e)}))},me=h.map((function(e,t){return c.a.createElement("option",{value:e.Id,key:t},e.Abbr)})),ue=C.map((function(e,t){return c.a.createElement("option",{value:e.Id,key:t},e.Title1)})),de=J.map((function(e,t){return c.a.createElement("option",{value:e.Id,key:t},e.DocumentNumber)}));Object(n.useEffect)((function(){var e="";setInterval((function(){e=e.length>3?"":e,ie(e+=".")}),200)}),[]);var be=Q?c.a.createElement("div",{className:"spinner"},"Fetching Templates",re):"",ve=ne?c.a.createElement("div",{className:"spinner"},"Fetching Documents",re):"";return c.a.createElement("div",{className:"bloc"},c.a.createElement("button",{className:"btn btn-ternary ".concat(E.NameFirst?"hidden":""),onClick:function(){var e=new Headers;e.append("Content-Type","application/x-www-form-urlencoded");var t=new URLSearchParams;t.append("username","red.marble"),t.append("password","Welcome01!"),t.append("MemberCode","downer"),t.append("grant_type","password"),t.append("timezone","Australia/Sydney"),fetch("".concat(a,"oAuth/Token"),{method:"POST",headers:e,body:t}).then((function(e){return e.text()})).then((function(e){var t=JSON.parse(e);se(t.access_token),m(t),localStorage.setItem("dynFormToken",JSON.stringify(t))})).catch((function(e){return console.log("error",e)}))}},"LOGIN"),c.a.createElement("button",{className:"btn btn-ternary ".concat(void 0===E.NameFirst||me.length>0?"hidden":""),onClick:function(){var e=new Headers;e.append("Authorization","Bearer ".concat(s.access_token)),e.append("Content-Type","application/x-www-form-urlencoded");var t={method:"GET",headers:e,redirect:"follow"};fetch("".concat(a,"V1.0/Project"),t).then((function(e){return e.text()})).then((function(e){S(JSON.parse(e))})).catch((function(e){return console.log("error",e)}))}},"GET PROJECTS"),c.a.createElement("div",{className:"bloc-menu ".concat(h.length>0?"":"hidden")},c.a.createElement("label",{htmlFor:"projects"},"SELECT Project"),c.a.createElement("select",{name:"projects",id:"projects",onChange:function(e){if(0!==e.target.selectedIndex){var t=h[e.target.selectedIndex-1].Id;B(t),function(e){$(!0);var t=new Headers;t.append("Authorization","Bearer ".concat(s.access_token)),t.append("Content-Type","application/x-www-form-urlencoded");var n={method:"GET",headers:t,redirect:"follow"};fetch("".concat(a,"V1.0/Project/").concat(e,"/Document/Form/Templates"),n).then((function(e){return e.text()})).then((function(e){I(JSON.parse(e)),$(!1)})).catch((function(e){return console.log("error",e)}))}(t),function(e){ce(!0);var t=new Headers;t.append("Authorization","Bearer ".concat(s.access_token)),t.append("Content-Type","application/x-www-form-urlencoded");var n={method:"GET",headers:t,redirect:"follow"};fetch("".concat(a,"V1.0/Project/").concat(e,"/Documents?offset=0&limit=40&orderBy=Id desc"),n).then((function(e){return e.text()})).then((function(e){w(JSON.parse(e)),ce(!1)})).catch((function(e){return console.log("error",e)}))}(t)}else I([])}},c.a.createElement("option",{value:"-1"},"-----"),me)),be,c.a.createElement("div",{className:"".concat(C.length>0?"":"hidden"," bloc-menu bloc-menu__separator")},c.a.createElement("label",{htmlFor:"templates"},"SELECT Template"),c.a.createElement("select",{name:"templates",id:"templates",onChange:function(t){document.getElementById("documents").selectedIndex=0,e(D()),0!==t.target.selectedIndex&&(e(N(0)),Y(C[t.target.selectedIndex-1]),F(C[t.target.selectedIndex-1].Id))}},c.a.createElement("option",{value:""},"-----"),ue)),c.a.createElement("div",{className:"bloc-spacer"},c.a.createElement("span",{className:"".concat(C.length>0?"":"hidden")},"OR")),ve,c.a.createElement("div",{className:"".concat(J.length>0?"":"hidden"," bloc-menu")},c.a.createElement("label",{htmlFor:"documents"},"SELECT Document"),c.a.createElement("select",{name:"documents",id:"documents",onChange:function(t){if(document.getElementById("templates").selectedIndex=0,e(D()),0!==t.target.selectedIndex){var a=J[t.target.selectedIndex-1];X(a),function(t,a){var n=q(t);console.log("templateToUpdate :",n," on document: ",a),a.Elements.forEach((function(a){var c=function(e,t){console.log("---\x3e Looking for pElementID: ",t);var a=q(e).Sections;console.log("---\x3e: getElementFromElementId inside this: ",a);var n=[];return"undefined"!==t&&a.forEach((function(e,a){e.Elements.forEach((function(e,c){e.hasOwnProperty("Elements")&&e.Elements.forEach((function(e,l){e.hasOwnProperty("Elements")&&e.Elements.forEach((function(e,o){void 0!==e.Id&&e.Id===t&&(console.log("---\x3e path: ",{sectionIndex:a,index:c,subindex:l,subsubindex:o}),n.push([a,c,l,o]))})),void 0!==e.Id&&e.Id===t&&(console.log("---\x3e path: ",{sectionIndex:a,index:c,subindex:l}),n.push([a,c,l]))})),void 0!==e.Id&&e.Id===t&&(console.log("---\x3e path: ",{sectionIndex:a,index:c}),n.push([a,c]))}))})),n}(t,a.Id);if(console.log("---\x3e: aggregateJson -> itemPath",c),c.length>1&&e(x("Multiple ID '".concat(a.Id,"' found in the template"))),0!==c.length){var l=c[0];switch(console.log("item value: ",a," to update: ",l),c[0].length){case 2:var o=n.Sections[l[0]].Elements[l[1]];n.Sections[l[0]].Elements[l[1]]=Object(W.a)({},o,{},a);break;case 3:console.log("---\x3e two levels");break;case 4:console.log("---\x3e three levels")}}})),console.log("Json updated: ",n),e(d(n))}(function(e){var t=C.filter((function(t){return t.Id===e}));return JSON.parse(t[0].Config)}(a.DocumentFormTemplateId),JSON.parse(a.MetaData)[0])}}},c.a.createElement("option",{value:""},"-----"),de)))};a(64);var it=function(){return c.a.createElement("div",{className:"app"},c.a.createElement("header",{className:"header"},c.a.createElement("h1",null,"DYNAMIC FORM"),c.a.createElement(rt,null)),c.a.createElement("div",{className:"options-container"},c.a.createElement(A,null)),c.a.createElement(ot,null),c.a.createElement("main",null,c.a.createElement(nt,null)))},st=Object(s.a)({reducer:{json:E,tabulation:y,display:L}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(i.a,{store:st},c.a.createElement(it,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[38,1,2]]]);
//# sourceMappingURL=main.368571b6.chunk.js.map