(this["webpackJsonpform-editor01"]=this["webpackJsonpform-editor01"]||[]).push([[0],{11:function(e,t,a){e.exports={selectItem:"SelectSearchable_selectItem__ytOvQ",selectedItem_delete:"SelectSearchable_selectedItem_delete__DzATU",selectSearchable:"SelectSearchable_selectSearchable__12vBI",selectSearchable_Container:"SelectSearchable_selectSearchable_Container__fToYi",selectSearchable_SearchContainer:"SelectSearchable_selectSearchable_SearchContainer__3eaGr",selectSearchable_ItemsContainer:"SelectSearchable_selectSearchable_ItemsContainer__34yKg",selectSearchable_Header:"SelectSearchable_selectSearchable_Header__20KCq",selectSearchable_SelectedContainer:"SelectSearchable_selectSearchable_SelectedContainer__3HBOF",selectSearchable_Trigger:"SelectSearchable_selectSearchable_Trigger__2brz3",selectSearchable_SelectedItem:"SelectSearchable_selectSearchable_SelectedItem__ya07B",selectSearchable_SelectedItem_Selected:"SelectSearchable_selectSearchable_SelectedItem_Selected__3kePe",selectSearchable_List:"SelectSearchable_selectSearchable_List__12txV",listCollapsed:"SelectSearchable_listCollapsed__2gYJk"}},15:function(e,t,a){e.exports={modalBackdrop:"Modal_modalBackdrop__12d43",modalBackdrop_freeze:"Modal_modalBackdrop_freeze__1CiMV",modalContainer:"Modal_modalContainer__2JZ38",modalHeader:"Modal_modalHeader__3lu0c",modalContent:"Modal_modalContent__5WIER",modalFooter:"Modal_modalFooter__2egbG",modalBtn:"Modal_modalBtn__296dr",modalClose:"Modal_modalClose__2fnre"}},17:function(e,t,a){e.exports={loginBackdrop:"Login_loginBackdrop__2-vXb",loginBackdrop_freeze:"Login_loginBackdrop_freeze__30wYs",loginContainer:"Login_loginContainer__1-kGp",loginHeader:"Login_loginHeader__1dDHJ",loginContent:"Login_loginContent__pNQUT",loginFooter:"Login_loginFooter__1T3EA",loginClose:"Login_loginClose__EEt8w"}},23:function(e,t,a){e.exports={timePicker:"DateTimeInput_timePicker__g55DG",datePicker:"DateTimeInput_datePicker__fMbwV",dateTimeContainer:"DateTimeInput_dateTimeContainer__3DJHa",btnClear:"DateTimeInput_btnClear__1hSf7"}},27:function(e,t,a){e.exports={datePicker:"DateInput_datePicker__1qUGn",dateContainer:"DateInput_dateContainer__3vsHd",btnClear:"DateInput_btnClear__hBuJA"}},28:function(e,t,a){e.exports={timePicker:"TimeInput_timePicker__1bwP3",timeContainer:"TimeInput_timeContainer__15bEw",btnClear:"TimeInput_btnClear__3Cafn"}},33:function(e,t,a){e.exports={container:"Figure_container__1bF2w",btnClose:"Figure_btnClose__3UDU7"}},34:function(e,t,a){e.exports={row:"Tabulation_row__1qqOd",title:"Tabulation_title__2BmpY"}},43:function(e,t,a){e.exports={fixed:"JsonReader_fixed__1abV0"}},44:function(e,t,a){e.exports=a(70)},49:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(25),l=a.n(r),o=(a(49),a(1)),i=a(4),s=a(16),m=Object(s.b)({name:"json",initialState:{value:{},documentStatus:""},reducers:{setJson:function(e,t){e.value=t.payload,localStorage.setItem("json",JSON.stringify(t.payload))},setDocumentStatus:function(e,t){e.documentStatus=t.payload}}}),u=m.actions,d=u.setJson,b=u.setDocumentStatus,f=function(e){return e.json.value},v=function(e){return e.json.documentStatus},E=m.reducer,p=Object(s.b)({name:"tabulation",initialState:{value:0},reducers:{callSection:function(e,t){e.value=t.payload},prevSection:function(e){e.value-=1},nextSection:function(e){e.value+=1}}}),g=p.actions,N=g.callSection,h=g.prevSection,S=g.nextSection,O=function(e){return e.tabulation.value},y=p.reducer,j=Object(s.b)({name:"display",initialState:{value:[],debugMode:!1,errorMsg:""},reducers:{setControls:function(e,t){e.value=t.payload},setDebugMode:function(e,t){e.debugMode=t.payload},setOpenListId:function(e,t){e.openListId=t.payload},setErrorMsg:function(e,t){e.errorMsg=t.payload},clearErrorMsg:function(e){e.errorMsg=""}}}),C=j.actions,I=C.setControls,k=C.setDebugMode,_=C.setOpenListId,w=C.setErrorMsg,T=(C.clearErrorMsg,function(e){return e.display.value}),x=function(e){return e.display.debugMode},J=function(e){return e.display.openListId},D=function(e){return e.display.errorMsg},V=j.reducer,B=a(3),L=a(2);function M(){var e=Object(i.b)(),t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=(a[0],a[1],Object(i.c)(x)),l=Object(i.c)(v),s=JSON.parse(localStorage.getItem("initialJson"))||{};return c.a.createElement("div",{id:"jsonOptions",className:"".concat("modified"===l?"options-visible":"options-hidden")},c.a.createElement("button",{className:"btn btn-ternary btn-small btn-label",onClick:function(t){e(N(0)),e(d(s))}},c.a.createElement(B.a,{icon:L.i,style:{transform:"scaleX(-1)",marginLeft:0}}),"REVERT CHANGES"),c.a.createElement("button",{className:"btn btn-ternary btn-small btn-label",onClick:function(t){e(d({}))}},c.a.createElement(B.a,{icon:L.m,style:{marginLeft:0}}),"CLEAR DOCUMENT"),c.a.createElement("div",{className:"debug"},c.a.createElement("label",{htmlFor:"debug"},"Debug"),c.a.createElement("input",{type:"checkbox",name:"debug",id:"debug",className:"debug-check",checked:r,onChange:function(t){return e(k(t.target.checked))}})))}var A=function(e){var t=Object(i.c)(f),a=Object(i.b)(),n=t.Sections&&t.Sections.length>0?t.Sections.map((function(e,t){return"Document.TableOfContents"===e.Elements[0].Type?null:c.a.createElement("li",{key:t},c.a.createElement("button",{className:"btn btn-secondary-outlined btn-link fixed-large",onClick:function(){a(N(t))}},e.Title,c.a.createElement(B.a,{icon:L.d})))})):"";return c.a.createElement("ul",{className:"toc-list"},n)};var F=function(e){var t=e.controlJson,a=t.Title,r=t.Id,l=t.Data,s=Object(i.b)(),m=Object(n.useState)(!1),u=Object(o.a)(m,2),d=u[0],b=u[1],f=l.map((function(e,t){return c.a.createElement("option",{key:t,value:t},e)}));return c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){b(!d)}},"List",c.a.createElement("br",null),"Multicontrol",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r)),c.a.createElement("textarea",{className:d?"":"hidden",name:"",id:"",cols:"50",rows:"6",defaultValue:JSON.stringify(t)}),c.a.createElement("div",{className:"control"},c.a.createElement("label",{htmlFor:"listmulticontrol"},a),c.a.createElement("select",{name:"listmulticontrol",id:"listmulticontrol",onChange:function(e){var a=e.target.value;if(a>=0){var n=t.OptionedControls[a].Controls;s(I(n))}}},c.a.createElement("option",{value:"-1"},"-----"),f)))};var P=function(e){var t=e.controlJson,a=t.Title,r=t.Id,l=t.IsVisible,i=void 0===l||l,s=t.FontAttributes,m=t.FontSize,u=void 0===m?14:m,d=t.HasUnderLine,b=void 0!==d&&d,f=Object(n.useState)(!1),v=Object(o.a)(f,2),E=v[0],p=v[1];return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){p(!E)}},"Label",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r)),c.a.createElement("textarea",{className:E?"":"hidden",name:"",id:"",cols:"50",rows:"6",defaultValue:JSON.stringify(t)}),c.a.createElement("div",{className:"control",style:{fontSize:u-2+"px",fontWeight:"Bold"===s?"bold":"",fontStyle:"Italic"===s?"italic":"",textDecoration:b?"underline":""}},a)):""},H=a(15),R=a.n(H),z=a(6);function Y(e){var t=e.visibility,a=e.toggleVisibility,n=e.message,r=e.css,l=e.backdrop,o=Object(z.c)({opacity:t?1:0,from:{opacity:0,zIndex:10},config:z.b.gentle}),i=Object(z.c)({opacity:t?1:0,top:t?0:-25,from:{opacity:0},config:z.b.stiff});var s=l?{backgroundColor:l}:"";return c.a.createElement(z.a.div,{style:o},c.a.createElement("div",{id:"backdrop",className:"".concat(R.a.modalBackdrop," ").concat(t?"":R.a.modalBackdrop_freeze),onClick:function(e){"backdrop"===e.target.id&&a()},style:s},c.a.createElement(z.a.div,{style:i},c.a.createElement("div",{className:R.a.modalContainer,style:r},c.a.createElement("div",{className:R.a.modalClose,onClick:a},c.a.createElement(B.a,{icon:L.l})),c.a.createElement("div",{className:R.a.modalHeader},c.a.createElement(B.a,{icon:L.e})),c.a.createElement("div",{className:R.a.modalContent},n),c.a.createElement("div",{className:R.a.modalFooter},c.a.createElement("button",{className:R.a.modalBtn,onClick:a},"OK"))))))}var G=function(e){var t=e.controlJson,a=t.Title,r=t.Id,l=t.IsVisible,i=void 0===l||l,s=t.IsEnabled,m=void 0===s||s,u=t.Value,d=void 0===u?"":u,b=t.Format,f=t.Warning,v=void 0!==f&&f,E=t.WarningMessage,p=t.Mandatory,g=t.ValidationMessage,N=Object(n.useState)(!1),h=Object(o.a)(N,2),S=h[0],O=h[1],y=Object(n.useState)(p?{message:g,bgColor:"#EF643C"}:{message:E,bgColor:"#000000"}),j=Object(o.a)(y,2),C=j[0],I=j[1],k=/^[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/,_=[49,50,51,52,53,54,55,56,57,48,189,16,57,48,16,187,32,8];function w(a){var n=JSON.parse(JSON.stringify(t));n.Value=a.target.value,e.updateJson(n)}Object(n.useEffect)((function(){}),[t]);var T=void 0!==b?void 0!==b.Lines?c.a.createElement("textarea",{id:r,rows:b.Lines,onChange:w}):"Numeric"===b.Keyboard?c.a.createElement("input",{type:"number",min:b.Min,max:b.Max,size:b.Decimal,onChange:w}):"Telephone"===b.Keyboard?c.a.createElement("input",{type:"text",maxLength:"20",onKeyDown:function(e){"Telephone"===b.Keyboard&&(_.includes(e.keyCode)||e.preventDefault())},onChange:w}):c.a.createElement("input",{id:r,type:"text",value:d,maxLength:b.VarChar||-1,disabled:!m,onBlur:function(e){var t=e.target;v&&""===t.value&&O(!0),p&&""===t.value&&(t.focus(),O(!0)),"Email"===b.Keyboard&&(k.test(e.target.value.toLowerCase())||(I({message:"The email address provided appears not to be valid",bgColor:"#000000"}),O(!0)))},onChange:w}):"",x=E?"*":"",J=p?c.a.createElement("span",{className:"warning-red"},"*"):"",D=Object(n.useState)(!1),V=Object(o.a)(D,2),B=V[0],L=V[1];return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){return L(!B)}},"Text",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r)),c.a.createElement("textarea",{className:B?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("label",{htmlFor:"title"},a," ",x,J),T),c.a.createElement(Y,{visibility:S,toggleVisibility:function(){return O(!S)},message:"".concat(r,": ").concat(C.message),css:{backgroundColor:C.bgColor},backdrop:"rgba(0,0,0,0.3)"})):""},U=a(18),K=a(13),Q=a(42),W=a.n(Q);function X(e){return e.split(".").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("")}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return new Date(e)}function q(e){return W()(e,{deep:!0,pascalCase:!0})}var $=[];function ee(e){var t=$.findIndex((function(t){return t.Id===e.Id}));if(console.log("---\x3e: addToDocumentExport -> controlIndex",t),-1===t)$.push(e);else{var a=Object(U.a)({},$[t]);$[t]=Object(U.a)({},a,{},e)}console.log("exportMetaData :"),console.table($)}var te=function e(t){var a=t.controlJson,r=(a.Title,a.Id),l=(a.Data,a.Elements),i=a.IsVisible,s=void 0===i||i,m={DocumentTableOfContents:A,ListMulticontrol:F,Label:P,Text:G,Repeatable:e,ButtonSubmitPurchase:ae,ButtonAddDocketNumber:ne,API:ce,Date:ue,Image:ve,ImageSingle:Ee,ButtonAddReportDate:pe,QRScanner:ge,QRScannerList:Ne,Signature:he,SignatureDateTime:Se,SignatureDate:Oe,Matrix:ye,Checkbox:je,Boolean:Ce,Trilean:Ie,TrileanLabel:ke,ListSingle:_e,ListMultiple:we,Time:Ve,DateTime:Ae,TimeLabel:Fe,DateLabel:Pe,ButtonAddSignature:He,RegisterSignatures:Re,SearchableListEntryDialogSMS:ze,ButtonAddSMS:Ye,SearchableSMSListView:Ge,SearchableListEntryDialogEmail:Ue,ButtonAddEmail:Ke,SearchableEmailListView:Qe,MatrixButton:We,DocumentSummaryGrid:Xe,ButtonSubmitRegister:Ze,ButtonCloseout:qe,ButtonViewDocument:$e},u=Object(n.useState)(!1),d=Object(o.a)(u,2),b=d[0],f=d[1];function v(e){console.log("update this: ",e),console.log("in this: ",a.Elements);var n=Object(K.a)(a.Elements),c=n.findIndex((function(t){return t.ID===e.ID}));n[c]=e,console.log("---\x3eelementIndex:  ",c),t.updateJson(Object(U.a)({},a,{Elements:n}))}var E=l.map((function(e,t){var a=X(e.Type),n=m[a];return c.a.createElement(n,{key:t,controlJson:e,updateJson:v})}));return s?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){f(!b)}},"Repeatable",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r)),c.a.createElement("textarea",{className:b?"":"hidden",name:"",id:"",cols:"50",rows:"6",defaultValue:JSON.stringify(a)}),c.a.createElement("div",{className:"control"},E)):""};var ae=function(e){var t=e.controlJson,a=t.Title,r=t.Id,l=t.IsVisible,i=void 0===l||l,s=Object(n.useState)(!1),m=Object(o.a)(s,2),u=m[0],d=m[1];return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){d(!u)}},"ButtonSubmitPurchase",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r)),c.a.createElement("textarea",{className:u?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},a))):""};var ne=function(e){var t=e.controlJson,a=t.Title,r=t.Id,l=t.IsVisible,i=void 0===l||l,s=Object(n.useState)(!1),m=Object(o.a)(s,2),u=m[0],d=m[1];return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){d(!u)}},"ButtonAddDocketNumber",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r)),c.a.createElement("textarea",{className:u?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},a))):""};var ce=function(e){var t=e.controlJson,a=t.Title,r=t.Type,l=t.Id,s=t.Value,m=void 0===s?"":s,u=t.Api,d=t.IncludePhoneNumber,b=t.IncludeEmail,f=t.IncludeTitle,v=t.IncludeBusinessNumber,E=t.IncludeAbbreviation,p=t.IncludeCode,g=String(u).toLowerCase(),N=Object(i.b)(),h=Object(n.useState)(!1),S=Object(o.a)(h,2),O=S[0],y=S[1],j=Object(n.useState)(!0),C=Object(o.a)(j,2),I=C[0],k=C[1],w=Object(n.useState)(""),T=Object(o.a)(w,2),x=T[0],D=T[1],V=Object(n.useState)([]),M=Object(o.a)(V,2),A=M[0],F=M[1],P=Object(n.useState)([]),H=Object(o.a)(P,2),R=H[0],Y=H[1],G=Object(n.useState)(m.constructor===String?[m]:m),U=Object(o.a)(G,2),K=U[0],Q=U[1],W=Object(i.c)(J),X=Object(z.c)({height:I?0:200}),Z=Object(z.d)(K.length,{from:{opacity:0,marginLeft:-12,marginTop:-6,transform:"scaleX(0.6) scaleY(0.8)"},to:{opacity:1,marginLeft:0,marginTop:0,transform:"scaleX(1) scaleY(1)"},config:z.b.stiff}),q="".concat("https://api-uat.extrack.com/V1.0/").concat(function(){switch(g){case"projectcompany":return"Project/".concat(1249,"/Directory/Companies");case"projectcontacts":return"Project/".concat(1249,"/Directory/Contacts");case"globalcontacts":return"Org/contacts";case"dockettypes":return"/Docket/Types";case"abs":return"Project/".concat(1249,"/ABS");case"tbs":return"Project/".concat(1249,"/TBS");case"cbs":return"Project/".concat(1249,"/CbsWo");case"dbs":return"Project/".concat(1249,"/DBS");case"fbs":return"Project/".concat(1249,"/FBS");case"wbs":return"Project/".concat(1249,"/WBS");case"pcbs":return"Project/".concat(1249,"/PCBS");case"pbs":return"Project/".concat(1249,"/PBS")}}()),$=JSON.parse(localStorage.getItem("dynFormToken")),ee=new Headers;ee.append("Authorization","Bearer ".concat($.access_token)),ee.append("Content-Type","application/x-www-form-urlencoded");var te={method:"GET",headers:ee,redirect:"follow"};function ae(e){var t=e.target.id;K[0]!==t?Q([t]):Q([]),ne(t)}function ne(a){var n=JSON.parse(JSON.stringify(t));n.Value===a?n.Value="":(n.Value=a,k(!0)),e.updateJson(n)}Object(n.useEffect)((function(){fetch(q,te).then((function(e){return e.text()})).then((function(e){var t=JSON.parse(e).map((function(e,t){var a,n,c,r,l,o,i,s;switch(u){case"ProjectContacts":n=d?" | ".concat(e.Contact.Number||"n/a"):"",c=b?" | ".concat(e.Contact.Email||"n/a"):"",a="".concat(e.Contact.NameFirst," ").concat(e.Contact.NameLast," | ").concat(e.Company.Name).concat(n).concat(c);break;case"GlobalContacts":n=d?" | ".concat(e.Number||"n/a"):"",c=b?" | ".concat(e.Email||"n/a"):"",a="".concat(e.NameFirst," ").concat(e.NameLast," | ").concat(e.CompanyName).concat(n).concat(c);break;case"ProjectCompany":r=f?" | ".concat(e.Title||"n/a"):"",l=v?" | ".concat(e.Company.Abn||"n/a"):"",o=E?" | ".concat(e.Company.Abbr||"n/a"):"",a="".concat(e.Company.Name).concat(r).concat(l).concat(o);break;case"DocketTypes":a="".concat(e.Title);break;default:r=f?"".concat(e.Title||"n/a"):"",i=p?"".concat(e.Code||"n/a"):"",s=p&&f?" | ":"",a="".concat(r).concat(s).concat(i)}return a}));F(t)})).catch((function(e){return console.log("error",e)}))}),[]),Object(n.useEffect)((function(){I||N(_(l))}),[I,l,N]),Object(n.useEffect)((function(){W!==l&&k(!0)}),[W,l]),Object(n.useEffect)((function(){Y(A.filter((function(e){return e.toLowerCase().includes(x.toLowerCase())})))}),[A,x]);var ce=I?"":R.map((function(e,t){var a=e===m,n=a?c.a.createElement(B.a,{icon:L.c}):"";return c.a.createElement("div",{key:t,id:e,className:"input-list-item ".concat(a?"selected-list-item":""),onClick:ae},n,e)})),re=Z.map((function(e,t){var a=K[t];return""!==a?c.a.createElement(z.a.div,{className:"input-select-item",style:e,key:t},a,c.a.createElement("button",{id:a,className:"remove-item"})):""}));return c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){y(!O)}},r,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l)),c.a.createElement("textarea",{className:O?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,a),c.a.createElement("div",{className:"input-select",onClick:function(e){var t=e.target;if("input-select"===t.className||"input-select-items"===t.className)k(!I);else if("remove-item"===t.className){var a=t.parentNode.innerText;""!==a&&(ne(""),Q(K.filter((function(e){return e!==a}))))}}},c.a.createElement("div",{className:"input-select-items"},re),c.a.createElement(B.a,{icon:I?L.a:L.b,onClick:function(e){k(!I)}})),c.a.createElement(z.a.div,{style:X,className:"input-list"},c.a.createElement("div",{className:"input-list-searchbar"},c.a.createElement("input",{type:"text",placeholder:"Search",className:"input-list-search",value:x,onChange:function(e){return D(e.target.value)}}),c.a.createElement(B.a,{icon:L.l,onClick:function(e){return D("")}})),c.a.createElement("div",{className:"input-list-items"},ce))))},re=a(75),le=a(72),oe=a(73),ie=a(27),se=a.n(ie);function me(e){var t=e.format.replace(/ddd/g,"eee"),a=Object(n.useState)(e.dateValue),r=Object(o.a)(a,2),l=r[0],i=r[1];var s=""===l?l:Object(re.a)(Object(le.a)(Object(oe.a)(new Date(l+" "+(new Date).toTimeString()),e.modifiers.AddDay),e.modifiers.AddMonth),t);return c.a.createElement("div",{className:se.a.dateContainer},c.a.createElement("input",{type:"date",name:"",id:"",className:se.a.datePicker,defaultValue:l,onChange:function(t){return a=t.target.value,i(a),void e.onDateChange(a);var a}}),s,c.a.createElement(B.a,{className:se.a.btnClear,icon:L.l,onClick:function(){i(""),e.onDateChange("")}}))}var ue=function(e){var t=e.controlJson,a=(t.Type,t.Title),r=t.Id,l=t.FormatDateTime,i=void 0===l?"yyyy-MM-dd":l,s=t.IsBlank,m=void 0!==s&&s,u=t.IsVisible,d=void 0===u||u,b=t.AddDay,f=void 0===b?0:b,v=t.AddMonth,E=void 0===v?0:v,p=t.DateValue,g=""===p||void 0===p?"".concat(Z().toDateString()):p,N=Object(n.useState)(m?"":g),h=Object(o.a)(N,2),S=h[0],O=h[1],y=Object(n.useState)(!1),j=Object(o.a)(y,2),C=j[0],I=j[1];return d?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){return I(!C)}},"Date",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r)),c.a.createElement("textarea",{className:C?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,a),c.a.createElement(me,{format:i,dateValue:S,modifiers:{AddDay:f,AddMonth:E},onDateChange:function(a){return function(a){O(a);var n=JSON.parse(JSON.stringify(t));""!==a?n.DateValue=a:delete n.DateValue,n.IsBlank=""===a,e.updateJson(n)}(a)}}))):""},de=a(33),be=a.n(de);function fe(e){return c.a.createElement("div",{className:be.a.container},c.a.createElement("img",{src:e.source,alt:"figure"}),c.a.createElement("div",{className:be.a.btnClose,onClick:function(t){e.onClose(t)}},c.a.createElement(B.a,{icon:L.l})))}var ve=function(e){var t=e.controlJson,a=t.Title,r=t.Id,l=(t.Data,t.IsVisible),i=void 0===l||l,s=t.Images,m=void 0===s?[]:s,u=Object(n.useState)(!1),d=Object(o.a)(u,2),b=d[0],f=d[1],v=Object(n.useState)(""),E=Object(o.a)(v,2);function p(e){console.log("---\x3e ",e)}E[0],E[1],Object(n.useEffect)((function(){}),[t]);var g=m.map((function(e,t){return c.a.createElement("div",{className:"control-row",key:"image".concat(t)},c.a.createElement(fe,{source:"data:image/png; base64, ".concat(e),onClose:p}))}));return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){f(!b)}},"Image",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r)),c.a.createElement("textarea",{className:b?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("div",{className:"control-row"},c.a.createElement("h3",{htmlFor:"title"},a),c.a.createElement("label",{htmlFor:"file",className:"btn btn-primary btn-label"},c.a.createElement(B.a,{icon:L.h}),"Select an image"),c.a.createElement("input",{type:"file",id:"file",name:"file",className:"btn-file",onChange:function(e){console.log("pEvent: ",e)}})),g)):""};var Ee=function(e){var t=e.controlJson,a=t.Title,r=t.Id,l=(t.Data,t.IsVisible),i=void 0===l||l,s=t.Value,m=void 0===s?"":s,u=Object(n.useState)(!1),d=Object(o.a)(u,2),b=d[0],f=d[1];Object(n.useEffect)((function(){}),[t]);var v=""!==m?c.a.createElement(fe,{source:"data:image/png; base64, ".concat(m),onClose:function(a){console.log("---\x3e ",a);var n=JSON.parse(JSON.stringify(t));delete n.Value,e.updateJson(n)}}):"";return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){f(!b)}},"ImageSingle",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r)),c.a.createElement("textarea",{className:b?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("div",{className:"control-row"},c.a.createElement("h3",{htmlFor:"title"},a),c.a.createElement("label",{htmlFor:"file",className:"btn btn-primary btn-label"},c.a.createElement(B.a,{icon:L.h}),"Select an image"),c.a.createElement("input",{type:"file",id:"file",name:"file",className:"btn-file",onChange:function(a){var n,c=new FileReader;c.onload=function(a){n=a.target.result.replace("data:image/png;base64,","");var c=JSON.parse(JSON.stringify(t));c.Value=n,e.updateJson(c)},c.readAsDataURL(a.target.files[0])}})),c.a.createElement("div",{className:"control-row"},v))):""};var pe=function(e){var t=e.controlJson,a=t.Title,r=t.Id,l=t.IsVisible,i=void 0===l||l,s=Object(n.useState)(!1),m=Object(o.a)(s,2),u=m[0],d=m[1];return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){d(!u)}},"ButtonAddReportDate",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r)),c.a.createElement("textarea",{className:u?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},a))):""};var ge=function(){return c.a.createElement("div",null,"QRScanner")};var Ne=function(){return c.a.createElement("div",null,"QRScannerList")};var he=function(e){var t=e.controlJson,a=t.Type,n=t.Title,r=t.Id,l=t.IsVisible,o=void 0===l||l,s=t.Signature,m=Object(i.c)(x),u=c.a.createElement("img",{src:"data:image/png;base64, ".concat(s),alt:"",width:"100"});return o?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(m?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r),c.a.createElement("textarea",{name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,n),c.a.createElement("div",{className:"control-row"},c.a.createElement("div",{className:"signature-display"},u)))):""};var Se=function(e){var t=e.controlJson,a=t.Type,n=t.Title,r=t.Id,l=t.IsVisible,o=void 0===l||l,s=t.Signature,m=t.DateTimeValue,u=Object(i.c)(x),d=c.a.createElement("img",{src:"data:image/png;base64, ".concat(s),alt:"",width:"100"});return o?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(u?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r),c.a.createElement("textarea",{name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,n),c.a.createElement("div",{className:"control-row"},c.a.createElement("div",{className:"signature-display"},d,c.a.createElement("div",{className:"signature-timestamp"},m))))):""};var Oe=function(e){var t=e.controlJson,a=t.Type,n=t.Title,r=t.Id,l=t.IsVisible,o=void 0===l||l,s=t.Signature,m=t.DateValue,u=Object(i.c)(x),d=c.a.createElement("img",{src:"data:image/png;base64, ".concat(s),alt:"",width:"100"});return o?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(u?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r),c.a.createElement("textarea",{name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,n),c.a.createElement("div",{className:"control-row"},c.a.createElement("div",{className:"signature-display"},d,c.a.createElement("div",{className:"signature-timestamp"},m))))):""};var ye=function(){return c.a.createElement("div",null,"Matrix")};var je=function(e){var t=e.controlJson,a=t.Type,r=t.Title,l=t.Id,i=t.ShowComment,s=t.Collapsible,m=t.IsCollapsed,u=t.EntryTitle,d=t.Details,b=t.HasUnderLine,f=t.IsVisible,v=void 0===f||f,E=t.Value,p=void 0===E?"":E,g=t.CommentValue,N=void 0===g?"":g,h=Object(n.useState)(m),S=Object(o.a)(h,2),O=S[0],y=S[1],j=Object(n.useState)(!1),C=Object(o.a)(j,2),I=C[0],k=C[1];Object(n.useEffect)((function(){}),[t]);var _=i?c.a.createElement("input",{type:"text",placeholder:u,value:N,onChange:function(a){var n=a.target.value;ee({Id:l,CommentValue:n});var c=JSON.parse(JSON.stringify(t));c.CommentValue=n,e.updateJson(c)}}):"",w=s?c.a.createElement("div",{className:"control-details-container"},c.a.createElement("div",{className:"control-details-toggle",onClick:function(e){y(!O)}},c.a.createElement(B.a,{icon:O?L.a:L.b})),c.a.createElement("div",{id:"controlDetails",className:"".concat(O?"hidden":""," control-details-details")},d)):"",T=u?c.a.createElement("label",{htmlFor:"checkbox"},u):"";return v?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){k(!I)}},"Checkbox",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l)),c.a.createElement("textarea",{className:I?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control ".concat(b?"control-underline":"")},c.a.createElement("h3",null,r),w,c.a.createElement("input",{type:"checkbox",defaultChecked:"Y"===p,onChange:function(n){var c=!0===n.target.checked?"Y":"N";ee({Type:a,Id:l,Value:c});var r=JSON.parse(JSON.stringify(t));r.Value=c,e.updateJson(r)}}),T,_)):""};var Ce=function(e){var t=e.controlJson,a=t.Type,r=t.Title,l=t.Id,i=t.ShowComment,s=t.Collapsible,m=t.IsCollapsed,u=t.HasUnderLine,d=t.EntryTitle,b=t.Details,f=t.IsVisible,v=void 0===f||f,E=t.Value,p=void 0===E?"":E,g=t.CommentValue,N=void 0===g?"":g,h=Object(n.useState)(m),S=Object(o.a)(h,2),O=S[0],y=S[1],j=Object(n.useState)(!1),C=Object(o.a)(j,2),I=C[0],k=C[1];function _(n){var c=n.target.value;ee({Type:a,Id:l,Value:c});var r=JSON.parse(JSON.stringify(t));r.Value=c,e.updateJson(r)}Object(n.useEffect)((function(){}),[t]);var w=i?c.a.createElement("input",{type:"text",placeholder:d,value:N,onChange:function(a){console.log("pEvent.target.value: ",a.target.value);var n=JSON.parse(JSON.stringify(t));n.CommentValue=a.target.value,e.updateJson(n)}}):"",T=s?c.a.createElement("div",{className:"control-details-container"},c.a.createElement("div",{className:"control-details-toggle",onClick:function(e){y(!O)}},c.a.createElement(B.a,{icon:O?L.a:L.b})),c.a.createElement("div",{id:"controlDetails",className:"".concat(O?"hidden":""," control-details-details")},b)):"",x=d?c.a.createElement("label",{htmlFor:"checkbox"},d):"";return v?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){k(!I)}},"Boolean",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l)),c.a.createElement("textarea",{className:I?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},r,c.a.createElement("div",{className:"control-inline"},T),c.a.createElement("div",{className:"control-inline ".concat(u?"control-underline":"")},c.a.createElement("div",{className:"control-checkbox"},c.a.createElement("label",{htmlFor:"yes"},"Yes"),c.a.createElement("input",{type:"radio",id:"yes",name:l,value:"Y",checked:"Y"===p,onChange:_})),c.a.createElement("div",{className:"control-checkbox"},c.a.createElement("label",{htmlFor:"no"},"No"),c.a.createElement("input",{type:"radio",id:"no",name:l,value:"N",checked:"N"===p,onChange:_}))),c.a.createElement("div",{className:"control-inline"},x),c.a.createElement("div",{className:"control-inline"},w))):""};var Ie=function(e){var t=e.controlJson,a=t.Type,r=t.Title,l=t.Id,i=t.ShowComment,s=t.HideNa,m=t.IsVisible,u=void 0===m||m,d=t.Collapsible,b=t.IsCollapsed,f=t.EntryTitle,v=t.Details,E=t.Value,p=void 0===E?"":E,g=t.CommentValue,N=void 0===g?"":g,h=Object(n.useState)(b),S=Object(o.a)(h,2),O=S[0],y=S[1],j=Object(n.useState)(!1),C=Object(o.a)(j,2),I=C[0],k=C[1];function _(n){var c=n.target.value;ee({Type:a,Id:l,Value:c});var r=JSON.parse(JSON.stringify(t));r.Value=c,e.updateJson(r)}Object(n.useEffect)((function(){}),[t]);var w=i?c.a.createElement("input",{type:"text",placeholder:f,value:N,onChange:function(a){var n=JSON.parse(JSON.stringify(t));n.CommentValue=a.target.value,e.updateJson(n)}}):"",T=d?c.a.createElement("div",{className:"control-details-container"},c.a.createElement("div",{className:"control-details-toggle",onClick:function(e){y(!O)}},c.a.createElement(B.a,{icon:O?L.a:L.b})),c.a.createElement("div",{id:"controlDetails",className:"".concat(O?"hidden":""," control-details-details")},v)):"";return u?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){k(!I)}},"Trilean",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l)),c.a.createElement("textarea",{className:I?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},r,c.a.createElement("div",{className:"control-row"},T),c.a.createElement("div",{className:"control-row"},c.a.createElement("div",{className:"control-inline"},c.a.createElement("div",{className:"control-checkbox"},c.a.createElement("label",{htmlFor:"yes"},"Yes"),c.a.createElement("input",{type:"radio",id:"yes",name:l,value:"Y",checked:"Y"===p,onChange:_})),c.a.createElement("div",{className:"control-checkbox"},c.a.createElement("label",{htmlFor:"no"},"No"),c.a.createElement("input",{type:"radio",id:"no",name:l,value:"N",checked:"N"===p,onChange:_})),c.a.createElement("div",{className:"".concat(s?"hidden":""," control-checkbox")},c.a.createElement("label",{htmlFor:"na"},"N/A"),c.a.createElement("input",{type:"radio",id:"na",name:l,value:"NA",checked:"NA"===p,onChange:_})))),c.a.createElement("div",{className:"control-row"},w))):""};var ke=function(e){var t=e.controlJson,a=t.Type,n=t.Title,r=t.Id,l=t.IsVisible,o=void 0===l||l,s=t.Buttons,m=t.CommentValue,u=t.HasUnderLine,d=t.ShowComment,b=t.HideNa,f=t.Value,v=Object(i.c)(x);function E(a){var n=JSON.parse(JSON.stringify(t));n.Value=a.target.value,e.updateJson(n)}var p=void 0!==s?s.map((function(e,t){var a=f===e.Button?e.BackgroundColorSelected:e.BackgroundColor;if(!b||"NA"!==e.Button)return c.a.createElement(c.a.Fragment,{key:"".concat(r).concat(t)},c.a.createElement("input",{type:"radio",name:r,id:"".concat(r).concat(e.Label),value:e.Button,className:"radiocheck-hidden",onChange:E}),c.a.createElement("label",{htmlFor:"".concat(r).concat(e.Label),className:"radiocheck-button",style:{backgroundColor:a}},e.Label))})):"",g=d?c.a.createElement("div",{className:"control-row"},m):"",N=u?c.a.createElement("hr",null):"";return o?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag ".concat(v?"":"hidden")},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r),c.a.createElement("textarea",{name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0})),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,n),g,c.a.createElement("div",{className:"control-row"},p,N))):""};var _e=function(e){var t=e.controlJson,a=t.Type,r=t.Title,l=t.Id,s=t.Data,m=t.Value,u=void 0===m?"":m,d=Object(i.b)(),b=Object(n.useState)(!1),f=Object(o.a)(b,2),v=f[0],E=f[1],p=Object(n.useState)(!0),g=Object(o.a)(p,2),N=g[0],h=g[1],S=Object(n.useState)(""),O=Object(o.a)(S,2),y=O[0],j=O[1],C=Object(n.useState)([]),I=Object(o.a)(C,2),k=I[0],w=I[1],T=Object(n.useState)(u.constructor===String?[u]:u),x=Object(o.a)(T,2),D=x[0],V=x[1],M=Object(i.c)(J),A=Object(z.c)({height:N?0:200}),F=Object(z.d)(D.length,{from:{opacity:0,marginLeft:-12,marginTop:-6,transform:"scaleX(0.6) scaleY(0.8)"},to:{opacity:1,marginLeft:0,marginTop:0,transform:"scaleX(1) scaleY(1)"},config:z.b.stiff});function P(e){D[0]!==e.target.id?V([e.target.id]):V([]),H(e.target.id)}function H(a){var n=JSON.parse(JSON.stringify(t));n.Value===a?n.Value="":(n.Value=a,h(!0)),e.updateJson(n)}Object(n.useEffect)((function(){N||d(_(l))}),[N,l,d]),Object(n.useEffect)((function(){M!==l&&h(!0)}),[M,l]),Object(n.useEffect)((function(){w(s.filter((function(e){return e.toLowerCase().includes(y.toLowerCase())})))}),[s,y]);var R=N?"":k.map((function(e,t){var a=D.findIndex((function(t){return e===t}))>-1,n=a?c.a.createElement(B.a,{icon:L.c}):"";return c.a.createElement("div",{key:t,id:e,className:"input-list-item ".concat(a?"selected-list-item":""),onClick:P},n,e)})),Y=F.map((function(e,t){var a=D[t];return""!==a?c.a.createElement(z.a.div,{className:"input-select-item",style:e,key:t},a,c.a.createElement("button",{id:a,className:"remove-item"})):""}));return c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){E(!v)}},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l)),c.a.createElement("textarea",{className:v?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,r),c.a.createElement("div",{className:"input-select",onClick:function(e){var t=e.target;if("input-select"===t.className||"input-select-items"===t.className)h(!N);else if("remove-item"===t.className){var a=t.parentNode.innerText;""!==a&&(H(""),V(D.filter((function(e){return e!==a}))))}}},c.a.createElement("div",{className:"input-select-items"},Y),c.a.createElement(B.a,{icon:N?L.a:L.b,onClick:function(e){h(!N)}})),c.a.createElement(z.a.div,{style:A,className:"input-list"},c.a.createElement("div",{className:"input-list-searchbar"},c.a.createElement("input",{type:"text",placeholder:"Search",className:"input-list-search",value:y,onChange:function(e){return j(e.target.value)}}),c.a.createElement(B.a,{icon:L.l,onClick:function(e){return j("")}})),c.a.createElement("div",{className:"input-list-items"},R))))};var we=function(e){var t=e.controlJson,a=t.Type,r=t.Title,l=t.Id,s=t.Data,m=t.SelectedValue,u=void 0===m?[]:m,d=Object(i.b)(),b=Object(n.useState)(!1),f=Object(o.a)(b,2),v=f[0],E=f[1],p=Object(n.useState)(!0),g=Object(o.a)(p,2),N=g[0],h=g[1],S=Object(n.useState)(""),O=Object(o.a)(S,2),y=O[0],j=O[1],C=Object(n.useState)([]),I=Object(o.a)(C,2),k=I[0],w=I[1],T=Object(n.useState)(u||[]),x=Object(o.a)(T,2),D=x[0],V=x[1],M=Object(i.c)(J),A=Object(z.c)({height:N?0:200}),F=Object(z.d)(D.length,{from:{opacity:0,marginLeft:-12,marginTop:-6,transform:"scaleX(0.6) scaleY(0.8)"},to:{opacity:1,marginLeft:0,marginTop:0,transform:"scaleX(1) scaleY(1)"},config:{mass:1,tension:500,friction:26}});function P(e){var t=e.target.id,a=D.findIndex((function(e){return e===t}))<0?[].concat(Object(K.a)(D),[t]):D.filter((function(e){return e!==t}));V(a),H(a)}function H(a){var n=JSON.parse(JSON.stringify(t));n.SelectedValue=a,e.updateJson(n)}Object(n.useEffect)((function(){N||d(_(l))}),[N,l,d]),Object(n.useEffect)((function(){M!==l&&h(!0)}),[M,l]),Object(n.useEffect)((function(){w(s.filter((function(e){return e.toLowerCase().includes(y.toLowerCase())})))}),[s,y]);var R=N?"":k.map((function(e,t){var a=D.findIndex((function(t){return e===t}))>-1,n=a?c.a.createElement(B.a,{icon:L.c}):"";return c.a.createElement("div",{key:t,id:e,className:"input-list-item ".concat(a?"selected-list-item":""),onClick:P},n,e)})),Y=F.map((function(e,t){var a=D[t];return""!==a?c.a.createElement(z.a.div,{className:"input-select-item",style:e,key:t},a,c.a.createElement("button",{id:a,className:"remove-item"})):""}));return c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){E(!v)}},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l)),c.a.createElement("textarea",{className:v?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,r),c.a.createElement("div",{className:"input-select",onClick:function(e){var t=e.target;if("input-select"===t.className||"input-select-items"===t.className)h(!N);else if("remove-item"===t.className){var a=t.parentNode.innerText;if(""!==a){var n=D.filter((function(e){return e!==a}));V(n),H(n)}}}},c.a.createElement("div",{className:"input-select-items"},Y),c.a.createElement(B.a,{icon:N?L.a:L.b,onClick:function(e){h(!N)}})),c.a.createElement(z.a.div,{style:A,className:"input-list"},c.a.createElement("div",{className:"input-list-searchbar"},c.a.createElement("input",{type:"text",placeholder:"Search",className:"input-list-search",value:y,onChange:function(e){return j(e.target.value)}}),c.a.createElement(B.a,{icon:L.l,onClick:function(e){return j("")}})),c.a.createElement("div",{className:"input-list-items"},R))))},Te=a(74),xe=a(28),Je=a.n(xe);function De(e){var t=e.format.replace("tt","a"),a=Object(n.useState)(e.timeValue),r=Object(o.a)(a,2),l=r[0],i=r[1];var s,m=""!==l?Object(re.a)(Object(Te.a)((s=l,new Date((new Date).toDateString()+" "+s)),e.modifiers.AddHour),t):"";return c.a.createElement("div",{className:Je.a.timeContainer},c.a.createElement("input",{type:"time",name:"",id:"",className:Je.a.timePicker,value:l,onChange:function(t){return a=t.target.value,i(a),void e.onTimeChange(a);var a}}),m,c.a.createElement(B.a,{className:Je.a.btnClear,icon:L.l,onClick:function(t){i(""),e.onTimeChange("")}}))}var Ve=function(e){var t=e.controlJson,a=t.Type,r=t.Title,l=t.Id,i=t.FormatDateTime,s=void 0===i?"hh:mm tt":i,m=t.IsBlank,u=void 0!==m&&m,d=t.IsVisible,b=void 0===d||d,f=t.AddHour,v=void 0===f?0:f,E=t.TimeValue,p=""===E||void 0===E?"".concat((new Date).getHours()<10?"0"+(new Date).getHours():(new Date).getHours(),":").concat((new Date).getMinutes()<10?"0"+(new Date).getMinutes():(new Date).getMinutes()):E,g=Object(n.useState)(u?"":p),N=Object(o.a)(g,2),h=N[0],S=N[1],O=Object(n.useState)(!1),y=Object(o.a)(O,2),j=y[0],C=y[1];return b?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){return C(!j)}},a,c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},l)),c.a.createElement("textarea",{className:j?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,r),c.a.createElement(De,{format:s,timeValue:h,modifiers:{AddHour:v},onTimeChange:function(a){return function(a){console.log("---\x3e: onTimeChangeHandler -> pTime",a),S(a);var n=JSON.parse(JSON.stringify(t));""!==a?n.TimeValue=a:delete n.TimeValue,n.IsBlank=""===a,e.updateJson(n)}(a)}}))):""},Be=a(23),Le=a.n(Be);function Me(e){var t=e.format.replace(/ddd/g,"eee").replace("tt","a"),a=e.dateTimeValue,n=""!==a?"".concat(Object(re.a)(new Date(a),"yyyy-MM-dd")):Object(re.a)(new Date,"yyyy-MM-dd"),r=""!==a?"".concat(new Date(a).toLocaleTimeString()):(new Date).toLocaleTimeString();var l=""!==a?Object(re.a)(new Date(a),t):"";return c.a.createElement("div",{className:Le.a.dateTimeContainer},c.a.createElement("div",null,c.a.createElement("input",{type:"date",className:Le.a.datePicker,name:"",id:"",onChange:function(t){n=t.target.value,e.onDateTimeChange(t.target.value+" "+r)}}),c.a.createElement("input",{type:"time",className:Le.a.timePicker,name:"",id:"",onChange:function(t){r=t.target.value,e.onDateTimeChange(n+" "+t.target.value)}})),l,c.a.createElement(B.a,{className:Le.a.btnClear,icon:L.l,onClick:function(){n="",r="",e.onDateTimeChange("")}}))}var Ae=function(e){var t=e.controlJson,a=(t.Type,t.Title),r=t.Id,l=t.FormatDateTime,i=void 0===l?"yyyy-MM-dd hh:mm tt":l,s=t.IsBlank,m=void 0!==s&&s,u=t.IsVisible,d=void 0===u||u,b=t.DateTimeValue,f=""===b||void 0===b?"".concat(Z().toDateString()+" "+Z().toLocaleTimeString()):b,v=Object(n.useState)(m?"":f),E=Object(o.a)(v,2),p=E[0],g=E[1],N=Object(n.useState)(!1),h=Object(o.a)(N,2),S=h[0],O=h[1];return d?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){return O(!S)}},"DateTime",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r)),c.a.createElement("textarea",{className:S?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("h3",null,a),c.a.createElement(Me,{format:i,dateTimeValue:p,onDateTimeChange:function(a){return function(a){g(a);var n=JSON.parse(JSON.stringify(t));""!==a?n.DateTimeValue=a:delete n.DateTimeValue,n.IsBlank=""===a,e.updateJson(n)}(a)}}))):""};var Fe=function(){return c.a.createElement("div",null,"TimeLabel")};var Pe=function(){return c.a.createElement("div",null,"DateLabel")};var He=function(e){var t=e.controlJson,a=t.Title,r=t.Id,l=t.IsVisible,i=void 0===l||l,s=Object(n.useState)(!1),m=Object(o.a)(s,2),u=m[0],d=m[1];return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){d(!u)}},"ButtonAddSignature",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r)),c.a.createElement("textarea",{className:u?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},a))):""};var Re=function(){return c.a.createElement("div",null,"RegisterSignatures")};var ze=function(){return c.a.createElement("div",null,"SearchableListEntryDialogSMS")};var Ye=function(e){var t=e.controlJson,a=t.Title,r=t.Id,l=t.IsVisible,i=void 0===l||l,s=Object(n.useState)(!1),m=Object(o.a)(s,2),u=m[0],d=m[1];return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){d(!u)}},"ButtonAddSMS",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r)),c.a.createElement("textarea",{className:u?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},a))):""};var Ge=function(){return c.a.createElement("div",null,"SearchableSMSListView")};var Ue=function(){return c.a.createElement("div",null,"SearchableListEntryDialogEmail")};var Ke=function(e){var t=e.controlJson,a=t.Title,r=t.Id,l=t.IsVisible,i=void 0===l||l,s=Object(n.useState)(!1),m=Object(o.a)(s,2),u=m[0],d=m[1];return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){d(!u)}},"ButtonAddEmail",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r)),c.a.createElement("textarea",{className:u?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},a))):""};var Qe=function(){return c.a.createElement("div",null,"SearchableEmailListView")};var We=function(){return c.a.createElement("div",null,"MatrixButton")};var Xe=function(){return c.a.createElement("div",null,"DocumentSummaryGrid")};var Ze=function(e){var t=e.controlJson,a=t.Title,r=t.Id,l=t.IsVisible,s=void 0===l||l,m=Object(i.b)(),u=Object(n.useState)(!1),d=Object(o.a)(u,2),f=d[0],v=d[1];return s?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){v(!f)}},"ButtonSubmitRegister",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r)),c.a.createElement("textarea",{className:f?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary",onClick:function(e){m(b("tosend"))}},a))):""};var qe=function(e){var t=e.controlJson,a=t.Title,r=t.Id,l=t.IsVisible,i=void 0===l||l,s=Object(n.useState)(!1),m=Object(o.a)(s,2),u=m[0],d=m[1];return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){d(!u)}},"ButtonCloseout",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r)),c.a.createElement("textarea",{className:u?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},a))):""};var $e=function(e){var t=e.controlJson,a=t.Title,r=t.Id,l=t.IsVisible,i=void 0===l||l,s=Object(n.useState)(!1),m=Object(o.a)(s,2),u=m[0],d=m[1];return i?c.a.createElement("div",{className:"control-container"},c.a.createElement("div",{className:"tag",onClick:function(){d(!u)}},"ButtonViewDocument",c.a.createElement("br",null),c.a.createElement("span",{className:"control-id"},r)),c.a.createElement("textarea",{className:u?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"btn btn-secondary"},a))):""},et=a(43),tt=a.n(et);function at(){var e={DocumentTableOfContents:A,ListMulticontrol:F,Label:P,Text:G,Repeatable:te,ButtonSubmitPurchase:ae,ButtonAddDocketNumber:ne,API:ce,Date:ue,Image:ve,ImageSingle:Ee,ButtonAddReportDate:pe,QRScanner:ge,QRScannerList:Ne,Signature:he,SignatureDateTime:Se,SignatureDate:Oe,Matrix:ye,Checkbox:je,Boolean:Ce,Trilean:Ie,TrileanLabel:ke,ListSingle:_e,ListMultiple:we,Time:Ve,DateTime:Ae,TimeLabel:Fe,DateLabel:Pe,ButtonAddSignature:He,RegisterSignatures:Re,SearchableListEntryDialogSMS:ze,ButtonAddSMS:Ye,SearchableSMSListView:Ge,SearchableListEntryDialogEmail:Ue,ButtonAddEmail:Ke,SearchableEmailListView:Qe,MatrixButton:We,DocumentSummaryGrid:Xe,ButtonSubmitRegister:Ze,ButtonCloseout:qe,ButtonViewDocument:$e},t=Object(i.c)(f),a=Object(i.c)(x),r=Object(i.c)(D),l=Object(i.c)(T),s=Object(i.c)(v),m=Object(i.b)(),u=Object(i.c)((function(e){return e.tabulation.value})),E=void 0!==t.Sections?t.Sections[u]:{},p=(E.Title,E.Elements),g=Object(n.useState)([]),N=Object(o.a)(g,2),h=N[0],S=N[1],O=Object(n.useState)(!1),y=Object(o.a)(O,2);y[0],y[1];function j(e){var a=t.Sections[u],n={};return a.Elements.forEach((function(a,c){a.hasOwnProperty("Elements")&&a.Elements.forEach((function(t,a){t.hasOwnProperty("Elements")&&t.Elements.forEach((function(t,r){t.Id===e&&(n={section:u,index:c,subindex:a,subsubindex:r},t)})),t.Id===e&&(n={section:u,index:c,subindex:a},t)})),a.Id===e&&(n={section:u,index:c},t.Sections[u].Elements[c])})),n}function C(e){console.log("updating... ",s),""===s&&m(b("modified"));var a=j(e.Id),n=JSON.parse(JSON.stringify(t));n.Sections[a.section].Elements[a.index]=e,m(d(n))}Object(n.useEffect)((function(){if(void 0!==p){var t=p.map((function(t,a){var n,r=X(t.Type);if(void 0!==e[r]){var l=e[r];n=c.a.createElement(l,{key:"".concat(r.substring(0,4).toLowerCase(),"-").concat(t.ElementId),controlJson:t,updateJson:C})}return n}));S(t)}else S("")}),[p]),Object(n.useEffect)((function(){var e=JSON.parse(JSON.stringify(t));void 0!==t.Sections&&t.Sections[u].Elements.forEach((function(t){var a=j(t.Id);void 0!==e.Sections[a.section].Elements[a.index].IsVisible&&(e.Sections[a.section].Elements[a.index].IsVisible=!1,console.log("---\x3e reset control visibility ",t.Id,t.isVisible))})),l.forEach((function(t){var a=j(t);e.Sections[a.section].Elements[a.index].IsVisible=!0})),m(d(e))}),[l]),Object(n.useEffect)((function(){}),[t.Sections]);var I="loading"===s?c.a.createElement("div",{className:"skeleton"},Array(8).fill("").map((function(e,t){return c.a.createElement("div",{key:t,className:"".concat(t%2===1?"skeleton-bloc-offset":""," skeleton-bloc")})}))):"";return c.a.createElement("div",{className:"board"},c.a.createElement("div",{className:"".concat(r.length>0?"":"hidden"," error-msg")},r),I,h,c.a.createElement("textarea",{name:"jsonviewer",id:"jsonviewer",className:a?"".concat(tt.a.fixed):"hidden",rows:"16",value:JSON.stringify(p),onChange:function(e){return m(d(JSON.parse(e.target.value)))}}))}var nt=a(34),ct=a.n(nt);var rt=function(){var e=Object(i.b)(),t=Object(i.c)(O),a=Object(i.c)(f),n=a.Sections?a.Sections.length:0,r=a.Sections?a.Sections[t].Title:"";return c.a.createElement("nav",{className:ct.a.row},c.a.createElement("button",{className:"btn btn-primary",disabled:0===n||0===t,onClick:function(t){e(N(0))}},c.a.createElement(B.a,{icon:L.f})),c.a.createElement("button",{className:"btn btn-primary",disabled:0===n||0===t,onClick:function(a){t>0&&e(h())}},c.a.createElement(B.a,{icon:L.j})),c.a.createElement("div",{className:ct.a.title},c.a.createElement("h2",null,r)),c.a.createElement("button",{className:"btn btn-primary",disabled:0===n||t===n-1,onClick:function(a){t<n-1&&e(S())}},c.a.createElement(B.a,{icon:L.k})),c.a.createElement("button",{className:"btn btn-primary",disabled:0===n||t===n-1,onClick:function(t){e(N(n-1))}},c.a.createElement(B.a,{icon:L.g})))},lt=a(21),ot=a.n(lt),it=a(35),st=a(17),mt=a.n(st);function ut(e){var t=e.visibility,a=e.toggleVisibility,r=e.css,l=e.backdrop,i=e.errormsg,s=Object(z.c)({opacity:t?1:0,from:{opacity:0,zIndex:10},config:z.b.gentle}),m=Object(z.c)({opacity:t?1:0,top:t?0:-25,from:{opacity:0},config:z.b.stiff});var u=l?{backgroundColor:l}:"",d=Object(n.useState)(""),b=Object(o.a)(d,2),f=b[0],v=b[1],E=Object(n.useState)(""),p=Object(o.a)(E,2),g=p[0],N=p[1],h=Object(n.useState)(""),S=Object(o.a)(h,2),O=S[0],y=S[1];return c.a.createElement(z.a.div,{style:s},c.a.createElement("div",{id:"backdrop",className:"".concat(mt.a.loginBackdrop," ").concat(t?"":mt.a.loginBackdrop_freeze),onClick:function(e){"backdrop"===e.target.id&&a()},style:u},c.a.createElement(z.a.div,{style:m},c.a.createElement("div",{className:mt.a.loginContainer,style:r},c.a.createElement("div",{className:mt.a.loginClose,onClick:a},c.a.createElement(B.a,{icon:L.l})),c.a.createElement("div",{className:mt.a.loginHeader},c.a.createElement(B.a,{icon:L.n})),c.a.createElement("div",{className:mt.a.loginContent},c.a.createElement("form",null,c.a.createElement("label",{htmlFor:"username"},"username"),c.a.createElement("input",{type:"text",name:"username",id:"username",onChange:function(e){return v(e.target.value)},onFocus:function(){return e.clearError()}}),c.a.createElement("label",{htmlFor:"password"},"password"),c.a.createElement("input",{type:"password",name:"password",id:"password",onChange:function(e){return N(e.target.value)},onFocus:function(){return e.clearError()}}),c.a.createElement("label",{htmlFor:"member"},"member"),c.a.createElement("input",{type:"text",name:"member",id:"member",onChange:function(e){return y(e.target.value)},onFocus:function(){return e.clearError()}}))),c.a.createElement("div",{className:mt.a.loginFooter},c.a.createElement("button",{className:"btn btn-primary",onClick:function(t){return e.onSubmit(f,g,O)}},"SUBMIT"),i)))))}var dt=a(11),bt=a.n(dt);function ft(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],l=a[1],i=e.items,s=e.allowMultiple,m=r.length>0?i.filter((function(e){return String(e.label).toLowerCase().includes(r.toLowerCase())})):i,u=function(e){var t=Object(n.useState)(e),a=Object(o.a)(t,2),c=a[0],r=a[1],l=Object(n.useRef)(null),i=function(e){l.current&&!l.current.contains(e.target)&&r(!1)};return Object(n.useEffect)((function(){return document.addEventListener("click",i,!0),function(){document.removeEventListener("click",i,!0)}}),[]),{ref:l,isVisible:c,setIsVisible:r}}(!1),d=u.ref,b=u.isVisible,f=u.setIsVisible;function v(t,a){(t.stopPropagation(),t.currentTarget.className.includes("delete"))?e.onSelectItem([]):s?e.selectedItems.findIndex((function(e){return e===a}))>-1?e.onSelectItem(e.selectedItems.filter((function(e){return e!==a}))):e.onSelectItem([].concat(Object(K.a)(e.selectedItems),[a])):(e.onSelectItem([a]),f(!1))}return c.a.createElement("div",{className:bt.a.selectSearchable_Container},c.a.createElement("div",{className:bt.a.selectSearchable_Header,onClick:function(e){return f(!b)}},c.a.createElement("div",{className:bt.a.selectSearchable_SelectedContainer},e.selectedItems.map((function(e,t){return c.a.createElement("div",{key:t,className:bt.a.selectSearchable_SelectedItem},e.label,c.a.createElement("span",{className:bt.a.selectedItem_delete,onClick:function(t){return v(t,e)}},c.a.createElement(B.a,{icon:L.l})))}))),c.a.createElement("div",{className:bt.a.selectSearchable_Trigger},c.a.createElement(B.a,{icon:b?L.a:L.b}))),b&&c.a.createElement("div",{style:{position:"absolute"},className:"".concat(bt.a.selectSearchable_List),ref:d},c.a.createElement("div",{className:bt.a.selectSearchable_SearchContainer},c.a.createElement("input",{type:"text",value:r,onChange:function(e){return l(e.target.value)}}),c.a.createElement(B.a,{icon:L.l,onClick:function(e){return l("")}})),c.a.createElement("div",{className:bt.a.selectSearchable_ItemsContainer},m.map((function(t,a){return c.a.createElement("span",{key:a,className:"".concat(bt.a.selectItem," ").concat(e.selectedItems.findIndex((function(e){return t.label===e.label}))>-1?bt.a.selectSearchable_SelectedItem_Selected:""),onClick:function(e){return v(e,t)}},t.label)})))))}var vt=function(){Object(i.c)(f);var e=Object(i.b)(),t=Object(i.c)(v),a="https://api-uat.extrack.com/",r=Object(n.useState)({}),l=Object(o.a)(r,2),s=l[0],m=l[1],u=Object(n.useState)({}),E=Object(o.a)(u,2),p=E[0],g=E[1],N=Object(n.useState)([]),h=Object(o.a)(N,2),S=h[0],O=h[1],y=Object(n.useState)([]),j=Object(o.a)(y,2),C=j[0],I=j[1],k=Object(n.useState)([]),_=Object(o.a)(k,2),T=_[0],x=_[1],J=Object(n.useState)([]),D=Object(o.a)(J,2),V=D[0],B=D[1],L=Object(n.useState)(""),M=Object(o.a)(L,2),A=M[0],F=M[1],P=Object(n.useState)([]),H=Object(o.a)(P,2),R=H[0],z=H[1],Y=Object(n.useState)([]),G=Object(o.a)(Y,2),K=G[0],Q=G[1],W=Object(n.useState)([]),X=Object(o.a)(W,2),Z=(X[0],X[1],Object(n.useState)([])),ee=Object(o.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),ce=Object(o.a)(ne,2),re=ce[0],le=ce[1],oe=Object(n.useState)(),ie=Object(o.a)(oe,2),se=ie[0],me=ie[1],ue=Object(n.useState)(!1),de=Object(o.a)(ue,2),be=de[0],fe=de[1],ve=Object(n.useState)(""),Ee=Object(o.a)(ve,2),pe=Ee[0],ge=Ee[1];Object(n.useEffect)((function(){var e=V.length>0?V[0].id:"";console.log("---\x3e new selected Project: ",e),e>0&&(F(e),function(e){le(!0);var t=new Headers;t.append("Authorization","Bearer ".concat(s.access_token)),t.append("Content-Type","application/x-www-form-urlencoded");var n={method:"GET",headers:t,redirect:"follow"};fetch("".concat(a,"V1.0/Project/").concat(e,"/Document/Form/Templates?selectorFields=(Id,Title1)"),n).then((function(e){return e.text()})).then((function(e){I(JSON.parse(e)),le(!1)})).catch((function(e){return console.log("error",e)}))}(e),function(e){me(!0);var t=new Headers;t.append("Authorization","Bearer ".concat(s.access_token)),t.append("Content-Type","application/x-www-form-urlencoded");var n={method:"GET",headers:t,redirect:"follow"};fetch("".concat(a,"V1.0/Project/").concat(e,"/Documents?selectorFields=Id,Title,DocumentNumber,DocumentFormTemplateId&orderBy=Id desc"),n).then((function(e){return e.text()})).then((function(e){x(JSON.parse(e)),me(!1)})).catch((function(e){return console.log("error",e)}))}(e))}),[V]),Object(n.useEffect)((function(){K.length>0&&he(K[0].Id).then((function(t){z(t),e(b("loaded"))}))}),[K]),Object(n.useEffect)((function(){if(console.log("---\x3e template set: ",R),void 0!==R.Config){var t=R.Config;localStorage.setItem("initialJson",JSON.stringify(q(JSON.parse(t)))),e(d(q(JSON.parse(t))))}}),[R]),Object(n.useEffect)((function(){var t;(console.log("---\x3e selectedDocumentRef changed: ",te),te.length>0)&&(e(b("loading")),function(e){return Oe.apply(this,arguments)}(te[0].Id).then((function(e){return t=e})).then((function(a){return he(a.DocumentFormTemplateId).then((function(a){!function(t,a){var n=q(JSON.parse(t));a.Elements.forEach((function(t){var a=function(e,t){var a=q(e).Sections,n=[];return"undefined"!==t&&a.forEach((function(e,a){e.Elements.forEach((function(e,c){e.hasOwnProperty("Elements")&&e.Elements.forEach((function(e,r){e.hasOwnProperty("Elements")&&e.Elements.forEach((function(e,l){void 0!==e.Id&&e.Id===t&&n.push([a,c,r,l])})),void 0!==e.Id&&e.Id===t&&n.push([a,c,r])})),void 0!==e.Id&&e.Id===t&&n.push([a,c])}))})),n}(n,t.Id);if(a.length>1&&e(w("Multiple ID '".concat(t.Id,"' found in the template"))),0!==a.length){var c=a[0];switch(a[0].length){case 2:var r=n.Sections[c[0]].Elements[c[1]];n.Sections[c[0]].Elements[c[1]]=Object(U.a)({},r,{},t);break;case 3:console.log("---\x3e two levels");break;case 4:console.log("---\x3e three levels")}}})),console.log("Json created from Template with Document's data: ",n),e(d(n))}(a.Config,JSON.parse(t.MetaData)[0]),e(b("loaded"))}))})))}),[te]),Object(n.useEffect)((function(){if("tosend"===t){var e=JSON.stringify([{Elements:$}]);console.log("----\x3e metadata",e);var n=new Headers;n.append("Authorization","Bearer ".concat(s.access_token));var c=JSON.stringify({ID:0,ProjectID:A,Description:"",Title:"Test-NewDoc",DocumentTypeId:1088,DocumentFormTemplateID:te.Id,UserRevisionNumber:"0",UserRevisionDate:"2020-09-25",MetaData:e,OpenClosedStatus:"O",CreatedByContactID:1059,CreatedByCompanyID:1009}),r=JSON.stringify(c),l=new FormData;l.append("Document",c),console.log("---\x3e: sendind with body ------\x3e  :   ",r);var o={method:"POST",headers:n,body:l};fetch("".concat(a,"V1.0/Project/").concat(A,"/Document/Template/").concat(K.Id,"/Create"),o).then((function(e){return e.text()})).then((function(e){return console.log("response: ",e)})).catch((function(e){return console.log("error",e)}))}}),[t]);var Ne=function(e){var t=new Headers;t.append("Authorization","Bearer ".concat(e));var n={method:"GET",headers:t};fetch("".concat(a,"V1.0/User"),n).then((function(e){return e.text()})).then((function(e){return g(JSON.parse(e))})).catch((function(e){return console.log("error",e)}))};function he(e){return Se.apply(this,arguments)}function Se(){return(Se=Object(it.a)(ot.a.mark((function e(t){var n,c,r;return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("---\x3e getTemplateById: ",t),(c=new Headers).append("Authorization","Bearer ".concat(s.access_token)),c.append("Content-Type","application/x-www-form-urlencoded"),r={method:"GET",headers:c,redirect:"follow"},e.next=7,fetch("".concat(a,"V1.0/Project/").concat(V[0].id,"/Document/Form/Template/").concat(t),r).then((function(e){return e.text()})).then((function(e){n=JSON.parse(e)})).catch((function(e){return console.log("error",e)}));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(){return(Oe=Object(it.a)(ot.a.mark((function e(t){var n,c,r;return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},(c=new Headers).append("Authorization","Bearer ".concat(s.access_token)),c.append("Content-Type","application/x-www-form-urlencoded"),r={method:"GET",headers:c,redirect:"follow"},e.next=7,fetch("".concat(a,"V1.0/Project/").concat(A,"/Document/").concat(t),r).then((function(e){return e.text()})).then((function(e){n=JSON.parse(e).Document})).catch((function(e){return console.log("error",e)}));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ye=re?c.a.createElement("div",{className:"spinner"},"Fetching Templates..."):V.length>0?"Select a template":"",je=se?c.a.createElement("div",{className:"spinner"},"Fetching Documents..."):V.length>0?"Select a document":"";return c.a.createElement("div",{className:"bloc"},c.a.createElement("button",{className:"btn btn-ternary ".concat(p.NameFirst?"hidden":""),onClick:function(){return fe(!0)}},"LOGIN"),c.a.createElement("div",{className:"bloc-menu ".concat(S.length>0?"":"hidden")},c.a.createElement("h2",{className:"dropdown-label"},"Select a project"),c.a.createElement(ft,{allowMultiple:!1,items:S.map((function(e){return{label:e.Abbr,id:e.Id}})),selectedItems:V,onSelectItem:function(e){return B(e)}})),c.a.createElement("div",{className:"bloc-menu ".concat(0===V.length?"":"bloc-menu__separator")},c.a.createElement("h2",{className:"dropdown-label"},ye),c.a.createElement("div",{className:"".concat(C.length>0?"":"hidden")},c.a.createElement(ft,{allowMultiple:!1,items:C.map((function(e){return{label:e.Title1,Id:e.Id}})),selectedItems:K,onSelectItem:function(e){return Q(e)}}))),c.a.createElement("div",{className:"bloc-spacer"},c.a.createElement("span",{className:"".concat(C.length>0?"":"hidden")},"OR")),c.a.createElement("div",{className:"bloc-menu"},c.a.createElement("h2",{className:"dropdown-label"},je),c.a.createElement("div",{className:"".concat(C.length>0?"":"hidden")},c.a.createElement(ft,{allowMultiple:!1,items:T.map((function(e){return{label:e.Title,Id:e.Id}})),selectedItems:te,onSelectItem:function(e){return ae(e)}}))),c.a.createElement(ut,{visibility:be,toggleVisibility:function(){return fe(!be)},css:{backgroundColor:"#007db4"},backdrop:"rgba(0,0,0,0.3)",onSubmit:function(e,t,n){var c=new Headers;c.append("Content-Type","application/x-www-form-urlencoded");var r=new URLSearchParams;r.append("username",e),r.append("password",t),r.append("MemberCode",n),r.append("grant_type","password"),r.append("timezone","Australia/Sydney"),fetch("".concat(a,"oAuth/Token"),{method:"POST",headers:c,body:r}).then((function(e){return e.text()})).then((function(e){var t=JSON.parse(e);t.error?ge(t.error_description):(Ne(t.access_token),function(e){var t=new Headers;t.append("Authorization","Bearer ".concat(e)),t.append("Content-Type","application/x-www-form-urlencoded");var n={method:"GET",headers:t,redirect:"follow"};fetch("".concat(a,"V1.0/Project?selectorFields=(Id,Abbr)"),n).then((function(e){return e.text()})).then((function(e){O(JSON.parse(e))})).catch((function(e){return console.log("error",e)}))}(t.access_token),m(t),localStorage.setItem("dynFormToken",JSON.stringify(t)),fe(!1))})).catch((function(e){return console.log("error",e)}))},errormsg:pe,clearError:function(){return ge("")}}))};a(69);var Et=function(){return c.a.createElement("div",{className:"app"},c.a.createElement("header",{className:"header"},c.a.createElement("h1",{title:"v20.11.03"},"DYNAMIC FORM"),c.a.createElement(vt,null)),c.a.createElement("div",{className:"options-container"},c.a.createElement(M,null)),c.a.createElement(rt,null),c.a.createElement("main",null,c.a.createElement(at,null)))},pt=Object(s.a)({reducer:{json:E,tabulation:y,display:V}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(i.a,{store:pt},c.a.createElement(Et,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[44,1,2]]]);
//# sourceMappingURL=main.c57ea1ba.chunk.js.map