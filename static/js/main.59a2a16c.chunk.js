(this["webpackJsonpdbot-cloud-dynamicform"]=this["webpackJsonpdbot-cloud-dynamicform"]||[]).push([[0],{17:function(e,t,c){e.exports={selectItem:"SelectSearchable_selectItem__ytOvQ",selectedItem_delete:"SelectSearchable_selectedItem_delete__DzATU",selectSearchable:"SelectSearchable_selectSearchable__12vBI",selectSearchable_Container:"SelectSearchable_selectSearchable_Container__fToYi",selectSearchable_SearchContainer:"SelectSearchable_selectSearchable_SearchContainer__3eaGr",selectSearchable_ItemsContainer:"SelectSearchable_selectSearchable_ItemsContainer__34yKg",selectSearchable_Header:"SelectSearchable_selectSearchable_Header__20KCq",selectSearchable_SelectedContainer:"SelectSearchable_selectSearchable_SelectedContainer__3HBOF",selectSearchable_Trigger:"SelectSearchable_selectSearchable_Trigger__2brz3",selectSearchable_SelectedItem:"SelectSearchable_selectSearchable_SelectedItem__ya07B",selectSearchable_SelectedItem_Selected:"SelectSearchable_selectSearchable_SelectedItem_Selected__3kePe",selectSearchable_List:"SelectSearchable_selectSearchable_List__12txV",listCollapsed:"SelectSearchable_listCollapsed__2gYJk",ListSmall:"SelectSearchable_ListSmall__24zac",ListMedium:"SelectSearchable_ListMedium__3_qlO",ListLarge:"SelectSearchable_ListLarge__m6apt"}},19:function(e,t,c){e.exports={modalBackdrop:"Modal_modalBackdrop__12d43",modalBackdrop_freeze:"Modal_modalBackdrop_freeze__1CiMV",modalContainer:"Modal_modalContainer__2JZ38",modalHeader:"Modal_modalHeader__3lu0c",modalContent:"Modal_modalContent__5WIER",modalFooter:"Modal_modalFooter__2egbG",modalBtn:"Modal_modalBtn__296dr",modalClose:"Modal_modalClose__2fnre"}},27:function(e,t,c){e.exports={timePicker:"DateTimeInput_timePicker__g55DG",datePicker:"DateTimeInput_datePicker__fMbwV",dateTimeContainer:"DateTimeInput_dateTimeContainer__3DJHa",btnClear:"DateTimeInput_btnClear__1hSf7"}},32:function(e,t,c){e.exports={datePicker:"DateInput_datePicker__1qUGn",dateContainer:"DateInput_dateContainer__3vsHd",btnClear:"DateInput_btnClear__hBuJA"}},33:function(e,t,c){e.exports={timePicker:"TimeInput_timePicker__1bwP3",timeContainer:"TimeInput_timeContainer__15bEw",btnClear:"TimeInput_btnClear__3Cafn"}},39:function(e,t,c){e.exports={container:"Figure_container__1bF2w",btnClose:"Figure_btnClose__3UDU7"}},40:function(e,t,c){e.exports={row:"Pagination_row__3VXMX",title:"Pagination_title__1mHK-"}},57:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){"use strict";c.r(t);var n,a,s=c(0),i=c(1),r=c.n(i),o=c(29),l=c.n(o),d=c(2),j=c(24),b=Object(j.b)({name:"json",initialState:{value:JSON.parse(localStorage.getItem("json"))||{},documentStatus:"loaded",currentAction:"",currentContact:{name:"",phoneNumber:"",companyName:""},repeaterValue:[]},reducers:{setJson:function(e,t){e.value=t.payload,localStorage.setItem("json",JSON.stringify(t.payload))},setCurrentAction:function(e,t){e.currentAction=t.payload},setCurrentContact:function(e,t){e.currentContact=t.payload},setRepeaterValue:function(e,t){e.repeaterValue=t.payload}}}),u=b.actions,m=u.setJson,O=(u.setCurrentAction,u.setCurrentContact,u.setRepeaterValue),h=function(e){return e.json.value},x=function(e){return e.json.repeaterValue},v=b.reducer,f=c(12),p=Object(j.b)({name:"config",initialState:(n={debugMode:!1,errorMsg:"",currentAction:"",currentTemplate:{},currentDocument:{},currentUserName:"",currentToken:"",currentSectionIndex:0,documentStatus:"loading"},Object(f.a)(n,"currentAction",""),Object(f.a)(n,"currentContact",{name:"",phoneNumber:"",companyName:""}),Object(f.a)(n,"repeaterValue",[]),Object(f.a)(n,"optionedControls",{}),Object(f.a)(n,"openListId",0),n),reducers:(a={setDebugMode:function(e,t){e.debugMode=t.payload},setErrorMsg:function(e,t){e.errorMsg=t.payload},setCurrentAction:function(e,t){e.currentAction=t.payload},setCurrentTemplate:function(e,t){e.currentTemplate=t.payload},setCurrentSectionIndex:function(e,t){e.currentSectionIndex=t.payload},callSection:function(e,t){e.currentSectionIndex=t.payload},prevSection:function(e){e.currentSectionIndex-=1},nextSection:function(e){e.currentSectionIndex+=1},setDocumentStatus:function(e,t){e.documentStatus=t.payload}},Object(f.a)(a,"setCurrentAction",(function(e,t){e.currentAction=t.payload})),Object(f.a)(a,"setCurrentContact",(function(e,t){e.currentContact=t.payload})),Object(f.a)(a,"setCurrentDocument",(function(e,t){e.currentDocument=t.payload})),Object(f.a)(a,"setRepeaterValue",(function(e,t){e.repeaterValue=t.payload})),Object(f.a)(a,"setCurrentUserName",(function(e,t){e.currentUserName=t.payload})),Object(f.a)(a,"setCurrentToken",(function(e,t){e.currentToken=t.payload})),Object(f.a)(a,"setOptionedControls",(function(e,t){e.optionedControls=t.payload})),Object(f.a)(a,"setOpenListId",(function(e,t){e.openListId=t.payload})),a)}),g=p.actions,N=(g.setDebugMode,g.setErrorMsg,g.setCurrentToken),S=(g.setCurrentUserName,g.setCurrentTemplate),y=(g.setCurrentSectionIndex,g.callSection),C=g.prevSection,I=g.nextSection,T=g.setDocumentStatus,J=g.setCurrentAction,w=g.setCurrentContact,V=(g.setRepeaterValue,g.setCurrentDocument),D=(g.setOptionedControls,g.setOpenListId),k=function(e){return e.config.debugMode},_=function(e){return e.config.currentSectionIndex},E=function(e){return e.config.currentTemplate},L=function(e){return e.config.currentDocument},B=function(e){return e.config.currentUserName},M=function(e){return e.config.currentToken},A=function(e){return e.config.currentContact},P=function(e){return e.config.currentAction},R=function(e){return e.config.documentStatus},F=function(e){return e.config.openListId},H=p.reducer,Y=Object(j.a)({reducer:{json:v,config:H}}),U=(c(57),c(10)),z=c(3),X=c(46),G=c.n(X);function Q(e){return e.split(".").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("")}function K(e,t){var c=Z(e).Sections,n=[];return"undefined"!==t&&c.forEach((function(e,c){e.Elements.forEach((function(e,a){e.hasOwnProperty("Elements")&&e.Elements.forEach((function(e,s){e.hasOwnProperty("Elements")&&e.Elements.forEach((function(e,i){void 0!==e.Id&&e.Id===t&&n.push([c,a,s,i])})),void 0!==e.Id&&e.Id===t&&n.push([c,a,s])})),void 0!==e.Id&&e.Id===t&&n.push([c,a])}))})),n}function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return new Date(e)}function Z(e){return G()(e,{deep:!0,pascalCase:!0})}var W=[];function $(e){var t=W.findIndex((function(t){return t.Id===e.Id}));if(-1===t)W.push(e);else{console.log(e.Id," already indexed");var c=Object(U.a)({},W[t]);W[t]=Object(U.a)(Object(U.a)({},c),e)}console.table(W)}function ee(e){var t="https://api-uat.extrack.com/",c=Object(d.c)(k),n=Object(d.c)(E),a=Object(d.c)(L),r=(Object(d.c)(x),Object(d.c)(R)),o=Object(d.b)(),l=Object(i.useState)(!1),j=Object(z.a)(l,2),b=(j[0],j[1]),u=new URL(window.location.href),h=u.searchParams.get("user"),v=u.searchParams.get("token"),f=Number(u.searchParams.get("projectId")),p=Number(u.searchParams.get("templateId")),g=Number(u.searchParams.get("documentId"));return Object(i.useEffect)((function(){o(N(v));var e=new Headers;e.append("Authorization","Bearer ".concat(v)),e.append("Content-Type","application/x-www-form-urlencoded");var c={method:"GET",headers:e,redirect:"follow"};p>0&&fetch("".concat(t,"/V1.0/Project/").concat(f,"/Document/Form/Template/").concat(p),c).then((function(e){return e.json()})).then((function(e){o(S(e))})).catch((function(e){return console.log("error",e)})),g>0&&(b(!0),fetch("".concat(t,"V1.0/Project/").concat(f,"/Document/").concat(g),c).then((function(e){return e.text()})).then((function(e){o(V(JSON.parse(e).Document))})).catch((function(e){return console.log("error",e)}))),0===p&&0===g&&console.log("-------\x3e Form details are missing")}),[o,t]),Object(i.useEffect)((function(){if(n.hasOwnProperty("Config")&&0===g)console.log("----\x3e : Template only, setting the JSON"),o(T("loaded")),o(m(Z(JSON.parse(n.Config))));else if(n.hasOwnProperty("Config")&&a.hasOwnProperty("MetaData")){o(T("loaded"));var e=Z(JSON.parse(n.Config)),t=JSON.parse(a.MetaData)[0],c=e,s=[];console.log("\ud83d\ude80 -> aggregateJson -> controlsUpdates: ",t),t.Elements.forEach((function(t){var n;if(n=K(e,t.Id)[0],"Matrix"===t.Type)t.Elements.forEach((function(c,a){if(void 0!==(n=K(e,c.Id)[0])){var s=e.Sections[n[0]].Elements[n[1]].Elements[n[2]].Elements[n[3]];e.Sections[n[0]].Elements[n[1]].Elements[n[2]].Elements[n[3]]=Object(U.a)(Object(U.a)({},s),c)}else console.log("%c"+t.Id+" not found in the template","color:red")}));else if("Repeatable"===t.Type)s.push(t);else{if(void 0===n)return void console.log("%c"+t.Id+" not found in the template","color:red");var a;switch(n.length){case 2:a=Object(U.a)({},c.Sections[n[0]].Elements[n[1]]),c.Sections[n[0]].Elements[n[1]]=Object(U.a)(Object(U.a)({},a),t);break;case 3:a=c.Sections[n[0]].Elements[n[1]].Elements[n[2]],c.Sections[n[0]].Elements[n[1]].Elements[n[2]]=Object(U.a)(Object(U.a)({},a),t);break;case 4:a=c.Sections[n[0]].Elements[n[1]].Elements[n[2]].Elements[n[3]],c.Sections[n[0]].Elements[n[1]].Elements[n[2]].Elements[n[3]]=Object(U.a)(Object(U.a)({},a),t);break;default:console.log("----\x3e Control path invalid!")}}})),o(O(s)),o(m(c))}}),[n,a,o]),Object(i.useEffect)((function(){if("tosend"===r){var e=JSON.stringify([{Elements:W}]);console.log("----\x3e metadata",e);var c=new Headers;c.append("Authorization","Bearer ".concat(v));var n=JSON.stringify({ID:0,ProjectID:f,Description:"",Title:"Test-NewDoc",DocumentTypeId:1088,DocumentFormTemplateID:p,UserRevisionNumber:"0",UserRevisionDate:"2020-09-25",MetaData:e,OpenClosedStatus:"O",CreatedByContactID:1059,CreatedByCompanyID:1009}),a=JSON.stringify(n),s=new FormData;s.append("Document",n),console.log("---\x3e: sendind with body ------\x3e  :   ",a);var i={method:"POST",headers:c,body:s};fetch("".concat(t,"V1.0/Project/").concat(f,"/Document/Template/").concat(p,"/Create"),i).then((function(e){return e.text()})).then((function(e){return console.log("response: ",e)})).catch((function(e){return console.log("error",e)})),o(T("sent"))}}),[r]),Object(s.jsx)("div",{className:"App-tools ".concat(c?"":"hidden"),children:Object(s.jsxs)("ul",{children:[Object(s.jsxs)("li",{children:["project: ",f]}),Object(s.jsxs)("li",{children:["template: ",p]}),Object(s.jsxs)("li",{children:["document: ",g]}),Object(s.jsxs)("li",{children:["userName: ",h]}),Object(s.jsxs)("li",{className:"textcut textcut-lg",children:["token: ",v]})]})})}var te=c(5),ce=c(4);var ne=function(e){var t=Object(d.c)(h),c=Object(d.b)(),n=t.Sections&&t.Sections.length>0?t.Sections.map((function(e,t){return"Document.TableOfContents"===e.Elements[0].Type?null:Object(s.jsx)("li",{children:Object(s.jsxs)("button",{className:"btn-secondary-outlined btn-link fixed-large",onClick:function(){c(y(t))},children:[e.Title,Object(s.jsx)(te.a,{icon:ce.d})]})},t)})):"";return Object(s.jsx)("ul",{className:"toc-list",children:n})};var ae=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,i=t.Data,r=t.IsVisible,o=void 0===r||r,l=Object(d.c)(k),j=Object(d.b)(),b=i.map((function(e,t){return Object(s.jsx)("option",{value:t,children:e},t)}));return o?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(l?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsxs)("div",{className:"control",children:[Object(s.jsx)("label",{htmlFor:"listmulticontrol",children:n}),Object(s.jsxs)("select",{name:"listmulticontrol",id:"listmulticontrol",onChange:function(e){var c=Number(e.target.value);if(c>=0){var n=void 0!==t.OptionedControls[c].Controls?t.OptionedControls[c].Controls:[],a=[];t.OptionedControls.forEach((function(e,t){void 0!==e.Controls&&t!==c&&e.Controls.forEach((function(e){return a.push(e)}))})),j({hiddenControls:a,visibleControls:n}.config.value)}},children:[Object(s.jsx)("option",{value:"-1",children:"-----"}),b]})]})]}):""};var se=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,i=t.IsVisible,r=void 0===i||i,o=t.FontAttributes,l=t.FontSize,j=void 0===l?14:l,b=t.Margin,u=void 0===b?0:b,m=t.HasUnderLine,O=void 0!==m&&m,h=Object(d.c)(k);return r?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(h?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("div",{style:{fontSize:j-2+"px",fontWeight:"Bold"===o?"bold":"",fontStyle:"Italic"===o?"italic":"",borderBottom:O?"1px solid black":"",padding:u?u+"px":""},children:n})})]}):""},ie=c(19),re=c.n(ie),oe=c(15);function le(e){var t=e.visibility,c=e.toggleVisibility,n=e.message,a=e.css,i=e.backdrop,r=e.callback,o=Object(oe.c)({opacity:t?1:0,from:{opacity:0,zIndex:10},config:oe.b.gentle}),l=Object(oe.c)({opacity:t?1:0,top:t?0:-25,from:{opacity:0},config:oe.b.stiff}),d=r?Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{className:re.a.modalBtn,onClick:c,children:"Cancel"}),Object(s.jsx)("button",{className:re.a.modalBtn,onClick:r,children:"OK"})]}):Object(s.jsx)("button",{className:re.a.modalBtn,onClick:c,children:"OK"});var j=i?{backgroundColor:i}:"";return Object(s.jsx)(oe.a.div,{style:o,children:Object(s.jsx)("div",{id:"backdrop",className:"".concat(re.a.modalBackdrop," ").concat(t?"":re.a.modalBackdrop_freeze),onClick:function(e){"backdrop"===e.target.id&&c()},style:j,children:Object(s.jsx)(oe.a.div,{style:l,children:Object(s.jsxs)("div",{className:re.a.modalContainer,style:a,children:[Object(s.jsx)("div",{className:re.a.modalClose,onClick:c,children:Object(s.jsx)(te.a,{icon:ce.l})}),Object(s.jsx)("div",{className:re.a.modalHeader,children:Object(s.jsx)(te.a,{icon:ce.e})}),Object(s.jsx)("div",{className:re.a.modalContent,children:n}),Object(s.jsx)("div",{className:re.a.modalFooter,children:d})]})})})})}var de=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,r=t.IsVisible,o=void 0===r||r,l=t.IsEnabled,j=void 0===l||l,b=t.Value,u=void 0===b?"":b,m=t.Format,O=t.Warning,h=void 0!==O&&O,x=t.WarningMessage,v=t.Mandatory,f=t.ValidationMessage,p=t.AssociatedId;Boolean(t.ID)&&(a=t.ID);var g=Object(d.c)(k),N=Object(d.c)(A),S=Object(d.b)(),y=Object(i.useState)(!1),C=Object(z.a)(y,2),I=C[0],T=C[1],J=Object(i.useState)(v?{message:f,bgColor:"#EF643C"}:{message:x,bgColor:"#000000"}),V=Object(z.a)(J,2),D=V[0],_=V[1],E=/^[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/,L=[49,50,51,52,53,54,55,56,57,48,189,16,57,48,16,187,32,8,35];function B(n){p&&p.Names.length>0&&("ManualSMSName"===a&&S(w(Object(U.a)(Object(U.a)({},N),{},{name:n.target.value}))),"ManualSMSPhone"===a&&S(w(Object(U.a)(Object(U.a)({},N),{},{phoneNumber:n.target.value}))),"ManualEmailName"===a&&S(w(Object(U.a)(Object(U.a)({},N),{},{name:n.target.value}))),"ManualEmailEmail"===a&&S(w(Object(U.a)(Object(U.a)({},N),{},{email:n.target.value})))),$({Type:c,Id:a,Value:n.target.value});var s=JSON.parse(JSON.stringify(t));s.Value=n.target.value,e.updateJson(s)}function M(e){var t=e.target;h&&""===t.value&&T(!0),v&&""===t.value&&(t.focus(),T(!0)),void 0!==m&&"Email"===m.Keyboard&&(E.test(e.target.value.toLowerCase())||(_({message:"The email address provided appears not to be valid",bgColor:"#000000"}),T(!0)))}Object(i.useEffect)((function(){}),[t]);var P=void 0!==m?void 0!==m.Lines?Object(s.jsx)("textarea",{id:a,rows:m.Lines,onChange:B,defaultValue:u}):"Numeric"===m.Keyboard?Object(s.jsx)("input",{type:"number",min:m.Min,max:m.Max,size:m.Decimal,onChange:B}):"Telephone"===m.Keyboard?Object(s.jsx)("input",{type:"text",maxLength:"20",onKeyDown:function(e){"Telephone"===m.Keyboard&&(L.includes(e.keyCode)||e.preventDefault())},onChange:B}):Object(s.jsx)("input",{id:a,type:"text",value:u,maxLength:m.VarChar||-1,disabled:!j,onBlur:M,onChange:B}):Object(s.jsx)("input",{id:a,type:"text",value:u,disabled:!j,onBlur:M,onChange:B}),R=x?"*":"",F=v?Object(s.jsx)("span",{className:"warning-red",children:"*"}):"";return o?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(g?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsxs)("div",{className:"control",children:[Object(s.jsxs)("label",{htmlFor:"title",children:[n," ",R,F]}),P]}),Object(s.jsx)(le,{visibility:I,toggleVisibility:function(){return T(!I)},message:"".concat(a,": ").concat(D.message),css:{backgroundColor:D.bgColor},backdrop:"rgba(0,0,0,0.3)"})]}):""};var je=function e(t){var c,n=t.controlJson,a=n.Type,i=n.Title,r=n.Id,o=n.Elements,l=n.IsVisible,j=void 0===l||l,b=Object(d.b)(),u=Object(d.c)(x),m=Object(d.c)(k),h=u.findIndex((function(e){return e.Id===r})),v=o.map((function(e){var t=Object(U.a)({},e);return delete t.ElementId,t})),f={DocumentTableOfContents:ne,ListMulticontrol:ae,Label:se,Text:de,Repeatable:e,ButtonSubmitPurchase:be,ButtonAddDocketNumber:ue,API:me,Date:ge,Image:Ce,ImageSingle:Ie,ButtonAddReportDate:Te,QRScanner:Ve,QRScannerList:De,Signature:_e,SignatureDateTime:Ee,SignatureDate:Le,Matrix:Be,Checkbox:Me,Boolean:Ae,Trilean:Pe,TrileanLabel:Re,ListSingle:Fe,ListMultiple:Ye,Time:Qe,DateTime:We,TimeLabel:$e,DateLabel:et,ButtonAddSignature:tt,RegisterSignatures:ct,SearchableListEntryDialogSMS:it,ButtonAddSMS:rt,SearchableSMSListView:ot,SearchableListEntryDialogEmail:lt,ButtonAddEmail:dt,SearchableEmailListView:jt,MatrixButton:bt,DocumentSummaryGrid:ut,ButtonSubmitRegister:mt,ButtonCloseout:Ot,ButtonViewDocument:ht},p=function(e,t){return Object(s.jsxs)("div",{className:"repeatable",children:[Object(s.jsxs)("div",{className:"repeatable-header",children:[Object(s.jsxs)("h3",{className:"repeatable-title",children:["#",t+1,", ",i]}),Object(s.jsxs)("button",{className:"btn btn-secondary btn-small",onClick:function(e){return function(e){console.log("----\x3e repeaterValue: ",u);var t=JSON.parse(JSON.stringify(u)),c=u.findIndex((function(e){return e.Id===r}));console.log("\ud83d\ude80 -> removeRepeatableByIndex -> pIndex",e);var n=u[c].RepeaterValue.filter((function(t,c){return c!==e}));console.log("\ud83d\ude80 -> removeRepeatableByIndex -> repeatableValue",n),t[0].RepeaterValue=n,console.log("----\x3e repeaterValueToUpdate: ",t),b(O(t))}(t)},children:["Remove",Object(s.jsx)(te.a,{icon:ce.m})]})]}),e]},"rep-".concat(t))};if(h<0){console.log("----\x3e repeatable is empty, process with repeatableSchema: ",v);var g=v.map((function(e,t){var c=Q(e.Type),n=f[c];return Object(s.jsx)(n,{controlJson:Object(U.a)({},e),updateJson:function(e){}},t)}));c=p(g,0)}else c=u[h].RepeaterValue.map((function(e,t){var c=e.map((function(e,t){var c=v.filter((function(t){return t.Id===e.Id}))[0],n=Q(e.Type),a=f[n];return Object(s.jsx)(a,{controlJson:Object(U.a)(Object(U.a)({},e),c),updateJson:function(e){}},t)}));return p(c,t)}));return console.log("\ud83d\ude80 -> children",c),j?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(m?"":"hidden"),children:[a,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:r}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(n),disabled:!0})]}),Object(s.jsxs)("div",{className:"control",children:[c,Object(s.jsx)("button",{className:"btn btn-primary",onClick:function(){var e=JSON.parse(JSON.stringify(u)),t=h<0?u.length:h;h<0?e.push({Type:"Repeatable",RepeaterValue:[v],Id:r}):e[t].RepeaterValue.push(v),b(O(e))},children:Object(s.jsx)(te.a,{icon:ce.i})})]})]}):""};var be=function(e){var t=e.controlJson,c=t.Title,n=t.Id,a=t.IsVisible,r=void 0===a||a,o=Object(i.useState)(!1),l=Object(z.a)(o,2),d=l[0],j=l[1];return r?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag",onClick:function(){j(!d)},children:["ButtonSubmitPurchase",Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:n})]}),Object(s.jsx)("textarea",{className:d?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("button",{className:"btn btn-secondary",children:c})})]}):""};var ue=function(e){var t=e.controlJson,c=t.Title,n=t.Id,a=t.IsVisible,r=void 0===a||a,o=Object(i.useState)(!1),l=Object(z.a)(o,2),d=l[0],j=l[1];return r?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag",onClick:function(){j(!d)},children:["ButtonAddDocketNumber",Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:n})]}),Object(s.jsx)("textarea",{className:d?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("button",{className:"btn btn-secondary",children:c})})]}):""};var me=function(e){var t=e.controlJson,c=t.Title,n=t.Type,a=t.Id,r=t.IsVisible,o=void 0===r||r,l=t.Value,j=void 0===l?"":l,b=t.Api,u=t.IncludePhoneNumber,m=t.IncludeEmail,O=t.IncludeTitle,h=t.IncludeBusinessNumber,x=t.IncludeAbbreviation,v=t.IncludeCode,f=String(b).toLowerCase(),p=Object(d.b)(),g=Object(d.c)(k),N=Object(d.c)(M),S=Object(i.useState)(!0),y=Object(z.a)(S,2),C=y[0],I=y[1],T=Object(i.useState)(""),J=Object(z.a)(T,2),w=J[0],V=J[1],_=Object(i.useState)([]),E=Object(z.a)(_,2),L=E[0],B=E[1],A=Object(i.useState)([]),P=Object(z.a)(A,2),R=P[0],H=P[1],Y=Object(i.useState)(j.constructor===String?[j]:j),U=Object(z.a)(Y,2),X=U[0],G=U[1],Q=Object(d.c)(F),K=Object(oe.c)({height:C?0:200}),q=Object(oe.d)(X.length,{from:{opacity:0,marginLeft:-12,marginTop:-6,transform:"scaleX(0.6) scaleY(0.8)"},to:{opacity:1,marginLeft:0,marginTop:0,transform:"scaleX(1) scaleY(1)"},config:oe.b.stiff}),Z=1249,W="".concat("https://api-uat.extrack.com/V1.0/").concat(function(){switch(f){case"projectcompany":return"Project/".concat(Z,"/Directory/Companies");case"projectcontacts":return"Project/".concat(Z,"/Directory/Contacts");case"globalcontacts":return"Org/contacts";case"dockettypes":return"/Docket/Types";case"abs":return"Project/".concat(Z,"/ABS");case"tbs":return"Project/".concat(Z,"/TBS");case"cbs":return"Project/".concat(Z,"/CbsWo");case"dbs":return"Project/".concat(Z,"/DBS");case"fbs":return"Project/".concat(Z,"/FBS");case"wbs":return"Project/".concat(Z,"/WBS");case"pcbs":return"Project/".concat(Z,"/PCBS");case"pbs":return"Project/".concat(Z,"/PBS")}}()),ee=new Headers;ee.append("Authorization","Bearer ".concat(N)),ee.append("Content-Type","application/x-www-form-urlencoded");var ne={method:"GET",headers:ee,redirect:"follow"};function ae(e){var t=e.target.id;X[0]!==t?G([t]):G([]),se(t)}function se(c){$({Type:n,Id:a,Value:c});var s=JSON.parse(JSON.stringify(t));s.Value===c?s.Value="":(s.Value=c,I(!0)),e.updateJson(s)}Object(i.useEffect)((function(){fetch(W,ne).then((function(e){return e.text()})).then((function(e){var t=JSON.parse(e).map((function(e,t){var c,n,a,s,i,r,o,l;switch(b){case"ProjectContacts":n=u?" | ".concat(e.Contact.Number||"n/a"):"",a=m?" | ".concat(e.Contact.Email||"n/a"):"",c="".concat(e.Contact.NameFirst," ").concat(e.Contact.NameLast," | ").concat(e.Company.Name).concat(n).concat(a);break;case"GlobalContacts":n=u?" | ".concat(e.Number||"n/a"):"",a=m?" | ".concat(e.Email||"n/a"):"",c="".concat(e.NameFirst," ").concat(e.NameLast," | ").concat(e.CompanyName).concat(n).concat(a);break;case"ProjectCompany":s=O?" | ".concat(e.Title||"n/a"):"",i=h?" | ".concat(e.Company.Abn||"n/a"):"",r=x?" | ".concat(e.Company.Abbr||"n/a"):"",c="".concat(e.Company.Name).concat(s).concat(i).concat(r);break;case"DocketTypes":c="".concat(e.Title);break;default:s=O?"".concat(e.Title||"n/a"):"",o=v?"".concat(e.Code||"n/a"):"",l=v&&O?" | ":"",c="".concat(s).concat(l).concat(o)}return c}));B(t)})).catch((function(e){return console.log("error",e)}))}),[]),Object(i.useEffect)((function(){C||p(D(a))}),[C,a,p]),Object(i.useEffect)((function(){Q!==a&&I(!0)}),[Q,a]),Object(i.useEffect)((function(){H(L.filter((function(e){return e.toLowerCase().includes(w.toLowerCase())})))}),[L,w]);var ie=C?"":R.map((function(e,t){var c=e===j,n=c?Object(s.jsx)(te.a,{icon:ce.c}):"";return Object(s.jsxs)("div",{id:e,className:"input-list-item ".concat(c?"selected-list-item":""),onClick:ae,children:[n,e]},t)})),re=q.map((function(e,t){var c=X[t];return""!==c?Object(s.jsxs)(oe.a.div,{className:"input-select-item",style:e,children:[c,Object(s.jsx)("button",{id:c,className:"remove-item"})]},t):""}));return o?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(g?"":"hidden"),children:[n,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsxs)("div",{className:"control",children:[Object(s.jsx)("h3",{children:c}),Object(s.jsxs)("div",{className:"input-select",onClick:function(e){var t=e.target;if("input-select"===t.className||"input-select-items"===t.className)I(!C);else if("remove-item"===t.className){var c=t.parentNode.innerText;""!==c&&(se(""),G(X.filter((function(e){return e!==c}))))}},children:[Object(s.jsx)("div",{className:"input-select-items",children:re}),Object(s.jsx)(te.a,{icon:C?ce.a:ce.b,onClick:function(e){I(!C)}})]}),Object(s.jsxs)(oe.a.div,{style:K,className:"input-list",children:[Object(s.jsxs)("div",{className:"input-list-searchbar",children:[Object(s.jsx)("input",{type:"text",placeholder:"Search",className:"input-list-search",value:w,onChange:function(e){return V(e.target.value)}}),Object(s.jsx)(te.a,{icon:ce.l,onClick:function(e){return V("")}})]}),Object(s.jsx)("div",{className:"input-list-items",children:ie})]})]})]}):""},Oe=c(82),he=c(79),xe=c(80),ve=c(32),fe=c.n(ve);function pe(e){var t=e.format.replace(/ddd/g,"eee"),c=Object(i.useState)(e.dateValue),n=Object(z.a)(c,2),a=n[0],r=n[1];var o=""===a?a:Object(Oe.a)(Object(he.a)(Object(xe.a)(new Date(a+" "+(new Date).toTimeString()),e.modifiers.AddDay),e.modifiers.AddMonth),t);return Object(s.jsxs)("div",{className:fe.a.dateContainer,children:[Object(s.jsx)("input",{type:"date",name:"",id:"",className:fe.a.datePicker,defaultValue:a,onChange:function(t){return c=t.target.value,r(c),void e.onDateChange(c);var c}}),o,Object(s.jsx)(te.a,{className:fe.a.btnClear,icon:ce.l,onClick:function(){r(""),e.onDateChange("")}})]})}var ge=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,r=t.FormatDateTime,o=void 0===r?"yyyy-MM-dd":r,l=t.IsBlank,j=void 0!==l&&l,b=t.IsVisible,u=void 0===b||b,m=t.AddDay,O=void 0===m?0:m,h=t.AddMonth,x=void 0===h?0:h,v=t.DateValue,f=Object(d.c)(k),p=""===v||void 0===v?"".concat(q().toDateString()):v,g=Object(i.useState)(j?"":p),N=Object(z.a)(g,2),S=N[0],y=N[1];return u?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(f?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsxs)("div",{className:"control",children:[Object(s.jsx)("h3",{children:n}),Object(s.jsx)(pe,{format:o,dateValue:S,modifiers:{AddDay:O,AddMonth:x},onDateChange:function(n){return function(n){y(n),$({Type:c,Id:a,DateValue:n});var s=JSON.parse(JSON.stringify(t));""!==n?s.DateValue=n:delete s.DateValue,s.IsBlank=""===n,e.updateJson(s)}(n)}})]})]}):""},Ne=c(39),Se=c.n(Ne);function ye(e){return Object(s.jsxs)("div",{className:Se.a.container,children:[Object(s.jsx)("img",{src:e.source,alt:"figure"}),Object(s.jsx)("div",{className:Se.a.btnClose,onClick:function(t){e.onClose(t)},children:Object(s.jsx)(te.a,{icon:ce.l})})]})}var Ce=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,r=(t.Data,t.IsVisible),o=void 0===r||r,l=t.Images,j=void 0===l?[]:l,b=Object(d.c)(k),u=Object(i.useState)(""),m=Object(z.a)(u,2);function O(e){console.log("---\x3e ",e)}m[0],m[1],Object(i.useEffect)((function(){}),[t]);var h=j.map((function(e,t){return Object(s.jsx)("div",{className:"control-row",children:Object(s.jsx)(ye,{source:"data:image/png; base64, ".concat(e),onClose:O})},"image".concat(t))}));return o?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(b?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsxs)("div",{className:"control",children:[Object(s.jsxs)("div",{className:"control-row",children:[Object(s.jsx)("h3",{htmlFor:"title",children:n}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("label",{htmlFor:"file",className:"btn btn-primary btn-label",children:[Object(s.jsx)(te.a,{icon:ce.h}),"Select an image"]}),Object(s.jsx)("input",{type:"file",id:"file",name:"file",className:"btn-file",onChange:function(e){console.log("pEvent: ",e)}})]})]}),h]})]}):""};var Ie=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,r=(t.Data,t.IsVisible),o=void 0===r||r,l=t.Value,j=void 0===l?"":l,b=Object(d.c)(k);Object(i.useEffect)((function(){}),[t]);var u=""!==j?Object(s.jsx)(ye,{source:"data:image/png; base64, ".concat(j),onClose:function(c){console.log("---\x3e ",c);var n=JSON.parse(JSON.stringify(t));delete n.Value,e.updateJson(n)}}):"";return o?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(b?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsxs)("div",{className:"control",children:[Object(s.jsxs)("div",{className:"control-row",children:[Object(s.jsx)("h3",{htmlFor:"title",children:n}),Object(s.jsxs)("label",{htmlFor:"file",className:"btn btn-primary btn-label",children:[Object(s.jsx)(te.a,{icon:ce.h}),"Select an image"]}),Object(s.jsx)("input",{type:"file",id:"file",name:"file",className:"btn-file",onChange:function(c){var n,a=new FileReader;a.onload=function(c){n=c.target.result.replace("data:image/png;base64,","");var a=JSON.parse(JSON.stringify(t));a.Value=n,e.updateJson(a)},a.readAsDataURL(c.target.files[0])}})]}),Object(s.jsx)("div",{className:"control-row",children:u})]})]}):""};var Te=function(e){var t=e.controlJson,c=t.Title,n=t.Id,a=t.IsVisible,r=void 0===a||a,o=Object(i.useState)(!1),l=Object(z.a)(o,2),d=l[0],j=l[1];return r?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag",onClick:function(){j(!d)},children:["ButtonAddReportDate",Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:n})]}),Object(s.jsx)("textarea",{className:d?"":"hidden",name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("button",{className:"btn btn-secondary",children:c})})]}):""},Je=c(31),we=c.n(Je);var Ve=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,r=t.IsVisible,o=void 0===r||r,l=t.Value,j=void 0===l?"":l,b=t.DateTimeValue,u=Object(i.useState)(!1),m=Object(z.a)(u,2),O=m[0],h=m[1],x=Object(d.c)(k);function v(c,n){var a=JSON.parse(JSON.stringify(t));a.Value=c,a.DateTimeValue=n,e.updateJson(a)}var f=O?Object(s.jsx)(we.a,{delay:300,onError:function(e){console.error(e)},onScan:function(e){e&&(v(e,Object(Oe.a)(new Date,"yyyy-MM-dd hh:mm a")),h(!1))},style:{width:"100%"}}):"",p=O?"":Object(s.jsx)("button",{className:"btn btn-primary",onClick:function(){return h(!O)},children:"Scan a code"});return o?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(x?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsxs)("div",{className:"control",children:[Object(s.jsx)("h3",{children:n}),Object(s.jsxs)("div",{className:"control-row",children:[p,f]}),Object(s.jsx)("div",{className:"control-row",children:Object(s.jsxs)("div",{className:"qrscan-record qrscan-record-3cols",children:[Object(s.jsx)("div",{children:j}),Object(s.jsx)("div",{children:b}),Object(s.jsx)("button",{className:"btn btn-secondary btn-small",onClick:function(){v("","")},children:"delete"})]})})]})]}):""};var De=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,r=t.IsVisible,o=void 0===r||r,l=t.Value,j=void 0===l?[]:l;t.DateTimeValue,console.log("-------\x3e QRLIST json: ",t);var b=Object(i.useState)(!1),u=Object(z.a)(b,2),m=u[0],O=u[1],h=Object(i.useState)(-1),x=Object(z.a)(h,2),v=x[0],f=x[1],p=Object(d.c)(k),g=Object(i.useState)(!1),N=Object(z.a)(g,2),S=N[0],y=N[1],C=Object(i.useState)({message:""}),I=Object(z.a)(C,2),T=I[0],J=I[1];function w(c){var n=JSON.parse(JSON.stringify(t));n.Value=JSON.stringify(c),e.updateJson(n)}Object(i.useEffect)((function(){console.log("---\x3e: QRScannerList -> scanOffIndex",v),v>=0&&O(!0)}),[v]);var V=m?Object(s.jsx)(we.a,{delay:300,onError:function(e){console.error(e)},onScan:function(e){if(e){var t=j;v<0?t.push({Id:t.length,Name:e,ScanOnDateTime:Object(Oe.a)(new Date,"yyyy-MM-dd hh:mm a")}):(e===t[v].Name?t[v].ScanOffDateTime=Object(Oe.a)(new Date,"yyyy-MM-dd hh:mm a"):(J({message:"Please rescan the same QR code to sign off",bgColor:"#000000",callback:null}),y(!0)),f(-1)),w(t),O(!1)}},style:{width:"100%"}}):"",D=m?"":Object(s.jsx)("button",{className:"btn btn-primary",onClick:function(){return O(!m)},children:"Add to QR Scanner list"}),_=j.map((function(e,t){return Object(s.jsxs)("div",{className:"qrscan-record",children:[Object(s.jsx)("div",{children:e.Name}),Object(s.jsx)("div",{children:e.ScanOnDateTime||Object(s.jsx)("button",{className:"btn btn-primary btn-small",onClick:function(){return f(t)},children:"Scan Off"})}),Object(s.jsx)("div",{children:e.ScanOffDateTime||Object(s.jsx)("button",{className:"btn btn-primary btn-small",onClick:function(){return f(t)},children:"Scan Off"})}),Object(s.jsx)("button",{className:"btn btn-secondary btn-small",onClick:function(){return e=t,J({message:"Are you sure you want to delete?",bgColor:"#000000",callback:function(){w(JSON.parse(j).filter((function(t,c){return c!==e}))),y(!1)}}),void y(!0);var e},children:"delete"})]},"scan".concat(t))}));return o?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(p?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsxs)("div",{className:"control",children:[Object(s.jsx)("h3",{children:n}),Object(s.jsxs)("div",{className:"control-row",children:[D,V]}),Object(s.jsxs)("div",{className:"control-row",children:[Object(s.jsxs)("div",{className:"qrscan-record",children:[Object(s.jsx)("div",{children:"Name"}),Object(s.jsx)("div",{children:"Scan On"}),Object(s.jsx)("div",{children:"Scan Off"}),Object(s.jsx)("span",{})]}),_]})]}),Object(s.jsx)(le,{visibility:S,toggleVisibility:function(){return y(!S)},message:T.message,css:{backgroundColor:"#000000"},backdrop:"rgba(0,0,0,0.3)",callback:T.callback})]}):""},ke=c(20);var _e=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,r=t.IsVisible,o=void 0===r||r,l=t.Signature,j=void 0===l?"":l,b=Object(i.useRef)(null),u=Object(d.c)(k),m=Object(d.c)(B),O=Object(i.useState)(),h=Object(z.a)(O,2),x=h[0],v=h[1],f=Object(i.useState)(""),p=Object(z.a)(f,2),g=p[0],N=p[1],S=Object(i.useState)(!1),y=Object(z.a)(S,2),C=y[0],I=y[1];Object(i.useEffect)((function(){g.length>0&&ke.a(b.current).then((function(c){var n=c.replace("data:image/png;base64,",""),a=JSON.parse(JSON.stringify(t));a.Signature=n,e.updateJson(a)})).catch((function(e){console.error("oops, something went wrong!",e)}))}),[g]);var T=[{label:"Style 01",name:"signature-font01"},{label:"Style 02",name:"signature-font02"},{label:"Style 03",name:"signature-font03"},{label:"Style 04",name:"signature-font04"}].map((function(e,t){return Object(s.jsx)("option",{value:e.name,children:e.label},t)})),J=C?Object(s.jsxs)("div",{className:"control-row control-inline",children:[Object(s.jsx)("input",{type:"text",name:"signatureText",id:"signatureText",placeholder:"Your Name",onChange:function(e){v(e.target.value)}}),Object(s.jsxs)("select",{name:"fontDropdown",id:"fontDropdown",onChange:function(e){N(e.target.value)},children:[Object(s.jsx)("option",{value:"",children:"Choose a style"}),T]})]}):"",w=C?"":Object(s.jsx)("div",{className:"control-row",children:Object(s.jsx)("button",{className:"btn btn-primary btn-small",onClick:function(e){I(!C)},children:"Sign"})}),V=Object(s.jsx)("img",{src:"data:image/png;base64,".concat(j),id:a,alt:"",width:"400px"});return o?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(u?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsxs)("div",{className:"control",children:[Object(s.jsx)("h3",{children:n}),J,Object(s.jsxs)("div",{className:"control-row",children:[w,Object(s.jsx)("div",{className:"signature-display",children:V})]})]}),Object(s.jsx)("div",{id:"signaturePad"}),Object(s.jsx)("div",{className:"signature-container",children:Object(s.jsxs)("div",{ref:b,className:"signature-preview ".concat(g),children:[x,Object(s.jsx)("div",{className:"signature-user",children:m})]})})]}):""};var Ee=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,r=t.IsVisible,o=void 0===r||r,l=t.Signature,j=void 0===l?"":l,b=t.DateTimeValue,u=Object(i.useRef)(null),m=Object(d.c)(k),O=Object(d.c)(B),h=Object(i.useState)(),x=Object(z.a)(h,2),v=x[0],f=x[1],p=Object(i.useState)(""),g=Object(z.a)(p,2),N=g[0],S=g[1],y=Object(i.useState)(!1),C=Object(z.a)(y,2),I=C[0],T=C[1];Object(i.useEffect)((function(){N.length>0&&ke.a(u.current).then((function(c){var n=c.replace("data:image/png;base64,",""),a=JSON.parse(JSON.stringify(t));a.Signature=n,a.DateTimeValue=Object(Oe.a)(new Date,"yyyy-MM-dd hh:mm:ss"),e.updateJson(a)})).catch((function(e){console.error("oops, something went wrong!",e)}))}),[N]);var J=[{label:"Style 01",name:"signature-font01"},{label:"Style 02",name:"signature-font02"},{label:"Style 03",name:"signature-font03"},{label:"Style 04",name:"signature-font04"}].map((function(e,t){return Object(s.jsx)("option",{value:e.name,children:e.label},t)})),w=I?Object(s.jsxs)("div",{className:"control-row control-inline",children:[Object(s.jsx)("input",{type:"text",name:"signatureText",id:"signatureText",placeholder:"Your Name",onChange:function(e){f(e.target.value)}}),Object(s.jsxs)("select",{name:"fontDropdown",id:"fontDropdown",onChange:function(e){S(e.target.value)},children:[Object(s.jsx)("option",{value:"",children:"Choose a style"}),J]})]}):"",V=I?"":Object(s.jsx)("div",{className:"control-row",children:Object(s.jsx)("button",{className:"btn btn-primary btn-small",onClick:function(e){T(!I)},children:"Sign"})}),D=Object(s.jsx)("img",{src:"data:image/png;base64,".concat(j),alt:"",width:"400px"});return o?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(m?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsxs)("div",{className:"control",children:[Object(s.jsx)("h3",{children:n}),w,Object(s.jsxs)("div",{className:"control-row",children:[V,Object(s.jsxs)("div",{className:"signature-display",children:[D,Object(s.jsx)("div",{className:"signature-timestamp",children:b})]})]})]}),Object(s.jsx)("div",{id:"signaturePad"}),Object(s.jsx)("div",{className:"signature-container",children:Object(s.jsxs)("div",{ref:u,className:"signature-preview ".concat(N),children:[v,Object(s.jsx)("div",{className:"signature-user",children:O})]})})]}):""};var Le=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,r=t.IsVisible,o=void 0===r||r,l=t.Signature,j=void 0===l?"":l,b=t.DateValue,u=Object(i.useRef)(null),m=Object(d.c)(k),O=Object(d.c)(B),h=Object(i.useState)(),x=Object(z.a)(h,2),v=x[0],f=x[1],p=Object(i.useState)(""),g=Object(z.a)(p,2),N=g[0],S=g[1],y=Object(i.useState)(!1),C=Object(z.a)(y,2),I=C[0],T=C[1];Object(i.useEffect)((function(){N.length>0&&ke.a(u.current).then((function(c){var n=c.replace("data:image/png;base64,",""),a=JSON.parse(JSON.stringify(t));a.Signature=n,a.DateValue=Object(Oe.a)(new Date,"yyyy-MM-dd"),e.updateJson(a)})).catch((function(e){console.error("--\x3e Something went wrong!",e)}))}),[N]);var J=[{label:"Style 01",name:"signature-font01"},{label:"Style 02",name:"signature-font02"},{label:"Style 03",name:"signature-font03"},{label:"Style 04",name:"signature-font04"}].map((function(e,t){return Object(s.jsx)("option",{value:e.name,children:e.label},t)})),w=I?Object(s.jsxs)("div",{className:"control-row control-inline",children:[Object(s.jsx)("input",{type:"text",name:"signatureText",id:"signatureText",placeholder:"Your Name",onChange:function(e){f(e.target.value)}}),Object(s.jsxs)("select",{name:"fontDropdown",id:"fontDropdown",onChange:function(e){S(e.target.value)},children:[Object(s.jsx)("option",{value:"",children:"Choose a style"}),J]})]}):"",V=I?"":Object(s.jsx)("div",{className:"control-row",children:Object(s.jsx)("button",{className:"btn btn-primary btn-small",onClick:function(e){T(!I)},children:"Sign"})}),D=Object(s.jsx)("img",{src:"data:image/png;base64,".concat(j),alt:"",width:"400px"});return o?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(m?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsxs)("div",{className:"control",children:[Object(s.jsx)("h3",{children:n}),w,Object(s.jsxs)("div",{className:"control-row",children:[V,Object(s.jsxs)("div",{className:"signature-display",children:[D,Object(s.jsx)("div",{className:"signature-timestamp",children:b})]})]})]}),Object(s.jsx)("div",{id:"signaturePad"}),Object(s.jsx)("div",{className:"signature-container",children:Object(s.jsxs)("div",{ref:u,className:"signature-preview ".concat(N),children:[v,Object(s.jsx)("div",{className:"signature-user",children:O})]})})]}):""};function Be(e){for(var t=e.controlJson,c=t.Type,n=t.Id,a=t.Title,i=t.Columns,r=t.Rows,o=t.Elements,l=t.IsVisible,j=void 0===l||l,b=Object(d.c)(k),u=(Object(d.b)(),{ListMulticontrol:ae,Label:se,Text:de,Repeatable:je,ButtonSubmitPurchase:be,ButtonAddDocketNumber:ue,API:me,Date:ge,Image:Ce,ImageSingle:Ie,ButtonAddReportDate:Te,QRScanner:Ve,QRScannerList:De,Signature:_e,SignatureDateTime:Ee,SignatureDate:Le,Checkbox:Me,Boolean:Ae,Trilean:Pe,TrileanLabel:Re,ListSingle:Fe,ListMultiple:Ye,Time:Qe,DateTime:We,TimeLabel:$e,DateLabel:et,ButtonAddSignature:tt,RegisterSignatures:ct}),m=[],O=0;O<o.length;O++)for(var h=0;h<o[O].Elements.length;h++){var x=o[O].Elements[h],v=Q(x.Type),f=u[v],p=Object(s.jsx)(f,{controlJson:x,updateJson:g},"".concat(v.substring(0,4).toLowerCase(),"-").concat(x.Id));m.push(Object(s.jsx)("div",{className:"matrix-box",style:{backgroundColor:O%2>0?"rgb(244, 244, 244)":"",borderBottom:O%2>0?"1px solid #CCC":""},children:p},"".concat(O,"-").concat(h)))}function g(t){e.updateJson(t)}return j?Object(s.jsxs)("div",{className:"control-container control-container-matrix",children:[Object(s.jsxs)("div",{className:"tag ".concat(b?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:n}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsxs)("div",{className:"control",children:[Object(s.jsx)("h3",{children:a}),Object(s.jsx)("div",{className:"control-row",children:Object(s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(".concat(i,", 1fr)"),gridTemplateRows:"repeat(".concat(r,", 1fr)")},children:m})})]})]}):""}var Me=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,r=t.ShowComment,o=t.Collapsible,l=t.IsCollapsed,j=t.EntryTitle,b=t.Details,u=t.HasUnderLine,m=t.IsVisible,O=void 0===m||m,h=t.Value,x=void 0===h?"":h,v=t.CommentValue,f=void 0===v?"":v,p=Object(i.useState)(l),g=Object(z.a)(p,2),N=g[0],S=g[1],y=Object(d.c)(k);Object(i.useEffect)((function(){}),[t]);var C=r?Object(s.jsx)("div",{className:"control-checkbox-option",children:Object(s.jsx)("input",{type:"text",placeholder:j,value:f,onChange:function(c){var n=c.target.value;$({Id:a,CommentValue:n});var s=JSON.parse(JSON.stringify(t));s.CommentValue=n,e.updateJson(s)}})}):"",I=o?Object(s.jsxs)("div",{className:"control-details-container",children:[Object(s.jsx)("div",{className:"control-details-toggle",onClick:function(e){S(!N)},children:Object(s.jsx)(te.a,{icon:N?ce.a:ce.b})}),Object(s.jsx)("div",{id:"controlDetails",className:"".concat(N?"hidden":""," control-details-details"),children:b})]}):"",T=j?Object(s.jsx)("div",{className:"control-checkbox-option",children:Object(s.jsx)("label",{htmlFor:"checkbox",children:j})}):"";return O?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(y?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsxs)("div",{className:"control ".concat(u?"control-underline":""),children:[Object(s.jsxs)("div",{className:"control-checkbox",children:[Object(s.jsx)("input",{id:a,type:"checkbox",defaultChecked:"Y"===x,onChange:function(n){var s=!0===n.target.checked?"Y":"N";$({Type:c,Id:a,Value:s});var i=JSON.parse(JSON.stringify(t));i.Value=s,e.updateJson(i)}}),Object(s.jsx)("label",{htmlFor:a,children:n})]}),I,T,C]})]}):""};var Ae=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,r=t.ShowComment,o=t.Collapsible,l=t.IsCollapsed,j=t.HasUnderLine,b=t.EntryTitle,u=t.Details,m=t.IsVisible,O=void 0===m||m,h=t.Value,x=void 0===h?"":h,v=t.CommentValue,f=void 0===v?"":v,p=Object(i.useState)(l),g=Object(z.a)(p,2),N=g[0],S=g[1],y=Object(d.c)(k);function C(n){var s=n.target.value;$({Type:c,Id:a,Value:s});var i=JSON.parse(JSON.stringify(t));i.Value=s,e.updateJson(i)}var I=r?Object(s.jsx)("input",{type:"text",placeholder:b,value:f,onChange:function(n){var s=n.target.value;$({Type:c,Id:a,CommentValue:s});var i=JSON.parse(JSON.stringify(t));i.CommentValue=n.target.value,e.updateJson(i)}}):"",T=o?Object(s.jsxs)("div",{className:"control-details-container",children:[Object(s.jsx)("div",{className:"control-details-toggle",onClick:function(e){S(!N)},children:Object(s.jsx)(te.a,{icon:N?ce.a:ce.b})}),Object(s.jsx)("div",{id:"controlDetails",className:"".concat(N?"hidden":""," control-details-details"),children:u})]}):"",J=b?Object(s.jsx)("label",{htmlFor:"checkbox",children:b}):"";return O?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(y?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsxs)("div",{className:"control",children:[n,Object(s.jsx)("div",{className:"control-inline",children:T}),Object(s.jsxs)("div",{className:"control-inline ".concat(j?"control-underline":""),children:[Object(s.jsxs)("div",{className:"control-checkbox",children:[Object(s.jsx)("label",{htmlFor:"yes",children:"Yes"}),Object(s.jsx)("input",{type:"radio",id:"yes",name:a,value:"Y",checked:"Y"===x,onChange:C})]}),Object(s.jsxs)("div",{className:"control-checkbox",children:[Object(s.jsx)("label",{htmlFor:"no",children:"No"}),Object(s.jsx)("input",{type:"radio",id:"no",name:a,value:"N",checked:"N"===x,onChange:C})]})]}),Object(s.jsx)("div",{className:"control-inline",children:J}),Object(s.jsx)("div",{className:"control-inline",children:I})]})]}):""};var Pe=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,r=t.ShowComment,o=t.HideNa,l=t.IsVisible,j=void 0===l||l,b=t.Collapsible,u=t.IsCollapsed,m=t.EntryTitle,O=t.Details,h=t.Value,x=void 0===h?"":h,v=t.CommentValue,f=void 0===v?"":v,p=Object(i.useState)(u),g=Object(z.a)(p,2),N=g[0],S=g[1],y=Object(d.c)(k);function C(n){var s=n.target.value;$({Type:c,Id:a,Value:s,CommentValue:f});var i=JSON.parse(JSON.stringify(t));i.Value=s,e.updateJson(i)}Object(i.useEffect)((function(){}),[t]);var I=r?Object(s.jsx)("div",{className:"control-row",children:Object(s.jsx)("input",{type:"text",placeholder:m,value:f,onChange:function(c){var n=JSON.parse(JSON.stringify(t));n.CommentValue=c.target.value,e.updateJson(n)}})}):"",T=b?Object(s.jsx)("div",{className:"control-row",children:Object(s.jsxs)("div",{className:"control-details-container",children:[Object(s.jsx)("div",{className:"control-details-toggle",onClick:function(e){S(!N)},children:Object(s.jsx)(te.a,{icon:N?ce.a:ce.b})}),Object(s.jsx)("div",{id:"controlDetails",className:"".concat(N?"hidden":""," control-details-details"),children:O})]})}):"";return j?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(y?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsxs)("div",{className:"control",children:[n,T,Object(s.jsx)("div",{className:"control-row",children:Object(s.jsxs)("div",{className:"control-inline",children:[Object(s.jsxs)("div",{className:"control-checkbox",children:[Object(s.jsx)("label",{htmlFor:"yes",children:"Yes"}),Object(s.jsx)("input",{type:"radio",id:"yes",name:a,value:"Y",checked:"Y"===x,onChange:C})]}),Object(s.jsxs)("div",{className:"control-checkbox",children:[Object(s.jsx)("label",{htmlFor:"no",children:"No"}),Object(s.jsx)("input",{type:"radio",id:"no",name:a,value:"N",checked:"N"===x,onChange:C})]}),Object(s.jsxs)("div",{className:"".concat(o?"hidden":""," control-checkbox"),children:[Object(s.jsx)("label",{htmlFor:"na",children:"N/A"}),Object(s.jsx)("input",{type:"radio",id:"na",name:a,value:"NA",checked:"NA"===x,onChange:C})]})]})}),I]})]}):""};var Re=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,i=t.IsVisible,o=void 0===i||i,l=t.Buttons,j=t.CommentValue,b=t.HasUnderLine,u=t.ShowComment,m=t.HideNa,O=t.Value,h=Object(d.c)(k);function x(c){var n=JSON.parse(JSON.stringify(t));n.Value=c.target.value,e.updateJson(n)}var v=void 0!==l?l.map((function(e,t){var c=O===e.Button?e.BackgroundColorSelected:e.BackgroundColor;if(!m||"NA"!==e.Button)return Object(s.jsxs)(r.a.Fragment,{children:[Object(s.jsx)("input",{type:"radio",name:a,id:"".concat(a).concat(e.Label),value:e.Button,className:"radiocheck-hidden",onChange:x}),Object(s.jsx)("label",{htmlFor:"".concat(a).concat(e.Label),className:"radiocheck-button",style:{backgroundColor:c},children:e.Label})]},"".concat(a).concat(t))})):"",f=u?Object(s.jsx)("div",{className:"control-row",children:j}):"",p=b?Object(s.jsx)("hr",{}):"";return o?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(h?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsxs)("div",{className:"control",children:[Object(s.jsx)("h3",{children:n}),f,Object(s.jsxs)("div",{className:"control-row control-inline",children:[v,p]})]})]}):""};var Fe=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,r=t.Data,o=void 0===r?[]:r,l=t.Value,j=void 0===l?"":l,b=t.IsVisible,u=void 0===b||b,m=Object(d.b)(),O=Object(d.c)(k),h=Object(i.useState)(!0),x=Object(z.a)(h,2),v=x[0],f=x[1],p=Object(i.useState)(""),g=Object(z.a)(p,2),N=g[0],S=g[1],y=Object(i.useState)([]),C=Object(z.a)(y,2),I=C[0],T=C[1],J=Object(i.useState)(j.constructor===String?[j]:j),w=Object(z.a)(J,2),V=w[0],_=w[1],E=Object(d.c)(F),L=Object(oe.c)({height:v?0:200}),B=Object(oe.d)(V.length,{from:{opacity:0,marginLeft:-12,marginTop:-6,transform:"scaleX(0.6) scaleY(0.8)"},to:{opacity:1,marginLeft:0,marginTop:0,transform:"scaleX(1) scaleY(1)"},config:oe.b.stiff});function M(e){V[0]!==e.target.id?_([e.target.id]):_([]),A(e.target.id)}function A(n){var s={Type:c,Id:a,Value:n},i=JSON.parse(JSON.stringify(t));i.Value===n?(i.Value="",s.Value="",$(s)):(i.Value=n,f(!0),$(s)),e.updateJson(i)}Object(i.useEffect)((function(){v||m(D(a))}),[v,a,m]),Object(i.useEffect)((function(){E!==a&&f(!0)}),[E,a]),Object(i.useEffect)((function(){T(o.filter((function(e){return e.toLowerCase().includes(N.toLowerCase())}))),console.log("----\x3e Data: ",o,a),console.log("----\x3e keyword: ",N)}),[o,N]);var P=v?"":I.map((function(e,t){var c=V.findIndex((function(t){return e===t}))>-1,n=c?Object(s.jsx)(te.a,{icon:ce.c}):"";return Object(s.jsxs)("div",{id:e,className:"input-list-item ".concat(c?"selected-list-item":""),onClick:M,children:[n,e]},t)})),R=B.map((function(e,t){var c=V[t];return""!==c?Object(s.jsxs)(oe.a.div,{className:"input-select-item",style:e,children:[c,Object(s.jsx)("button",{id:c,className:"remove-item"})]},t):""}));return u?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(O?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsxs)("div",{className:"control",children:[Object(s.jsx)("h3",{children:n}),Object(s.jsxs)("div",{className:"input-select",onClick:function(e){var t=e.target;if("input-select"===t.className||"input-select-items"===t.className)f(!v);else if("remove-item"===t.className){var c=t.parentNode.innerText;""!==c&&(A(""),_(V.filter((function(e){return e!==c}))))}},children:[Object(s.jsx)("div",{className:"input-select-items",children:R}),Object(s.jsx)(te.a,{icon:v?ce.a:ce.b,onClick:function(e){f(!v)}})]}),Object(s.jsxs)(oe.a.div,{style:L,className:"input-list",children:[Object(s.jsxs)("div",{className:"input-list-searchbar",children:[Object(s.jsx)("input",{type:"text",placeholder:"Search",className:"input-list-search",value:N,onChange:function(e){return S(e.target.value)}}),Object(s.jsx)(te.a,{icon:ce.l,onClick:function(e){return S("")}})]}),Object(s.jsx)("div",{className:"input-list-items",children:P})]})]})]}):""},He=c(21);var Ye=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,r=t.Data,o=t.SelectedValue,l=void 0===o?"[]":o,j=t.IsVisible,b=void 0===j||j,u=Object(d.b)(),m=Object(d.c)(k),O=Object(i.useState)(!0),h=Object(z.a)(O,2),x=h[0],v=h[1],f=Object(i.useState)(""),p=Object(z.a)(f,2),g=p[0],N=p[1],S=Object(i.useState)([]),y=Object(z.a)(S,2),C=y[0],I=y[1],T=Object(i.useState)(JSON.parse(l)),J=Object(z.a)(T,2),w=J[0],V=J[1],_=Object(d.c)(F),E=Object(oe.c)({height:x?0:200}),L=Object(oe.d)(w.length,{from:{opacity:0,marginLeft:-12,marginTop:-6,transform:"scaleX(0.6) scaleY(0.8)"},to:{opacity:1,marginLeft:0,marginTop:0,transform:"scaleX(1) scaleY(1)"},config:{mass:1,tension:500,friction:26}});function B(e){var t=e.target.id,c=w.findIndex((function(e){return e===t}))<0?[].concat(Object(He.a)(w),[t]):w.filter((function(e){return e!==t}));V(c),M(c)}function M(n){var s={Type:c,Id:a,SelectedValue:JSON.stringify(n)},i=JSON.parse(JSON.stringify(t));i.Value===n?(i.SelectedValue="",s.SelectedValue="",$(s)):(i.SelectedValue=n,v(!0),$(s)),e.updateJson(i)}Object(i.useEffect)((function(){x||u(D(a))}),[x,a,u]),Object(i.useEffect)((function(){_!==a&&v(!0)}),[_,a]),Object(i.useEffect)((function(){I(r.filter((function(e){return e.toLowerCase().includes(g.toLowerCase())})))}),[r,g]);var A=x?"":C.map((function(e,t){var c=w.findIndex((function(t){return e===t}))>-1,n=c?Object(s.jsx)(te.a,{icon:ce.c}):"";return Object(s.jsxs)("div",{id:e,className:"input-list-item ".concat(c?"selected-list-item":""),onClick:B,children:[n,e]},t)})),P=L.map((function(e,t){var c=w[t];return""!==c?Object(s.jsxs)(oe.a.div,{className:"input-select-item",style:e,children:[c,Object(s.jsx)("button",{id:c,className:"remove-item"})]},t):""}));return b?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(m?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsxs)("div",{className:"control",children:[Object(s.jsx)("h3",{children:n}),Object(s.jsxs)("div",{className:"input-select",onClick:function(e){var t=e.target;if("input-select"===t.className||"input-select-items"===t.className)v(!x);else if("remove-item"===t.className){var c=t.parentNode.innerText;if(""!==c){var n=w.filter((function(e){return e!==c}));V(n),M(n)}}},children:[Object(s.jsx)("div",{className:"input-select-items",children:P}),Object(s.jsx)(te.a,{icon:x?ce.a:ce.b,onClick:function(e){v(!x)}})]}),Object(s.jsxs)(oe.a.div,{style:E,className:"input-list",children:[Object(s.jsxs)("div",{className:"input-list-searchbar",children:[Object(s.jsx)("input",{type:"text",placeholder:"Search",className:"input-list-search",value:g,onChange:function(e){return N(e.target.value)}}),Object(s.jsx)(te.a,{icon:ce.l,onClick:function(e){return N("")}})]}),Object(s.jsx)("div",{className:"input-list-items",children:A})]})]})]}):""},Ue=c(81),ze=c(33),Xe=c.n(ze);function Ge(e){var t=e.format.replace("tt","a"),c=Object(i.useState)(e.timeValue),n=Object(z.a)(c,2),a=n[0],r=n[1];var o,l=""!==a?Object(Oe.a)(Object(Ue.a)((o=a,new Date((new Date).toDateString()+" "+o)),e.modifiers.AddHour),t):"";return Object(s.jsxs)("div",{className:Xe.a.timeContainer,children:[Object(s.jsx)("input",{type:"time",name:"",id:"",className:Xe.a.timePicker,value:a,onChange:function(t){return c=t.target.value,r(c),void e.onTimeChange(c);var c}}),l,Object(s.jsx)(te.a,{className:Xe.a.btnClear,icon:ce.l,onClick:function(t){r(""),e.onTimeChange("")}})]})}var Qe=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,r=t.FormatDateTime,o=void 0===r?"hh:mm tt":r,l=t.IsBlank,j=void 0!==l&&l,b=t.IsVisible,u=void 0===b||b,m=t.AddHour,O=void 0===m?0:m,h=t.TimeValue,x=Object(d.c)(k),v=""===h||void 0===h?"".concat((new Date).getHours()<10?"0"+(new Date).getHours():(new Date).getHours(),":").concat((new Date).getMinutes()<10?"0"+(new Date).getMinutes():(new Date).getMinutes()):h,f=Object(i.useState)(j?"":v),p=Object(z.a)(f,2),g=p[0],N=p[1];return u?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(x?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsxs)("div",{className:"control",children:[Object(s.jsx)("h3",{children:n}),Object(s.jsx)(Ge,{format:o,timeValue:g,modifiers:{AddHour:O},onTimeChange:function(c){return function(c){console.log("---\x3e: onTimeChangeHandler -> pTime",c),N(c);var n=JSON.parse(JSON.stringify(t));""!==c?n.TimeValue=c:delete n.TimeValue,n.IsBlank=""===c,e.updateJson(n)}(c)}})]})]}):""},Ke=c(27),qe=c.n(Ke);function Ze(e){var t=e.format.replace(/ddd/g,"eee").replace("tt","a"),c=e.dateTimeValue,n=""!==c?"".concat(Object(Oe.a)(new Date(c),"yyyy-MM-dd")):Object(Oe.a)(new Date,"yyyy-MM-dd"),a=""!==c?"".concat(new Date(c).toLocaleTimeString()):(new Date).toLocaleTimeString();var i=""!==c?Object(Oe.a)(new Date(c),t):"";return Object(s.jsxs)("div",{className:qe.a.dateTimeContainer,children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"date",className:qe.a.datePicker,name:"",id:"",onChange:function(t){n=t.target.value,e.onDateTimeChange(t.target.value+" "+a)}}),Object(s.jsx)("input",{type:"time",className:qe.a.timePicker,name:"",id:"",onChange:function(t){a=t.target.value,e.onDateTimeChange(n+" "+t.target.value)}})]}),i,Object(s.jsx)(te.a,{className:qe.a.btnClear,icon:ce.l,onClick:function(){n="",a="",e.onDateTimeChange("")}})]})}var We=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,r=t.FormatDateTime,o=void 0===r?"yyyy-MM-dd hh:mm tt":r,l=t.IsBlank,j=void 0!==l&&l,b=t.IsVisible,u=void 0===b||b,m=t.DateTimeValue,O=Object(d.c)(k),h=""===m||void 0===m?"".concat(q().toDateString()+" "+q().toLocaleTimeString()):m,x=Object(i.useState)(j?"":h),v=Object(z.a)(x,2),f=v[0],p=v[1];return u?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(O?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsxs)("div",{className:"control",children:[Object(s.jsx)("h3",{children:n}),Object(s.jsx)(Ze,{format:o,dateTimeValue:f,onDateTimeChange:function(n){return function(n){p(n),$({Type:c,Id:a,DateTimeValue:n});var s=JSON.parse(JSON.stringify(t));""!==n?s.DateTimeValue=n:delete s.DateTimeValue,s.IsBlank=""===n,e.updateJson(s)}(n)}})]})]}):""};var $e=function(){return Object(s.jsx)("div",{children:"TimeLabel"})};var et=function(){return Object(s.jsx)("div",{children:"DateLabel"})};var tt=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,i=t.IsVisible,r=void 0===i||i,o=Object(d.b)(),l=Object(d.c)(k);return r?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(l?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("button",{className:"btn btn-secondary",onClick:function(){o(J("add-signature"))},children:n})})]}):""};var ct=function(e){var t=e.controlJson,c=t.Type,n=(t.Title,t.Id),a=t.IsVisible,r=void 0===a||a,o=t.Value,l=void 0===o?"[]":o,j=Object(d.c)(k),b=Object(d.c)(P),u=Object(d.b)(),m=Object(i.useState)(!1),O=Object(z.a)(m,2),h=O[0],x=O[1],v=Object(i.useState)({message:""}),f=Object(z.a)(v,2),p=f[0],g=f[1];Object(i.useEffect)((function(){if("add-signature"===b){var c=JSON.parse(l);c.push({Id:c.length+1,Name:document.getElementById("SignatureSignOnOffName").value,SignOnDateTime:Object(Oe.a)(new Date,"yyyy-MM-dd hh:mm:ss"),Signature:document.getElementById("SignatureSignOnOffSignature").src.replace("data:image/png;base64,","")});var n=JSON.parse(JSON.stringify(t));n.Value=JSON.stringify(c),e.updateJson(n),document.getElementById("signatureText").value="",document.getElementById("SignatureSignOnOffSignature").src="",u(J(""))}}),[b]);var N=JSON.parse(l).reverse().map((function(c,n){return Object(s.jsxs)("div",{className:"register-signature-row",children:[Object(s.jsx)("img",{src:"data:image/png;base64,".concat(c.Signature),alt:"",width:"250px"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:c.Name}),Object(s.jsxs)("p",{children:["Sign On: ",c.SignOnDateTime]}),Object(s.jsxs)("p",{children:["Sign Off:"," ",c.SignOffDateTime||Object(s.jsx)("button",{className:"btn btn-primary btn-small",onClick:function(){return n=c.Id,g({message:"Are you sure you want to sign off?",bgColor:"#000000",callback:function(){var c=JSON.parse(l),a=c.findIndex((function(e){return e.Id===n}));c[a].SignOffDateTime=Object(Oe.a)(new Date,"yyyy-MM-dd hh:mm:ss");var s=JSON.parse(JSON.stringify(t));s.Value=JSON.stringify(c),e.updateJson(s),x(!1)}}),void x(!0);var n},children:"Sign"})]})]})]},n)}));return r?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(j?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:n}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsx)("div",{className:"control",children:N}),Object(s.jsx)(le,{visibility:h,toggleVisibility:function(){return x(!h)},message:p.message,css:{backgroundColor:"#000000"},backdrop:"rgba(0,0,0,0.3)",callback:p.callback})]}):""},nt=c(17),at=c.n(nt);function st(e){var t=Object(i.useState)(""),c=Object(z.a)(t,2),n=c[0],a=c[1],r=Object(i.useRef)(null),o=e.items,l=e.allowMultiple,d=e.width,j=n.length>0?o.filter((function(e){return String(e.label).toLowerCase().includes(n.toLowerCase())})):o,b=function(e){var t=Object(i.useState)(e),c=Object(z.a)(t,2),n=c[0],a=c[1],s=Object(i.useRef)(null),r=function(e){s.current&&!s.current.contains(e.target)&&a(!1)};return Object(i.useEffect)((function(){return document.addEventListener("click",r,!0),function(){document.removeEventListener("click",r,!0)}}),[]),{ref:s,isVisible:n,setIsVisible:a}}(!1),u=b.ref,m=b.isVisible,O=b.setIsVisible;function h(t,c){(t.stopPropagation(),t.currentTarget.className.includes("delete"))?e.onSelectItem(e.selectedItems.filter((function(e){return e.Id!==c.Id}))):l?e.selectedItems.findIndex((function(e){return e===c}))>-1?e.onSelectItem(e.selectedItems.filter((function(e){return e!==c}))):e.onSelectItem([].concat(Object(He.a)(e.selectedItems),[c])):(e.onSelectItem([c]),O(!1))}Object(i.useEffect)((function(){r.current&&r.current.focus()}),[m]);var x="s"===d?at.a.ListSmall:"m"===d?at.a.ListMedium:at.a.ListLarge;return Object(s.jsxs)("div",{className:at.a.selectSearchable_Container,children:[Object(s.jsxs)("div",{className:at.a.selectSearchable_Header,onClick:function(e){return O(!m)},children:[Object(s.jsx)("div",{className:at.a.selectSearchable_SelectedContainer,children:e.selectedItems.map((function(e,t){return Object(s.jsxs)("div",{className:at.a.selectSearchable_SelectedItem,children:[e.label,Object(s.jsx)("span",{className:at.a.selectedItem_delete,onClick:function(t){return h(t,e)},children:Object(s.jsx)(te.a,{icon:ce.l})})]},t)}))}),Object(s.jsx)("div",{className:at.a.selectSearchable_Trigger,children:Object(s.jsx)(te.a,{icon:m?ce.a:ce.b})})]}),m&&Object(s.jsxs)("div",{style:{position:"absolute"},className:"".concat(at.a.selectSearchable_List," ").concat(x),ref:u,children:[Object(s.jsxs)("div",{className:at.a.selectSearchable_SearchContainer,children:[Object(s.jsx)("input",{type:"text",value:n,onChange:function(e){return a(e.target.value)},ref:r}),Object(s.jsx)(te.a,{icon:ce.l,onClick:function(e){return a("")}})]}),Object(s.jsx)("div",{className:at.a.selectSearchable_ItemsContainer,children:j.map((function(t,c){return Object(s.jsx)("span",{className:"".concat(at.a.selectItem," ").concat(e.selectedItems.findIndex((function(e){return t.label===e.label}))>-1?at.a.selectSearchable_SelectedItem_Selected:""),onClick:function(e){return h(e,t)},children:t.label},c)}))})]})]})}var it=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,r=t.IsVisible,o=void 0===r||r,l=Object(d.c)(k),j=Object(d.b)(),b=Object(i.useState)([]),u=Object(z.a)(b,2),m=u[0],O=u[1],h=Object(i.useState)([]),x=Object(z.a)(h,2),v=x[0],f=x[1],p=Object(i.useState)([]),g=Object(z.a)(p,2),N=(g[0],g[1]),S="".concat("https://api-uat.extrack.com/V1.0/","Project/").concat(1810,"/Directory/Contacts"),y=Object(d.c)(M),C=new Headers;C.append("Authorization","Bearer ".concat(y)),C.append("Content-Type","application/x-www-form-urlencoded");var I={method:"GET",headers:C,redirect:"follow"};return Object(i.useEffect)((function(){fetch(S,I).then((function(e){return e.json()})).then((function(e){O(e),f(e.map((function(e){return{Id:e.Id,label:"".concat(e.Contact.NameFirst," ").concat(e.Contact.NameLast," | ").concat(e.Company.Name)}})))}))}),[]),o?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(l?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsxs)("div",{className:"control",children:[Object(s.jsx)("h3",{children:n}),Object(s.jsx)(st,{items:v,selectedItems:[],allowMultiple:!1,onSelectItem:function(e){return function(e){var t=m.findIndex((function(t){return t.Id===e[0].Id})),c=m[t];j(w({name:"".concat(c.Contact.NameFirst," ").concat(c.Contact.NameLast),phoneNumber:c.Contact.Number,companyName:c.Company.Name})),j(J("add-contact")),N(e)}(e)}})]})]}):""};var rt=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,i=t.IsVisible,r=void 0===i||i,o=Object(d.b)(),l=Object(d.c)(k);return r?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(l?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("button",{className:"btn btn-secondary",onClick:function(e){o(J("add-contact"))},children:n})})]}):""};var ot=function(e){var t=e.controlJson,c=t.Type,n=(t.Title,t.Title2,t.Id),a=(t.Api,t.Value),r=void 0===a?"[]":a,o=t.IsVisible,l=void 0===o||o,j=Object(d.c)(P),b=Object(d.c)(A),u=Object(d.b)(),m=Object(d.c)(k);Object(i.useEffect)((function(){if("add-contact"===j){console.log("---\x3e currentAction: ",j),console.log("---\x3e currentContact: ",b);var c=JSON.parse(r);c.push({Name:b.name,Number:b.phoneNumber,CompanyName:b.companyName});var n=JSON.parse(JSON.stringify(t));n.Value=JSON.stringify(c),e.updateJson(n),u(J("reset-currentContact")),u(w(""))}}),[j]);var O=JSON.parse(r).map((function(c,n){return Object(s.jsxs)("div",{className:"listview-record",children:[Object(s.jsx)("div",{children:c.Name}),Object(s.jsx)("div",{children:c.CompanyName}),Object(s.jsx)("div",{children:c.Number}),Object(s.jsxs)("button",{className:"btn btn-secondary btn-small btn-icon",onClick:function(){return function(c){var n=JSON.parse(r).filter((function(e,t){return t!==c})),a=JSON.parse(JSON.stringify(t));a.Value=JSON.stringify(n),e.updateJson(a)}(n)},children:[Object(s.jsx)(te.a,{icon:ce.m}),"delete"]})]},n)}));return l?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(m?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:n}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("div",{className:"control-row",children:O})})]}):""};var lt=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,r=t.IsVisible,o=void 0===r||r,l=Object(d.c)(k),j=Object(d.b)(),b=Object(i.useState)([]),u=Object(z.a)(b,2),m=u[0],O=u[1],h=Object(i.useState)([]),x=Object(z.a)(h,2),v=x[0],f=x[1],p=Object(i.useState)([]),g=Object(z.a)(p,2),N=(g[0],g[1]),S="".concat("https://api-uat.extrack.com/V1.0/","Project/").concat(1810,"/Directory/Contacts"),y=Object(d.c)(M),C=new Headers;C.append("Authorization","Bearer ".concat(y)),C.append("Content-Type","application/x-www-form-urlencoded");var I={method:"GET",headers:C,redirect:"follow"};return Object(i.useEffect)((function(){fetch(S,I).then((function(e){return e.json()})).then((function(e){O(e),f(e.map((function(e){return{Id:e.Id,label:"".concat(e.Contact.NameFirst," ").concat(e.Contact.NameLast," | ").concat(e.Contact.Email||""," | ").concat(e.Company.Name)}})))}))}),[]),o?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(l?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",id:"",cols:"50",rows:"6",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsxs)("div",{className:"control",children:[Object(s.jsx)("h3",{children:n}),Object(s.jsx)(st,{items:v,selectedItems:[],allowMultiple:!1,onSelectItem:function(e){return function(e){var t=m.findIndex((function(t){return t.Id===e[0].Id})),c=m[t];j(w({name:"".concat(c.Contact.NameFirst," ").concat(c.Contact.NameLast),email:c.Contact.Email,companyName:c.Company.Name})),j(J("add-contact")),N(e)}(e)}})]})]}):""};var dt=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,i=t.IsVisible,r=void 0===i||i,o=Object(d.b)(),l=Object(d.c)(k);return r?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(l?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("button",{className:"btn btn-secondary",onClick:function(e){o(J("add-contact"))},children:n})})]}):""};var jt=function(e){var t=e.controlJson,c=t.Type,n=(t.Title,t.Title2,t.Id),a=(t.Api,t.Value),r=void 0===a?"[]":a,o=t.IsVisible,l=void 0===o||o,j=Object(d.c)(P),b=Object(d.c)(A),u=Object(d.b)(),m=Object(d.c)(k);Object(i.useEffect)((function(){if("add-contact"===j){console.log("---\x3e currentAction: ",j),console.log("---\x3e currentContact: ",b);var c=JSON.parse(r);c.push({Name:b.name,Email:b.email,CompanyName:b.companyName});var n=JSON.parse(JSON.stringify(t));n.Value=JSON.stringify(c),e.updateJson(n),u(J("reset-currentContact")),u(w(""))}}),[j]);var O=JSON.parse(r).map((function(c,n){return Object(s.jsxs)("div",{className:"listview-record",children:[Object(s.jsx)("div",{children:c.Name}),Object(s.jsx)("div",{children:c.CompanyName}),Object(s.jsx)("div",{children:c.Email}),Object(s.jsxs)("button",{className:"btn btn-secondary btn-small btn-icon",onClick:function(){return function(c){var n=JSON.parse(r).filter((function(e,t){return t!==c})),a=JSON.parse(JSON.stringify(t));a.Value=JSON.stringify(n),e.updateJson(a)}(n)},children:[Object(s.jsx)(te.a,{icon:ce.m}),"delete"]})]},n)}));return l?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(m?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:n}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("div",{className:"control-row",children:O})})]}):""};function bt(e){var t=e.controlJson,c=t.Id,n=t.Title,a=t.Type,r=t.IsVisible,o=void 0===r||r,l=t.Selection,j=t.XAxisName,b=t.YAxisName,u=t.Legend,m=t.Columns,O=t.Rows,h=t.Elements,x=Object(d.c)(k),v=u.ShowLegend,f=Object(i.useState)([]),p=Object(z.a)(f,2);p[0],p[1];function g(c){var n=c.split("-"),a=JSON.parse(JSON.stringify(t));if("single"===l)for(var s=0;s<a.Elements.length;s++)for(var i=0;i<a.Elements[s].Elements.length;i++)a.Elements[s].Elements[i].Value&&(a.Elements[s].Elements[i].Value=!1);var r=void 0!==h[n[0]].Elements[n[1]].Value&&h[n[0]].Elements[n[1]].Value;a.Elements[n[0]].Elements[n[1]].Value=!r,e.updateJson(a)}for(var N=[],S=0;S<h.length;S++)for(var y=function(e){var t=h[S].Elements[e],c="".concat(S,"-").concat(e),n="".concat(u.LegendValuesY.Name,": ").concat(u.LegendValuesY.Values[S],"\n").concat(u.LegendValuesX.Name,": ").concat(u.LegendValuesX.Values[e]);N.push(Object(s.jsx)("div",{id:c,title:n,className:"matrix-box matrix-button",style:{backgroundColor:t.Value?t.BackgroundColorSelected:t.BackgroundColor},onClick:function(){return g(c)},children:t.Title},c))},C=0;C<h[S].Elements.length;C++)y(C);var I=u.LegendValuesX.Values.map((function(e,t){return Object(s.jsx)("li",{children:e},t)})),T=u.LegendValuesY.Values.map((function(e,t){return Object(s.jsx)("li",{children:e},t)})),J=v?Object(s.jsxs)("div",{className:"matrix-legend",children:[Object(s.jsxs)("div",{children:[Object(s.jsxs)("h5",{children:[u.LegendValuesY.Name,":"]}),T]}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("h5",{children:[u.LegendValuesX.Name,":"]}),I]})]}):"";return o?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(x?"":"hidden"),children:[a,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:c}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsxs)("div",{className:"control",children:[Object(s.jsx)("h3",{children:n}),Object(s.jsxs)("div",{className:"control-row",children:[Object(s.jsxs)("div",{className:"matrix-container",children:[Object(s.jsx)("h4",{className:"matrix-yaxis",children:b}),Object(s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(".concat(m,", 1fr)"),gridTemplateRows:"repeat(".concat(O,", 1fr)")},children:N}),Object(s.jsx)("h4",{className:"matrix-xaxis",children:j})]}),Object(s.jsx)("div",{className:"matrix-footer",children:J})]})]})]}):""}var ut=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,i=t.IsVisible,r=void 0===i||i,o=Object(d.c)(k),l=Object(d.c)(E),j=Object(d.c)(L),b=l||j,u=b.DocumentNumber,m=b.Id,O=b.DocumentType,h=b.Title,x=b.Title1,v=b.Title2,f=b.OpenClosedStatus,p=b.UserRevisionNumber,g=b.UserRevisionDate,N=b.CreatedByContact,S=b.CreatedByCompany,y=Object(s.jsxs)("div",{className:"summary-details",children:[Object(s.jsxs)("div",{className:"summary-details-row",children:[Object(s.jsx)("h5",{children:"Document No"}),Object(s.jsx)("span",{children:u||""})]}),Object(s.jsxs)("div",{className:"summary-details-row",children:[Object(s.jsx)("h5",{children:"Document Id"}),Object(s.jsx)("span",{children:m||""})]}),Object(s.jsxs)("div",{className:"summary-details-row",children:[Object(s.jsx)("h5",{children:"Document Type"}),Object(s.jsx)("span",{children:O?O.Title:""})]}),Object(s.jsxs)("div",{className:"summary-details-row",children:[Object(s.jsx)("h5",{children:"Title"}),Object(s.jsx)("span",{children:h||""})]}),Object(s.jsxs)("div",{className:"summary-details-row",children:[Object(s.jsx)("h5",{children:"Title1"}),Object(s.jsx)("span",{children:x||""})]}),Object(s.jsxs)("div",{className:"summary-details-row",children:[Object(s.jsx)("h5",{children:"Title2"}),Object(s.jsx)("span",{children:v||""})]}),Object(s.jsxs)("div",{className:"summary-details-row",children:[Object(s.jsx)("h5",{children:"Document Status Open/Closed"}),Object(s.jsx)("span",{children:f||""})]}),Object(s.jsxs)("div",{className:"summary-details-row",children:[Object(s.jsx)("h5",{children:"Valid From"}),Object(s.jsx)("span",{})]}),Object(s.jsxs)("div",{className:"summary-details-row",children:[Object(s.jsx)("h5",{children:"Valid To"}),Object(s.jsx)("span",{})]}),Object(s.jsxs)("div",{className:"summary-details-row",children:[Object(s.jsx)("h5",{children:"Revision"}),Object(s.jsx)("span",{children:p||""})]}),Object(s.jsxs)("div",{className:"summary-details-row",children:[Object(s.jsx)("h5",{children:"Revision Date"}),Object(s.jsx)("span",{children:g||""})]}),Object(s.jsxs)("div",{className:"summary-details-row",children:[Object(s.jsx)("h5",{children:"Created By Contact"}),Object(s.jsx)("span",{children:N||""})]}),Object(s.jsxs)("div",{className:"summary-details-row",children:[Object(s.jsx)("h5",{children:"Created By Company"}),Object(s.jsx)("span",{children:S||""})]})]});return r?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(o?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsx)("div",{className:"control",children:Object(s.jsxs)("div",{className:"control-row",children:[Object(s.jsx)("h3",{htmlFor:"title",children:n}),y]})})]}):""};var mt=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,i=t.IsVisible,r=void 0===i||i,o=Object(d.c)(R),l=Object(d.c)(k),j=Object(d.b)(),b="sent"!==o?Object(s.jsx)("button",{className:"btn btn-secondary",onClick:function(e){j(T("tosend"))},children:n}):"Sent";return r?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(l?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsx)("div",{className:"control",children:b})]}):""};var Ot=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,i=t.IsVisible,r=void 0===i||i,o=Object(d.c)(k);return r?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(o?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("button",{className:"btn btn-secondary",children:n})})]}):""};var ht=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,i=t.IsVisible,r=void 0===i||i,o=Object(d.c)(k);return r?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(o?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("button",{className:"btn btn-secondary",children:n})})]}):""};var xt=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,i=t.IsVisible,r=void 0===i||i,o=(Object(d.b)(),Object(d.c)(k));return r?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(o?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("button",{className:"btn btn-secondary",onClick:function(e){console.log("clickSendEmailHandler")},children:n})})]}):""};var vt=function(e){var t=e.controlJson,c=t.Type,n=t.Title,a=t.Id,i=t.IsVisible,r=void 0===i||i,o=(Object(d.b)(),Object(d.c)(k));return r?Object(s.jsxs)("div",{className:"control-container",children:[Object(s.jsxs)("div",{className:"tag ".concat(o?"":"hidden"),children:[c,Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"control-id",children:a}),Object(s.jsx)("textarea",{name:"",cols:"10",rows:"5",value:JSON.stringify(t),disabled:!0})]}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("button",{className:"btn btn-secondary",onClick:function(e){console.log("clickSendSmsHandler")},children:n})})]}):""};function ft(e){var t=Object(d.c)(h),c=Object(d.c)(_),n=Object(d.c)(R),a=Object(d.c)(k),r=Object(d.b)(),o=(void 0!==t.Sections?t.Sections[c]:[]).Elements,l=Object(i.useState)([]),j=Object(z.a)(l,2),b=j[0],u=j[1],O={DocumentTableOfContents:ne,ListMulticontrol:ae,Label:se,Text:de,Repeatable:je,ButtonSubmitPurchase:be,ButtonAddDocketNumber:ue,API:me,Date:ge,Image:Ce,ImageSingle:Ie,ButtonAddReportDate:Te,QRScanner:Ve,QRScannerList:De,Signature:_e,SignatureDateTime:Ee,SignatureDate:Le,Matrix:Be,Checkbox:Me,Boolean:Ae,Trilean:Pe,TrileanLabel:Re,ListSingle:Fe,ListMultiple:Ye,Time:Qe,DateTime:We,TimeLabel:$e,DateLabel:et,ButtonAddSignature:tt,RegisterSignatures:ct,SearchableListEntryDialogSMS:it,ButtonAddSMS:rt,SearchableSMSListView:ot,SearchableListEntryDialogEmail:lt,ButtonAddEmail:dt,SearchableEmailListView:jt,MatrixButton:bt,DocumentSummaryGrid:ut,ButtonSubmitRegister:mt,ButtonCloseout:Ot,ButtonViewDocument:ht,ButtonSendEmail:xt,ButtonSendSMS:vt};function x(e){var c=Object(U.a)({},e);c.ElementId&&delete c.ElementId;var n=K(t,e.Id)[0],a=JSON.parse(JSON.stringify(t));switch(n.length){case 2:a.Sections[n[0]].Elements[n[1]]=c;break;case 3:a.Sections[n[0]].Elements[n[1]].Elements[n[2]]=c;break;case 4:a.Sections[n[0]].Elements[n[1]].Elements[n[2]].Elements[n[3]]=c;break;default:console.log("----\x3e Control path invalid!")}r(m(a))}Object(i.useEffect)((function(){if(void 0!==o){var e=o.map((function(e,t){console.log("\ud83d\ude80 -> controlsFromElements -> element",e.Id);var c,n=Q(e.Type);if(void 0!==O[n]){var a=O[n];c=Object(s.jsx)(a,{controlJson:e,updateJson:x},"".concat(n.substring(0,4).toLowerCase(),"-").concat(e.Id||e.ElementId))}return c}));u(e)}else u("")}),[o]);var v="loading"===n?Object(s.jsx)("div",{className:"skeleton",children:Array(14).fill("").map((function(e,t){return Object(s.jsx)("div",{className:"".concat(t%2===1?"skeleton-bloc-offset":""," skeleton-bloc")},t)}))}):b;return Object(s.jsx)("div",{children:Object(s.jsx)("div",{className:"".concat(a?"board board-debug":"board"),children:v})})}var pt=c(40),gt=c.n(pt);var Nt=function(e){var t=Object(d.b)(),c=Object(d.c)(h),n=void 0!==c.Sections?c.Sections.length:0,a=Object(d.c)(_),i=c.Sections?c.Sections.length:0,r=c.Sections?c.Sections[a].Title:"";return Object(s.jsxs)("nav",{children:[Object(s.jsxs)("div",{className:gt.a.row,children:[Object(s.jsx)("button",{className:"btn btn-primary",disabled:0===i||0===a,onClick:function(e){t(y(0))},children:Object(s.jsx)(te.a,{icon:ce.f})}),Object(s.jsx)("button",{className:"btn btn-primary",disabled:0===i||0===a,onClick:function(e){a>0&&t(C())},children:Object(s.jsx)(te.a,{icon:ce.j})}),Object(s.jsx)("div",{className:gt.a.title,children:Object(s.jsx)("h2",{children:r})}),Object(s.jsx)("button",{className:"btn btn-primary",disabled:0===i||a===i-1,onClick:function(e){a<i-1&&t(I())},children:Object(s.jsx)(te.a,{icon:ce.k})}),Object(s.jsx)("button",{className:"btn btn-primary",disabled:0===i||a===i-1,onClick:function(e){t(y(i-1))},children:Object(s.jsx)(te.a,{icon:ce.g})})]}),Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"currentSectionIndicator",children:[a+1," of ",n]})})]})};c(76);var St=function(e){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(ee,{}),Object(s.jsx)(Nt,{}),Object(s.jsx)(ft,{})]})};l.a.render(Object(s.jsx)(d.a,{store:Y,children:Object(s.jsx)(St,{})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.59a2a16c.chunk.js.map